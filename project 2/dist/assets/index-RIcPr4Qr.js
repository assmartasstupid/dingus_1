(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function s(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=s(i);fetch(i.href,a)}})();var At=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Sy(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function ky(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var s=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};s.prototype=t.prototype}else s={};return Object.defineProperty(s,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(s,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),s}var Zm={exports:{}},To={},Xm={exports:{}},se={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $i=Symbol.for("react.element"),_y=Symbol.for("react.portal"),Cy=Symbol.for("react.fragment"),Ty=Symbol.for("react.strict_mode"),Py=Symbol.for("react.profiler"),Ey=Symbol.for("react.provider"),Ay=Symbol.for("react.context"),Dy=Symbol.for("react.forward_ref"),Ry=Symbol.for("react.suspense"),Ly=Symbol.for("react.memo"),My=Symbol.for("react.lazy"),ah=Symbol.iterator;function Iy(e){return e===null||typeof e!="object"?null:(e=ah&&e[ah]||e["@@iterator"],typeof e=="function"?e:null)}var ep={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},tp=Object.assign,sp={};function _n(e,t,s){this.props=e,this.context=t,this.refs=sp,this.updater=s||ep}_n.prototype.isReactComponent={};_n.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};_n.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function rp(){}rp.prototype=_n.prototype;function ju(e,t,s){this.props=e,this.context=t,this.refs=sp,this.updater=s||ep}var Nu=ju.prototype=new rp;Nu.constructor=ju;tp(Nu,_n.prototype);Nu.isPureReactComponent=!0;var oh=Array.isArray,np=Object.prototype.hasOwnProperty,Su={current:null},ip={key:!0,ref:!0,__self:!0,__source:!0};function ap(e,t,s){var r,i={},a=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(a=""+t.key),t)np.call(t,r)&&!ip.hasOwnProperty(r)&&(i[r]=t[r]);var l=arguments.length-2;if(l===1)i.children=s;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];i.children=c}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:$i,type:e,key:a,ref:o,props:i,_owner:Su.current}}function Oy(e,t){return{$$typeof:$i,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function ku(e){return typeof e=="object"&&e!==null&&e.$$typeof===$i}function Vy(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(s){return t[s]})}var lh=/\/+/g;function dl(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Vy(""+e.key):t.toString(36)}function _a(e,t,s,r,i){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case $i:case _y:o=!0}}if(o)return o=e,i=i(o),e=r===""?"."+dl(o,0):r,oh(i)?(s="",e!=null&&(s=e.replace(lh,"$&/")+"/"),_a(i,t,s,"",function(u){return u})):i!=null&&(ku(i)&&(i=Oy(i,s+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(lh,"$&/")+"/")+e)),t.push(i)),1;if(o=0,r=r===""?".":r+":",oh(e))for(var l=0;l<e.length;l++){a=e[l];var c=r+dl(a,l);o+=_a(a,t,s,c,i)}else if(c=Iy(e),typeof c=="function")for(e=c.call(e),l=0;!(a=e.next()).done;)a=a.value,c=r+dl(a,l++),o+=_a(a,t,s,c,i);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function ea(e,t,s){if(e==null)return e;var r=[],i=0;return _a(e,r,"","",function(a){return t.call(s,a,i++)}),r}function $y(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(s){(e._status===0||e._status===-1)&&(e._status=1,e._result=s)},function(s){(e._status===0||e._status===-1)&&(e._status=2,e._result=s)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Xe={current:null},Ca={transition:null},Fy={ReactCurrentDispatcher:Xe,ReactCurrentBatchConfig:Ca,ReactCurrentOwner:Su};function op(){throw Error("act(...) is not supported in production builds of React.")}se.Children={map:ea,forEach:function(e,t,s){ea(e,function(){t.apply(this,arguments)},s)},count:function(e){var t=0;return ea(e,function(){t++}),t},toArray:function(e){return ea(e,function(t){return t})||[]},only:function(e){if(!ku(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};se.Component=_n;se.Fragment=Cy;se.Profiler=Py;se.PureComponent=ju;se.StrictMode=Ty;se.Suspense=Ry;se.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Fy;se.act=op;se.cloneElement=function(e,t,s){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=tp({},e.props),i=e.key,a=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,o=Su.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)np.call(t,c)&&!ip.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=s;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:$i,type:e.type,key:i,ref:a,props:r,_owner:o}};se.createContext=function(e){return e={$$typeof:Ay,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Ey,_context:e},e.Consumer=e};se.createElement=ap;se.createFactory=function(e){var t=ap.bind(null,e);return t.type=e,t};se.createRef=function(){return{current:null}};se.forwardRef=function(e){return{$$typeof:Dy,render:e}};se.isValidElement=ku;se.lazy=function(e){return{$$typeof:My,_payload:{_status:-1,_result:e},_init:$y}};se.memo=function(e,t){return{$$typeof:Ly,type:e,compare:t===void 0?null:t}};se.startTransition=function(e){var t=Ca.transition;Ca.transition={};try{e()}finally{Ca.transition=t}};se.unstable_act=op;se.useCallback=function(e,t){return Xe.current.useCallback(e,t)};se.useContext=function(e){return Xe.current.useContext(e)};se.useDebugValue=function(){};se.useDeferredValue=function(e){return Xe.current.useDeferredValue(e)};se.useEffect=function(e,t){return Xe.current.useEffect(e,t)};se.useId=function(){return Xe.current.useId()};se.useImperativeHandle=function(e,t,s){return Xe.current.useImperativeHandle(e,t,s)};se.useInsertionEffect=function(e,t){return Xe.current.useInsertionEffect(e,t)};se.useLayoutEffect=function(e,t){return Xe.current.useLayoutEffect(e,t)};se.useMemo=function(e,t){return Xe.current.useMemo(e,t)};se.useReducer=function(e,t,s){return Xe.current.useReducer(e,t,s)};se.useRef=function(e){return Xe.current.useRef(e)};se.useState=function(e){return Xe.current.useState(e)};se.useSyncExternalStore=function(e,t,s){return Xe.current.useSyncExternalStore(e,t,s)};se.useTransition=function(){return Xe.current.useTransition()};se.version="18.3.1";Xm.exports=se;var N=Xm.exports;const mt=Sy(N);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Uy=N,By=Symbol.for("react.element"),zy=Symbol.for("react.fragment"),Hy=Object.prototype.hasOwnProperty,qy=Uy.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Wy={key:!0,ref:!0,__self:!0,__source:!0};function lp(e,t,s){var r,i={},a=null,o=null;s!==void 0&&(a=""+s),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)Hy.call(t,r)&&!Wy.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:By,type:e,key:a,ref:o,props:i,_owner:qy.current}}To.Fragment=zy;To.jsx=lp;To.jsxs=lp;Zm.exports=To;var n=Zm.exports,cp={exports:{}},jt={},up={exports:{}},dp={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(R,M){var H=R.length;R.push(M);e:for(;0<H;){var U=H-1>>>1,ie=R[U];if(0<i(ie,M))R[U]=M,R[H]=ie,H=U;else break e}}function s(R){return R.length===0?null:R[0]}function r(R){if(R.length===0)return null;var M=R[0],H=R.pop();if(H!==M){R[0]=H;e:for(var U=0,ie=R.length,ft=ie>>>1;U<ft;){var Me=2*(U+1)-1,Lt=R[Me],Ae=Me+1,st=R[Ae];if(0>i(Lt,H))Ae<ie&&0>i(st,Lt)?(R[U]=st,R[Ae]=H,U=Ae):(R[U]=Lt,R[Me]=H,U=Me);else if(Ae<ie&&0>i(st,H))R[U]=st,R[Ae]=H,U=Ae;else break e}}return M}function i(R,M){var H=R.sortIndex-M.sortIndex;return H!==0?H:R.id-M.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,h=null,f=3,x=!1,y=!1,j=!1,w=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function p(R){for(var M=s(u);M!==null;){if(M.callback===null)r(u);else if(M.startTime<=R)r(u),M.sortIndex=M.expirationTime,t(c,M);else break;M=s(u)}}function v(R){if(j=!1,p(R),!y)if(s(c)!==null)y=!0,X(b);else{var M=s(u);M!==null&&E(v,M.startTime-R)}}function b(R,M){y=!1,j&&(j=!1,g(D),D=-1),x=!0;var H=f;try{for(p(M),h=s(c);h!==null&&(!(h.expirationTime>M)||R&&!k());){var U=h.callback;if(typeof U=="function"){h.callback=null,f=h.priorityLevel;var ie=U(h.expirationTime<=M);M=e.unstable_now(),typeof ie=="function"?h.callback=ie:h===s(c)&&r(c),p(M)}else r(c);h=s(c)}if(h!==null)var ft=!0;else{var Me=s(u);Me!==null&&E(v,Me.startTime-M),ft=!1}return ft}finally{h=null,f=H,x=!1}}var C=!1,T=null,D=-1,$=5,z=-1;function k(){return!(e.unstable_now()-z<$)}function O(){if(T!==null){var R=e.unstable_now();z=R;var M=!0;try{M=T(!0,R)}finally{M?L():(C=!1,T=null)}}else C=!1}var L;if(typeof m=="function")L=function(){m(O)};else if(typeof MessageChannel<"u"){var W=new MessageChannel,ee=W.port2;W.port1.onmessage=O,L=function(){ee.postMessage(null)}}else L=function(){w(O,0)};function X(R){T=R,C||(C=!0,L())}function E(R,M){D=w(function(){R(e.unstable_now())},M)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(R){R.callback=null},e.unstable_continueExecution=function(){y||x||(y=!0,X(b))},e.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):$=0<R?Math.floor(1e3/R):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return s(c)},e.unstable_next=function(R){switch(f){case 1:case 2:case 3:var M=3;break;default:M=f}var H=f;f=M;try{return R()}finally{f=H}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(R,M){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var H=f;f=R;try{return M()}finally{f=H}},e.unstable_scheduleCallback=function(R,M,H){var U=e.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?U+H:U):H=U,R){case 1:var ie=-1;break;case 2:ie=250;break;case 5:ie=1073741823;break;case 4:ie=1e4;break;default:ie=5e3}return ie=H+ie,R={id:d++,callback:M,priorityLevel:R,startTime:H,expirationTime:ie,sortIndex:-1},H>U?(R.sortIndex=H,t(u,R),s(c)===null&&R===s(u)&&(j?(g(D),D=-1):j=!0,E(v,H-U))):(R.sortIndex=ie,t(c,R),y||x||(y=!0,X(b))),R},e.unstable_shouldYield=k,e.unstable_wrapCallback=function(R){var M=f;return function(){var H=f;f=M;try{return R.apply(this,arguments)}finally{f=H}}}})(dp);up.exports=dp;var Ky=up.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gy=N,vt=Ky;function I(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,s=1;s<arguments.length;s++)t+="&args[]="+encodeURIComponent(arguments[s]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var hp=new Set,xi={};function Pr(e,t){pn(e,t),pn(e+"Capture",t)}function pn(e,t){for(xi[e]=t,e=0;e<t.length;e++)hp.add(t[e])}var ps=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),nc=Object.prototype.hasOwnProperty,Yy=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ch={},uh={};function Qy(e){return nc.call(uh,e)?!0:nc.call(ch,e)?!1:Yy.test(e)?uh[e]=!0:(ch[e]=!0,!1)}function Jy(e,t,s,r){if(s!==null&&s.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:s!==null?!s.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Zy(e,t,s,r){if(t===null||typeof t>"u"||Jy(e,t,s,r))return!0;if(r)return!1;if(s!==null)switch(s.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function et(e,t,s,r,i,a,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=s,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var Fe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Fe[e]=new et(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Fe[t]=new et(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Fe[e]=new et(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Fe[e]=new et(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Fe[e]=new et(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Fe[e]=new et(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Fe[e]=new et(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Fe[e]=new et(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Fe[e]=new et(e,5,!1,e.toLowerCase(),null,!1,!1)});var _u=/[\-:]([a-z])/g;function Cu(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(_u,Cu);Fe[t]=new et(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(_u,Cu);Fe[t]=new et(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(_u,Cu);Fe[t]=new et(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Fe[e]=new et(e,1,!1,e.toLowerCase(),null,!1,!1)});Fe.xlinkHref=new et("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Fe[e]=new et(e,1,!1,e.toLowerCase(),null,!0,!0)});function Tu(e,t,s,r){var i=Fe.hasOwnProperty(t)?Fe[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Zy(t,s,i,r)&&(s=null),r||i===null?Qy(t)&&(s===null?e.removeAttribute(t):e.setAttribute(t,""+s)):i.mustUseProperty?e[i.propertyName]=s===null?i.type===3?!1:"":s:(t=i.attributeName,r=i.attributeNamespace,s===null?e.removeAttribute(t):(i=i.type,s=i===3||i===4&&s===!0?"":""+s,r?e.setAttributeNS(r,t,s):e.setAttribute(t,s))))}var Ss=Gy.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ta=Symbol.for("react.element"),Hr=Symbol.for("react.portal"),qr=Symbol.for("react.fragment"),Pu=Symbol.for("react.strict_mode"),ic=Symbol.for("react.profiler"),fp=Symbol.for("react.provider"),mp=Symbol.for("react.context"),Eu=Symbol.for("react.forward_ref"),ac=Symbol.for("react.suspense"),oc=Symbol.for("react.suspense_list"),Au=Symbol.for("react.memo"),Ps=Symbol.for("react.lazy"),pp=Symbol.for("react.offscreen"),dh=Symbol.iterator;function An(e){return e===null||typeof e!="object"?null:(e=dh&&e[dh]||e["@@iterator"],typeof e=="function"?e:null)}var ve=Object.assign,hl;function Hn(e){if(hl===void 0)try{throw Error()}catch(s){var t=s.stack.trim().match(/\n( *(at )?)/);hl=t&&t[1]||""}return`
`+hl+e}var fl=!1;function ml(e,t){if(!e||fl)return"";fl=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),a=r.stack.split(`
`),o=i.length-1,l=a.length-1;1<=o&&0<=l&&i[o]!==a[l];)l--;for(;1<=o&&0<=l;o--,l--)if(i[o]!==a[l]){if(o!==1||l!==1)do if(o--,l--,0>l||i[o]!==a[l]){var c=`
`+i[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{fl=!1,Error.prepareStackTrace=s}return(e=e?e.displayName||e.name:"")?Hn(e):""}function Xy(e){switch(e.tag){case 5:return Hn(e.type);case 16:return Hn("Lazy");case 13:return Hn("Suspense");case 19:return Hn("SuspenseList");case 0:case 2:case 15:return e=ml(e.type,!1),e;case 11:return e=ml(e.type.render,!1),e;case 1:return e=ml(e.type,!0),e;default:return""}}function lc(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case qr:return"Fragment";case Hr:return"Portal";case ic:return"Profiler";case Pu:return"StrictMode";case ac:return"Suspense";case oc:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case mp:return(e.displayName||"Context")+".Consumer";case fp:return(e._context.displayName||"Context")+".Provider";case Eu:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Au:return t=e.displayName||null,t!==null?t:lc(e.type)||"Memo";case Ps:t=e._payload,e=e._init;try{return lc(e(t))}catch{}}return null}function ev(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return lc(t);case 8:return t===Pu?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Ys(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function gp(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function tv(e){var t=gp(e)?"checked":"value",s=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var i=s.get,a=s.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,a.call(this,o)}}),Object.defineProperty(e,t,{enumerable:s.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function sa(e){e._valueTracker||(e._valueTracker=tv(e))}function xp(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var s=t.getValue(),r="";return e&&(r=gp(e)?e.checked?"true":"false":e.value),e=r,e!==s?(t.setValue(e),!0):!1}function Ua(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function cc(e,t){var s=t.checked;return ve({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:s??e._wrapperState.initialChecked})}function hh(e,t){var s=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;s=Ys(t.value!=null?t.value:s),e._wrapperState={initialChecked:r,initialValue:s,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function yp(e,t){t=t.checked,t!=null&&Tu(e,"checked",t,!1)}function uc(e,t){yp(e,t);var s=Ys(t.value),r=t.type;if(s!=null)r==="number"?(s===0&&e.value===""||e.value!=s)&&(e.value=""+s):e.value!==""+s&&(e.value=""+s);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?dc(e,t.type,s):t.hasOwnProperty("defaultValue")&&dc(e,t.type,Ys(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function fh(e,t,s){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,s||t===e.value||(e.value=t),e.defaultValue=t}s=e.name,s!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,s!==""&&(e.name=s)}function dc(e,t,s){(t!=="number"||Ua(e.ownerDocument)!==e)&&(s==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+s&&(e.defaultValue=""+s))}var qn=Array.isArray;function ln(e,t,s,r){if(e=e.options,t){t={};for(var i=0;i<s.length;i++)t["$"+s[i]]=!0;for(s=0;s<e.length;s++)i=t.hasOwnProperty("$"+e[s].value),e[s].selected!==i&&(e[s].selected=i),i&&r&&(e[s].defaultSelected=!0)}else{for(s=""+Ys(s),t=null,i=0;i<e.length;i++){if(e[i].value===s){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function hc(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(I(91));return ve({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function mh(e,t){var s=t.value;if(s==null){if(s=t.children,t=t.defaultValue,s!=null){if(t!=null)throw Error(I(92));if(qn(s)){if(1<s.length)throw Error(I(93));s=s[0]}t=s}t==null&&(t=""),s=t}e._wrapperState={initialValue:Ys(s)}}function vp(e,t){var s=Ys(t.value),r=Ys(t.defaultValue);s!=null&&(s=""+s,s!==e.value&&(e.value=s),t.defaultValue==null&&e.defaultValue!==s&&(e.defaultValue=s)),r!=null&&(e.defaultValue=""+r)}function ph(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function wp(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function fc(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?wp(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ra,bp=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,s,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,s,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(ra=ra||document.createElement("div"),ra.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ra.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function yi(e,t){if(t){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=t;return}}e.textContent=t}var Qn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},sv=["Webkit","ms","Moz","O"];Object.keys(Qn).forEach(function(e){sv.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Qn[t]=Qn[e]})});function jp(e,t,s){return t==null||typeof t=="boolean"||t===""?"":s||typeof t!="number"||t===0||Qn.hasOwnProperty(e)&&Qn[e]?(""+t).trim():t+"px"}function Np(e,t){e=e.style;for(var s in t)if(t.hasOwnProperty(s)){var r=s.indexOf("--")===0,i=jp(s,t[s],r);s==="float"&&(s="cssFloat"),r?e.setProperty(s,i):e[s]=i}}var rv=ve({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function mc(e,t){if(t){if(rv[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(I(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(I(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(I(61))}if(t.style!=null&&typeof t.style!="object")throw Error(I(62))}}function pc(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var gc=null;function Du(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var xc=null,cn=null,un=null;function gh(e){if(e=Bi(e)){if(typeof xc!="function")throw Error(I(280));var t=e.stateNode;t&&(t=Ro(t),xc(e.stateNode,e.type,t))}}function Sp(e){cn?un?un.push(e):un=[e]:cn=e}function kp(){if(cn){var e=cn,t=un;if(un=cn=null,gh(e),t)for(e=0;e<t.length;e++)gh(t[e])}}function _p(e,t){return e(t)}function Cp(){}var pl=!1;function Tp(e,t,s){if(pl)return e(t,s);pl=!0;try{return _p(e,t,s)}finally{pl=!1,(cn!==null||un!==null)&&(Cp(),kp())}}function vi(e,t){var s=e.stateNode;if(s===null)return null;var r=Ro(s);if(r===null)return null;s=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(I(231,t,typeof s));return s}var yc=!1;if(ps)try{var Dn={};Object.defineProperty(Dn,"passive",{get:function(){yc=!0}}),window.addEventListener("test",Dn,Dn),window.removeEventListener("test",Dn,Dn)}catch{yc=!1}function nv(e,t,s,r,i,a,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(s,u)}catch(d){this.onError(d)}}var Jn=!1,Ba=null,za=!1,vc=null,iv={onError:function(e){Jn=!0,Ba=e}};function av(e,t,s,r,i,a,o,l,c){Jn=!1,Ba=null,nv.apply(iv,arguments)}function ov(e,t,s,r,i,a,o,l,c){if(av.apply(this,arguments),Jn){if(Jn){var u=Ba;Jn=!1,Ba=null}else throw Error(I(198));za||(za=!0,vc=u)}}function Er(e){var t=e,s=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(s=t.return),e=t.return;while(e)}return t.tag===3?s:null}function Pp(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function xh(e){if(Er(e)!==e)throw Error(I(188))}function lv(e){var t=e.alternate;if(!t){if(t=Er(e),t===null)throw Error(I(188));return t!==e?null:e}for(var s=e,r=t;;){var i=s.return;if(i===null)break;var a=i.alternate;if(a===null){if(r=i.return,r!==null){s=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===s)return xh(i),e;if(a===r)return xh(i),t;a=a.sibling}throw Error(I(188))}if(s.return!==r.return)s=i,r=a;else{for(var o=!1,l=i.child;l;){if(l===s){o=!0,s=i,r=a;break}if(l===r){o=!0,r=i,s=a;break}l=l.sibling}if(!o){for(l=a.child;l;){if(l===s){o=!0,s=a,r=i;break}if(l===r){o=!0,r=a,s=i;break}l=l.sibling}if(!o)throw Error(I(189))}}if(s.alternate!==r)throw Error(I(190))}if(s.tag!==3)throw Error(I(188));return s.stateNode.current===s?e:t}function Ep(e){return e=lv(e),e!==null?Ap(e):null}function Ap(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Ap(e);if(t!==null)return t;e=e.sibling}return null}var Dp=vt.unstable_scheduleCallback,yh=vt.unstable_cancelCallback,cv=vt.unstable_shouldYield,uv=vt.unstable_requestPaint,Ne=vt.unstable_now,dv=vt.unstable_getCurrentPriorityLevel,Ru=vt.unstable_ImmediatePriority,Rp=vt.unstable_UserBlockingPriority,Ha=vt.unstable_NormalPriority,hv=vt.unstable_LowPriority,Lp=vt.unstable_IdlePriority,Po=null,Zt=null;function fv(e){if(Zt&&typeof Zt.onCommitFiberRoot=="function")try{Zt.onCommitFiberRoot(Po,e,void 0,(e.current.flags&128)===128)}catch{}}var zt=Math.clz32?Math.clz32:gv,mv=Math.log,pv=Math.LN2;function gv(e){return e>>>=0,e===0?32:31-(mv(e)/pv|0)|0}var na=64,ia=4194304;function Wn(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function qa(e,t){var s=e.pendingLanes;if(s===0)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=s&268435455;if(o!==0){var l=o&~i;l!==0?r=Wn(l):(a&=o,a!==0&&(r=Wn(a)))}else o=s&~i,o!==0?r=Wn(o):a!==0&&(r=Wn(a));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,a=t&-t,i>=a||i===16&&(a&4194240)!==0))return t;if(r&4&&(r|=s&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)s=31-zt(t),i=1<<s,r|=e[s],t&=~i;return r}function xv(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function yv(e,t){for(var s=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-zt(a),l=1<<o,c=i[o];c===-1?(!(l&s)||l&r)&&(i[o]=xv(l,t)):c<=t&&(e.expiredLanes|=l),a&=~l}}function wc(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Mp(){var e=na;return na<<=1,!(na&4194240)&&(na=64),e}function gl(e){for(var t=[],s=0;31>s;s++)t.push(e);return t}function Fi(e,t,s){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-zt(t),e[t]=s}function vv(e,t){var s=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<s;){var i=31-zt(s),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,s&=~a}}function Lu(e,t){var s=e.entangledLanes|=t;for(e=e.entanglements;s;){var r=31-zt(s),i=1<<r;i&t|e[r]&t&&(e[r]|=t),s&=~i}}var ae=0;function Ip(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Op,Mu,Vp,$p,Fp,bc=!1,aa=[],$s=null,Fs=null,Us=null,wi=new Map,bi=new Map,Rs=[],wv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function vh(e,t){switch(e){case"focusin":case"focusout":$s=null;break;case"dragenter":case"dragleave":Fs=null;break;case"mouseover":case"mouseout":Us=null;break;case"pointerover":case"pointerout":wi.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":bi.delete(t.pointerId)}}function Rn(e,t,s,r,i,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:s,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},t!==null&&(t=Bi(t),t!==null&&Mu(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function bv(e,t,s,r,i){switch(t){case"focusin":return $s=Rn($s,e,t,s,r,i),!0;case"dragenter":return Fs=Rn(Fs,e,t,s,r,i),!0;case"mouseover":return Us=Rn(Us,e,t,s,r,i),!0;case"pointerover":var a=i.pointerId;return wi.set(a,Rn(wi.get(a)||null,e,t,s,r,i)),!0;case"gotpointercapture":return a=i.pointerId,bi.set(a,Rn(bi.get(a)||null,e,t,s,r,i)),!0}return!1}function Up(e){var t=mr(e.target);if(t!==null){var s=Er(t);if(s!==null){if(t=s.tag,t===13){if(t=Pp(s),t!==null){e.blockedOn=t,Fp(e.priority,function(){Vp(s)});return}}else if(t===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ta(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var s=jc(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(s===null){s=e.nativeEvent;var r=new s.constructor(s.type,s);gc=r,s.target.dispatchEvent(r),gc=null}else return t=Bi(s),t!==null&&Mu(t),e.blockedOn=s,!1;t.shift()}return!0}function wh(e,t,s){Ta(e)&&s.delete(t)}function jv(){bc=!1,$s!==null&&Ta($s)&&($s=null),Fs!==null&&Ta(Fs)&&(Fs=null),Us!==null&&Ta(Us)&&(Us=null),wi.forEach(wh),bi.forEach(wh)}function Ln(e,t){e.blockedOn===t&&(e.blockedOn=null,bc||(bc=!0,vt.unstable_scheduleCallback(vt.unstable_NormalPriority,jv)))}function ji(e){function t(i){return Ln(i,e)}if(0<aa.length){Ln(aa[0],e);for(var s=1;s<aa.length;s++){var r=aa[s];r.blockedOn===e&&(r.blockedOn=null)}}for($s!==null&&Ln($s,e),Fs!==null&&Ln(Fs,e),Us!==null&&Ln(Us,e),wi.forEach(t),bi.forEach(t),s=0;s<Rs.length;s++)r=Rs[s],r.blockedOn===e&&(r.blockedOn=null);for(;0<Rs.length&&(s=Rs[0],s.blockedOn===null);)Up(s),s.blockedOn===null&&Rs.shift()}var dn=Ss.ReactCurrentBatchConfig,Wa=!0;function Nv(e,t,s,r){var i=ae,a=dn.transition;dn.transition=null;try{ae=1,Iu(e,t,s,r)}finally{ae=i,dn.transition=a}}function Sv(e,t,s,r){var i=ae,a=dn.transition;dn.transition=null;try{ae=4,Iu(e,t,s,r)}finally{ae=i,dn.transition=a}}function Iu(e,t,s,r){if(Wa){var i=jc(e,t,s,r);if(i===null)_l(e,t,r,Ka,s),vh(e,r);else if(bv(i,e,t,s,r))r.stopPropagation();else if(vh(e,r),t&4&&-1<wv.indexOf(e)){for(;i!==null;){var a=Bi(i);if(a!==null&&Op(a),a=jc(e,t,s,r),a===null&&_l(e,t,r,Ka,s),a===i)break;i=a}i!==null&&r.stopPropagation()}else _l(e,t,r,null,s)}}var Ka=null;function jc(e,t,s,r){if(Ka=null,e=Du(r),e=mr(e),e!==null)if(t=Er(e),t===null)e=null;else if(s=t.tag,s===13){if(e=Pp(t),e!==null)return e;e=null}else if(s===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Ka=e,null}function Bp(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(dv()){case Ru:return 1;case Rp:return 4;case Ha:case hv:return 16;case Lp:return 536870912;default:return 16}default:return 16}}var Os=null,Ou=null,Pa=null;function zp(){if(Pa)return Pa;var e,t=Ou,s=t.length,r,i="value"in Os?Os.value:Os.textContent,a=i.length;for(e=0;e<s&&t[e]===i[e];e++);var o=s-e;for(r=1;r<=o&&t[s-r]===i[a-r];r++);return Pa=i.slice(e,1<r?1-r:void 0)}function Ea(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function oa(){return!0}function bh(){return!1}function Nt(e){function t(s,r,i,a,o){this._reactName=s,this._targetInst=i,this.type=r,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(s=e[l],this[l]=s?s(a):a[l]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?oa:bh,this.isPropagationStopped=bh,this}return ve(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=oa)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=oa)},persist:function(){},isPersistent:oa}),t}var Cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Vu=Nt(Cn),Ui=ve({},Cn,{view:0,detail:0}),kv=Nt(Ui),xl,yl,Mn,Eo=ve({},Ui,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:$u,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Mn&&(Mn&&e.type==="mousemove"?(xl=e.screenX-Mn.screenX,yl=e.screenY-Mn.screenY):yl=xl=0,Mn=e),xl)},movementY:function(e){return"movementY"in e?e.movementY:yl}}),jh=Nt(Eo),_v=ve({},Eo,{dataTransfer:0}),Cv=Nt(_v),Tv=ve({},Ui,{relatedTarget:0}),vl=Nt(Tv),Pv=ve({},Cn,{animationName:0,elapsedTime:0,pseudoElement:0}),Ev=Nt(Pv),Av=ve({},Cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Dv=Nt(Av),Rv=ve({},Cn,{data:0}),Nh=Nt(Rv),Lv={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Mv={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Iv={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ov(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Iv[e])?!!t[e]:!1}function $u(){return Ov}var Vv=ve({},Ui,{key:function(e){if(e.key){var t=Lv[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ea(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Mv[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:$u,charCode:function(e){return e.type==="keypress"?Ea(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ea(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),$v=Nt(Vv),Fv=ve({},Eo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Sh=Nt(Fv),Uv=ve({},Ui,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:$u}),Bv=Nt(Uv),zv=ve({},Cn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Hv=Nt(zv),qv=ve({},Eo,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Wv=Nt(qv),Kv=[9,13,27,32],Fu=ps&&"CompositionEvent"in window,Zn=null;ps&&"documentMode"in document&&(Zn=document.documentMode);var Gv=ps&&"TextEvent"in window&&!Zn,Hp=ps&&(!Fu||Zn&&8<Zn&&11>=Zn),kh=" ",_h=!1;function qp(e,t){switch(e){case"keyup":return Kv.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Wp(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Wr=!1;function Yv(e,t){switch(e){case"compositionend":return Wp(t);case"keypress":return t.which!==32?null:(_h=!0,kh);case"textInput":return e=t.data,e===kh&&_h?null:e;default:return null}}function Qv(e,t){if(Wr)return e==="compositionend"||!Fu&&qp(e,t)?(e=zp(),Pa=Ou=Os=null,Wr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Hp&&t.locale!=="ko"?null:t.data;default:return null}}var Jv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ch(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Jv[e.type]:t==="textarea"}function Kp(e,t,s,r){Sp(r),t=Ga(t,"onChange"),0<t.length&&(s=new Vu("onChange","change",null,s,r),e.push({event:s,listeners:t}))}var Xn=null,Ni=null;function Zv(e){n0(e,0)}function Ao(e){var t=Yr(e);if(xp(t))return e}function Xv(e,t){if(e==="change")return t}var Gp=!1;if(ps){var wl;if(ps){var bl="oninput"in document;if(!bl){var Th=document.createElement("div");Th.setAttribute("oninput","return;"),bl=typeof Th.oninput=="function"}wl=bl}else wl=!1;Gp=wl&&(!document.documentMode||9<document.documentMode)}function Ph(){Xn&&(Xn.detachEvent("onpropertychange",Yp),Ni=Xn=null)}function Yp(e){if(e.propertyName==="value"&&Ao(Ni)){var t=[];Kp(t,Ni,e,Du(e)),Tp(Zv,t)}}function ew(e,t,s){e==="focusin"?(Ph(),Xn=t,Ni=s,Xn.attachEvent("onpropertychange",Yp)):e==="focusout"&&Ph()}function tw(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ao(Ni)}function sw(e,t){if(e==="click")return Ao(t)}function rw(e,t){if(e==="input"||e==="change")return Ao(t)}function nw(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var qt=typeof Object.is=="function"?Object.is:nw;function Si(e,t){if(qt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var s=Object.keys(e),r=Object.keys(t);if(s.length!==r.length)return!1;for(r=0;r<s.length;r++){var i=s[r];if(!nc.call(t,i)||!qt(e[i],t[i]))return!1}return!0}function Eh(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ah(e,t){var s=Eh(e);e=0;for(var r;s;){if(s.nodeType===3){if(r=e+s.textContent.length,e<=t&&r>=t)return{node:s,offset:t-e};e=r}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=Eh(s)}}function Qp(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Qp(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Jp(){for(var e=window,t=Ua();t instanceof e.HTMLIFrameElement;){try{var s=typeof t.contentWindow.location.href=="string"}catch{s=!1}if(s)e=t.contentWindow;else break;t=Ua(e.document)}return t}function Uu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function iw(e){var t=Jp(),s=e.focusedElem,r=e.selectionRange;if(t!==s&&s&&s.ownerDocument&&Qp(s.ownerDocument.documentElement,s)){if(r!==null&&Uu(s)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in s)s.selectionStart=t,s.selectionEnd=Math.min(e,s.value.length);else if(e=(t=s.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=s.textContent.length,a=Math.min(r.start,i);r=r.end===void 0?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=Ah(s,a);var o=Ah(s,r);i&&o&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=s;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<t.length;s++)e=t[s],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var aw=ps&&"documentMode"in document&&11>=document.documentMode,Kr=null,Nc=null,ei=null,Sc=!1;function Dh(e,t,s){var r=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Sc||Kr==null||Kr!==Ua(r)||(r=Kr,"selectionStart"in r&&Uu(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ei&&Si(ei,r)||(ei=r,r=Ga(Nc,"onSelect"),0<r.length&&(t=new Vu("onSelect","select",null,t,s),e.push({event:t,listeners:r}),t.target=Kr)))}function la(e,t){var s={};return s[e.toLowerCase()]=t.toLowerCase(),s["Webkit"+e]="webkit"+t,s["Moz"+e]="moz"+t,s}var Gr={animationend:la("Animation","AnimationEnd"),animationiteration:la("Animation","AnimationIteration"),animationstart:la("Animation","AnimationStart"),transitionend:la("Transition","TransitionEnd")},jl={},Zp={};ps&&(Zp=document.createElement("div").style,"AnimationEvent"in window||(delete Gr.animationend.animation,delete Gr.animationiteration.animation,delete Gr.animationstart.animation),"TransitionEvent"in window||delete Gr.transitionend.transition);function Do(e){if(jl[e])return jl[e];if(!Gr[e])return e;var t=Gr[e],s;for(s in t)if(t.hasOwnProperty(s)&&s in Zp)return jl[e]=t[s];return e}var Xp=Do("animationend"),e0=Do("animationiteration"),t0=Do("animationstart"),s0=Do("transitionend"),r0=new Map,Rh="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function er(e,t){r0.set(e,t),Pr(t,[e])}for(var Nl=0;Nl<Rh.length;Nl++){var Sl=Rh[Nl],ow=Sl.toLowerCase(),lw=Sl[0].toUpperCase()+Sl.slice(1);er(ow,"on"+lw)}er(Xp,"onAnimationEnd");er(e0,"onAnimationIteration");er(t0,"onAnimationStart");er("dblclick","onDoubleClick");er("focusin","onFocus");er("focusout","onBlur");er(s0,"onTransitionEnd");pn("onMouseEnter",["mouseout","mouseover"]);pn("onMouseLeave",["mouseout","mouseover"]);pn("onPointerEnter",["pointerout","pointerover"]);pn("onPointerLeave",["pointerout","pointerover"]);Pr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Pr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Pr("onBeforeInput",["compositionend","keypress","textInput","paste"]);Pr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Pr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Pr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Kn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),cw=new Set("cancel close invalid load scroll toggle".split(" ").concat(Kn));function Lh(e,t,s){var r=e.type||"unknown-event";e.currentTarget=s,ov(r,t,void 0,e),e.currentTarget=null}function n0(e,t){t=(t&4)!==0;for(var s=0;s<e.length;s++){var r=e[s],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var l=r[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==a&&i.isPropagationStopped())break e;Lh(i,l,u),a=c}else for(o=0;o<r.length;o++){if(l=r[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==a&&i.isPropagationStopped())break e;Lh(i,l,u),a=c}}}if(za)throw e=vc,za=!1,vc=null,e}function de(e,t){var s=t[Pc];s===void 0&&(s=t[Pc]=new Set);var r=e+"__bubble";s.has(r)||(i0(t,e,2,!1),s.add(r))}function kl(e,t,s){var r=0;t&&(r|=4),i0(s,e,r,t)}var ca="_reactListening"+Math.random().toString(36).slice(2);function ki(e){if(!e[ca]){e[ca]=!0,hp.forEach(function(s){s!=="selectionchange"&&(cw.has(s)||kl(s,!1,e),kl(s,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ca]||(t[ca]=!0,kl("selectionchange",!1,t))}}function i0(e,t,s,r){switch(Bp(t)){case 1:var i=Nv;break;case 4:i=Sv;break;default:i=Iu}s=i.bind(null,t,s,e),i=void 0,!yc||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,s,{capture:!0,passive:i}):e.addEventListener(t,s,!0):i!==void 0?e.addEventListener(t,s,{passive:i}):e.addEventListener(t,s,!1)}function _l(e,t,s,r,i){var a=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;o=o.return}for(;l!==null;){if(o=mr(l),o===null)return;if(c=o.tag,c===5||c===6){r=a=o;continue e}l=l.parentNode}}r=r.return}Tp(function(){var u=a,d=Du(s),h=[];e:{var f=r0.get(e);if(f!==void 0){var x=Vu,y=e;switch(e){case"keypress":if(Ea(s)===0)break e;case"keydown":case"keyup":x=$v;break;case"focusin":y="focus",x=vl;break;case"focusout":y="blur",x=vl;break;case"beforeblur":case"afterblur":x=vl;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":x=jh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":x=Cv;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":x=Bv;break;case Xp:case e0:case t0:x=Ev;break;case s0:x=Hv;break;case"scroll":x=kv;break;case"wheel":x=Wv;break;case"copy":case"cut":case"paste":x=Dv;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":x=Sh}var j=(t&4)!==0,w=!j&&e==="scroll",g=j?f!==null?f+"Capture":null:f;j=[];for(var m=u,p;m!==null;){p=m;var v=p.stateNode;if(p.tag===5&&v!==null&&(p=v,g!==null&&(v=vi(m,g),v!=null&&j.push(_i(m,v,p)))),w)break;m=m.return}0<j.length&&(f=new x(f,y,null,s,d),h.push({event:f,listeners:j}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",x=e==="mouseout"||e==="pointerout",f&&s!==gc&&(y=s.relatedTarget||s.fromElement)&&(mr(y)||y[gs]))break e;if((x||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,x?(y=s.relatedTarget||s.toElement,x=u,y=y?mr(y):null,y!==null&&(w=Er(y),y!==w||y.tag!==5&&y.tag!==6)&&(y=null)):(x=null,y=u),x!==y)){if(j=jh,v="onMouseLeave",g="onMouseEnter",m="mouse",(e==="pointerout"||e==="pointerover")&&(j=Sh,v="onPointerLeave",g="onPointerEnter",m="pointer"),w=x==null?f:Yr(x),p=y==null?f:Yr(y),f=new j(v,m+"leave",x,s,d),f.target=w,f.relatedTarget=p,v=null,mr(d)===u&&(j=new j(g,m+"enter",y,s,d),j.target=p,j.relatedTarget=w,v=j),w=v,x&&y)t:{for(j=x,g=y,m=0,p=j;p;p=Or(p))m++;for(p=0,v=g;v;v=Or(v))p++;for(;0<m-p;)j=Or(j),m--;for(;0<p-m;)g=Or(g),p--;for(;m--;){if(j===g||g!==null&&j===g.alternate)break t;j=Or(j),g=Or(g)}j=null}else j=null;x!==null&&Mh(h,f,x,j,!1),y!==null&&w!==null&&Mh(h,w,y,j,!0)}}e:{if(f=u?Yr(u):window,x=f.nodeName&&f.nodeName.toLowerCase(),x==="select"||x==="input"&&f.type==="file")var b=Xv;else if(Ch(f))if(Gp)b=rw;else{b=tw;var C=ew}else(x=f.nodeName)&&x.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(b=sw);if(b&&(b=b(e,u))){Kp(h,b,s,d);break e}C&&C(e,f,u),e==="focusout"&&(C=f._wrapperState)&&C.controlled&&f.type==="number"&&dc(f,"number",f.value)}switch(C=u?Yr(u):window,e){case"focusin":(Ch(C)||C.contentEditable==="true")&&(Kr=C,Nc=u,ei=null);break;case"focusout":ei=Nc=Kr=null;break;case"mousedown":Sc=!0;break;case"contextmenu":case"mouseup":case"dragend":Sc=!1,Dh(h,s,d);break;case"selectionchange":if(aw)break;case"keydown":case"keyup":Dh(h,s,d)}var T;if(Fu)e:{switch(e){case"compositionstart":var D="onCompositionStart";break e;case"compositionend":D="onCompositionEnd";break e;case"compositionupdate":D="onCompositionUpdate";break e}D=void 0}else Wr?qp(e,s)&&(D="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(D="onCompositionStart");D&&(Hp&&s.locale!=="ko"&&(Wr||D!=="onCompositionStart"?D==="onCompositionEnd"&&Wr&&(T=zp()):(Os=d,Ou="value"in Os?Os.value:Os.textContent,Wr=!0)),C=Ga(u,D),0<C.length&&(D=new Nh(D,e,null,s,d),h.push({event:D,listeners:C}),T?D.data=T:(T=Wp(s),T!==null&&(D.data=T)))),(T=Gv?Yv(e,s):Qv(e,s))&&(u=Ga(u,"onBeforeInput"),0<u.length&&(d=new Nh("onBeforeInput","beforeinput",null,s,d),h.push({event:d,listeners:u}),d.data=T))}n0(h,t)})}function _i(e,t,s){return{instance:e,listener:t,currentTarget:s}}function Ga(e,t){for(var s=t+"Capture",r=[];e!==null;){var i=e,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=vi(e,s),a!=null&&r.unshift(_i(e,a,i)),a=vi(e,t),a!=null&&r.push(_i(e,a,i))),e=e.return}return r}function Or(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Mh(e,t,s,r,i){for(var a=t._reactName,o=[];s!==null&&s!==r;){var l=s,c=l.alternate,u=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&u!==null&&(l=u,i?(c=vi(s,a),c!=null&&o.unshift(_i(s,c,l))):i||(c=vi(s,a),c!=null&&o.push(_i(s,c,l)))),s=s.return}o.length!==0&&e.push({event:t,listeners:o})}var uw=/\r\n?/g,dw=/\u0000|\uFFFD/g;function Ih(e){return(typeof e=="string"?e:""+e).replace(uw,`
`).replace(dw,"")}function ua(e,t,s){if(t=Ih(t),Ih(e)!==t&&s)throw Error(I(425))}function Ya(){}var kc=null,_c=null;function Cc(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Tc=typeof setTimeout=="function"?setTimeout:void 0,hw=typeof clearTimeout=="function"?clearTimeout:void 0,Oh=typeof Promise=="function"?Promise:void 0,fw=typeof queueMicrotask=="function"?queueMicrotask:typeof Oh<"u"?function(e){return Oh.resolve(null).then(e).catch(mw)}:Tc;function mw(e){setTimeout(function(){throw e})}function Cl(e,t){var s=t,r=0;do{var i=s.nextSibling;if(e.removeChild(s),i&&i.nodeType===8)if(s=i.data,s==="/$"){if(r===0){e.removeChild(i),ji(t);return}r--}else s!=="$"&&s!=="$?"&&s!=="$!"||r++;s=i}while(s);ji(t)}function Bs(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Vh(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"){if(t===0)return e;t--}else s==="/$"&&t++}e=e.previousSibling}return null}var Tn=Math.random().toString(36).slice(2),Yt="__reactFiber$"+Tn,Ci="__reactProps$"+Tn,gs="__reactContainer$"+Tn,Pc="__reactEvents$"+Tn,pw="__reactListeners$"+Tn,gw="__reactHandles$"+Tn;function mr(e){var t=e[Yt];if(t)return t;for(var s=e.parentNode;s;){if(t=s[gs]||s[Yt]){if(s=t.alternate,t.child!==null||s!==null&&s.child!==null)for(e=Vh(e);e!==null;){if(s=e[Yt])return s;e=Vh(e)}return t}e=s,s=e.parentNode}return null}function Bi(e){return e=e[Yt]||e[gs],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Yr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(I(33))}function Ro(e){return e[Ci]||null}var Ec=[],Qr=-1;function tr(e){return{current:e}}function fe(e){0>Qr||(e.current=Ec[Qr],Ec[Qr]=null,Qr--)}function ce(e,t){Qr++,Ec[Qr]=e.current,e.current=t}var Qs={},Ge=tr(Qs),lt=tr(!1),Nr=Qs;function gn(e,t){var s=e.type.contextTypes;if(!s)return Qs;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in s)i[a]=t[a];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function ct(e){return e=e.childContextTypes,e!=null}function Qa(){fe(lt),fe(Ge)}function $h(e,t,s){if(Ge.current!==Qs)throw Error(I(168));ce(Ge,t),ce(lt,s)}function a0(e,t,s){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return s;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(I(108,ev(e)||"Unknown",i));return ve({},s,r)}function Ja(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Qs,Nr=Ge.current,ce(Ge,e),ce(lt,lt.current),!0}function Fh(e,t,s){var r=e.stateNode;if(!r)throw Error(I(169));s?(e=a0(e,t,Nr),r.__reactInternalMemoizedMergedChildContext=e,fe(lt),fe(Ge),ce(Ge,e)):fe(lt),ce(lt,s)}var os=null,Lo=!1,Tl=!1;function o0(e){os===null?os=[e]:os.push(e)}function xw(e){Lo=!0,o0(e)}function sr(){if(!Tl&&os!==null){Tl=!0;var e=0,t=ae;try{var s=os;for(ae=1;e<s.length;e++){var r=s[e];do r=r(!0);while(r!==null)}os=null,Lo=!1}catch(i){throw os!==null&&(os=os.slice(e+1)),Dp(Ru,sr),i}finally{ae=t,Tl=!1}}return null}var Jr=[],Zr=0,Za=null,Xa=0,Ct=[],Tt=0,Sr=null,ls=1,cs="";function or(e,t){Jr[Zr++]=Xa,Jr[Zr++]=Za,Za=e,Xa=t}function l0(e,t,s){Ct[Tt++]=ls,Ct[Tt++]=cs,Ct[Tt++]=Sr,Sr=e;var r=ls;e=cs;var i=32-zt(r)-1;r&=~(1<<i),s+=1;var a=32-zt(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,ls=1<<32-zt(t)+i|s<<i|r,cs=a+e}else ls=1<<a|s<<i|r,cs=e}function Bu(e){e.return!==null&&(or(e,1),l0(e,1,0))}function zu(e){for(;e===Za;)Za=Jr[--Zr],Jr[Zr]=null,Xa=Jr[--Zr],Jr[Zr]=null;for(;e===Sr;)Sr=Ct[--Tt],Ct[Tt]=null,cs=Ct[--Tt],Ct[Tt]=null,ls=Ct[--Tt],Ct[Tt]=null}var xt=null,gt=null,me=!1,Ft=null;function c0(e,t){var s=Pt(5,null,null,0);s.elementType="DELETED",s.stateNode=t,s.return=e,t=e.deletions,t===null?(e.deletions=[s],e.flags|=16):t.push(s)}function Uh(e,t){switch(e.tag){case 5:var s=e.type;return t=t.nodeType!==1||s.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,xt=e,gt=Bs(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,xt=e,gt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(s=Sr!==null?{id:ls,overflow:cs}:null,e.memoizedState={dehydrated:t,treeContext:s,retryLane:1073741824},s=Pt(18,null,null,0),s.stateNode=t,s.return=e,e.child=s,xt=e,gt=null,!0):!1;default:return!1}}function Ac(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Dc(e){if(me){var t=gt;if(t){var s=t;if(!Uh(e,t)){if(Ac(e))throw Error(I(418));t=Bs(s.nextSibling);var r=xt;t&&Uh(e,t)?c0(r,s):(e.flags=e.flags&-4097|2,me=!1,xt=e)}}else{if(Ac(e))throw Error(I(418));e.flags=e.flags&-4097|2,me=!1,xt=e}}}function Bh(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;xt=e}function da(e){if(e!==xt)return!1;if(!me)return Bh(e),me=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Cc(e.type,e.memoizedProps)),t&&(t=gt)){if(Ac(e))throw u0(),Error(I(418));for(;t;)c0(e,t),t=Bs(t.nextSibling)}if(Bh(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(I(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"){if(t===0){gt=Bs(e.nextSibling);break e}t--}else s!=="$"&&s!=="$!"&&s!=="$?"||t++}e=e.nextSibling}gt=null}}else gt=xt?Bs(e.stateNode.nextSibling):null;return!0}function u0(){for(var e=gt;e;)e=Bs(e.nextSibling)}function xn(){gt=xt=null,me=!1}function Hu(e){Ft===null?Ft=[e]:Ft.push(e)}var yw=Ss.ReactCurrentBatchConfig;function In(e,t,s){if(e=s.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(s._owner){if(s=s._owner,s){if(s.tag!==1)throw Error(I(309));var r=s.stateNode}if(!r)throw Error(I(147,e));var i=r,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(o){var l=i.refs;o===null?delete l[a]:l[a]=o},t._stringRef=a,t)}if(typeof e!="string")throw Error(I(284));if(!s._owner)throw Error(I(290,e))}return e}function ha(e,t){throw e=Object.prototype.toString.call(t),Error(I(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function zh(e){var t=e._init;return t(e._payload)}function d0(e){function t(g,m){if(e){var p=g.deletions;p===null?(g.deletions=[m],g.flags|=16):p.push(m)}}function s(g,m){if(!e)return null;for(;m!==null;)t(g,m),m=m.sibling;return null}function r(g,m){for(g=new Map;m!==null;)m.key!==null?g.set(m.key,m):g.set(m.index,m),m=m.sibling;return g}function i(g,m){return g=Ws(g,m),g.index=0,g.sibling=null,g}function a(g,m,p){return g.index=p,e?(p=g.alternate,p!==null?(p=p.index,p<m?(g.flags|=2,m):p):(g.flags|=2,m)):(g.flags|=1048576,m)}function o(g){return e&&g.alternate===null&&(g.flags|=2),g}function l(g,m,p,v){return m===null||m.tag!==6?(m=Ml(p,g.mode,v),m.return=g,m):(m=i(m,p),m.return=g,m)}function c(g,m,p,v){var b=p.type;return b===qr?d(g,m,p.props.children,v,p.key):m!==null&&(m.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===Ps&&zh(b)===m.type)?(v=i(m,p.props),v.ref=In(g,m,p),v.return=g,v):(v=Oa(p.type,p.key,p.props,null,g.mode,v),v.ref=In(g,m,p),v.return=g,v)}function u(g,m,p,v){return m===null||m.tag!==4||m.stateNode.containerInfo!==p.containerInfo||m.stateNode.implementation!==p.implementation?(m=Il(p,g.mode,v),m.return=g,m):(m=i(m,p.children||[]),m.return=g,m)}function d(g,m,p,v,b){return m===null||m.tag!==7?(m=wr(p,g.mode,v,b),m.return=g,m):(m=i(m,p),m.return=g,m)}function h(g,m,p){if(typeof m=="string"&&m!==""||typeof m=="number")return m=Ml(""+m,g.mode,p),m.return=g,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case ta:return p=Oa(m.type,m.key,m.props,null,g.mode,p),p.ref=In(g,null,m),p.return=g,p;case Hr:return m=Il(m,g.mode,p),m.return=g,m;case Ps:var v=m._init;return h(g,v(m._payload),p)}if(qn(m)||An(m))return m=wr(m,g.mode,p,null),m.return=g,m;ha(g,m)}return null}function f(g,m,p,v){var b=m!==null?m.key:null;if(typeof p=="string"&&p!==""||typeof p=="number")return b!==null?null:l(g,m,""+p,v);if(typeof p=="object"&&p!==null){switch(p.$$typeof){case ta:return p.key===b?c(g,m,p,v):null;case Hr:return p.key===b?u(g,m,p,v):null;case Ps:return b=p._init,f(g,m,b(p._payload),v)}if(qn(p)||An(p))return b!==null?null:d(g,m,p,v,null);ha(g,p)}return null}function x(g,m,p,v,b){if(typeof v=="string"&&v!==""||typeof v=="number")return g=g.get(p)||null,l(m,g,""+v,b);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case ta:return g=g.get(v.key===null?p:v.key)||null,c(m,g,v,b);case Hr:return g=g.get(v.key===null?p:v.key)||null,u(m,g,v,b);case Ps:var C=v._init;return x(g,m,p,C(v._payload),b)}if(qn(v)||An(v))return g=g.get(p)||null,d(m,g,v,b,null);ha(m,v)}return null}function y(g,m,p,v){for(var b=null,C=null,T=m,D=m=0,$=null;T!==null&&D<p.length;D++){T.index>D?($=T,T=null):$=T.sibling;var z=f(g,T,p[D],v);if(z===null){T===null&&(T=$);break}e&&T&&z.alternate===null&&t(g,T),m=a(z,m,D),C===null?b=z:C.sibling=z,C=z,T=$}if(D===p.length)return s(g,T),me&&or(g,D),b;if(T===null){for(;D<p.length;D++)T=h(g,p[D],v),T!==null&&(m=a(T,m,D),C===null?b=T:C.sibling=T,C=T);return me&&or(g,D),b}for(T=r(g,T);D<p.length;D++)$=x(T,g,D,p[D],v),$!==null&&(e&&$.alternate!==null&&T.delete($.key===null?D:$.key),m=a($,m,D),C===null?b=$:C.sibling=$,C=$);return e&&T.forEach(function(k){return t(g,k)}),me&&or(g,D),b}function j(g,m,p,v){var b=An(p);if(typeof b!="function")throw Error(I(150));if(p=b.call(p),p==null)throw Error(I(151));for(var C=b=null,T=m,D=m=0,$=null,z=p.next();T!==null&&!z.done;D++,z=p.next()){T.index>D?($=T,T=null):$=T.sibling;var k=f(g,T,z.value,v);if(k===null){T===null&&(T=$);break}e&&T&&k.alternate===null&&t(g,T),m=a(k,m,D),C===null?b=k:C.sibling=k,C=k,T=$}if(z.done)return s(g,T),me&&or(g,D),b;if(T===null){for(;!z.done;D++,z=p.next())z=h(g,z.value,v),z!==null&&(m=a(z,m,D),C===null?b=z:C.sibling=z,C=z);return me&&or(g,D),b}for(T=r(g,T);!z.done;D++,z=p.next())z=x(T,g,D,z.value,v),z!==null&&(e&&z.alternate!==null&&T.delete(z.key===null?D:z.key),m=a(z,m,D),C===null?b=z:C.sibling=z,C=z);return e&&T.forEach(function(O){return t(g,O)}),me&&or(g,D),b}function w(g,m,p,v){if(typeof p=="object"&&p!==null&&p.type===qr&&p.key===null&&(p=p.props.children),typeof p=="object"&&p!==null){switch(p.$$typeof){case ta:e:{for(var b=p.key,C=m;C!==null;){if(C.key===b){if(b=p.type,b===qr){if(C.tag===7){s(g,C.sibling),m=i(C,p.props.children),m.return=g,g=m;break e}}else if(C.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===Ps&&zh(b)===C.type){s(g,C.sibling),m=i(C,p.props),m.ref=In(g,C,p),m.return=g,g=m;break e}s(g,C);break}else t(g,C);C=C.sibling}p.type===qr?(m=wr(p.props.children,g.mode,v,p.key),m.return=g,g=m):(v=Oa(p.type,p.key,p.props,null,g.mode,v),v.ref=In(g,m,p),v.return=g,g=v)}return o(g);case Hr:e:{for(C=p.key;m!==null;){if(m.key===C)if(m.tag===4&&m.stateNode.containerInfo===p.containerInfo&&m.stateNode.implementation===p.implementation){s(g,m.sibling),m=i(m,p.children||[]),m.return=g,g=m;break e}else{s(g,m);break}else t(g,m);m=m.sibling}m=Il(p,g.mode,v),m.return=g,g=m}return o(g);case Ps:return C=p._init,w(g,m,C(p._payload),v)}if(qn(p))return y(g,m,p,v);if(An(p))return j(g,m,p,v);ha(g,p)}return typeof p=="string"&&p!==""||typeof p=="number"?(p=""+p,m!==null&&m.tag===6?(s(g,m.sibling),m=i(m,p),m.return=g,g=m):(s(g,m),m=Ml(p,g.mode,v),m.return=g,g=m),o(g)):s(g,m)}return w}var yn=d0(!0),h0=d0(!1),eo=tr(null),to=null,Xr=null,qu=null;function Wu(){qu=Xr=to=null}function Ku(e){var t=eo.current;fe(eo),e._currentValue=t}function Rc(e,t,s){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===s)break;e=e.return}}function hn(e,t){to=e,qu=Xr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(ot=!0),e.firstContext=null)}function Dt(e){var t=e._currentValue;if(qu!==e)if(e={context:e,memoizedValue:t,next:null},Xr===null){if(to===null)throw Error(I(308));Xr=e,to.dependencies={lanes:0,firstContext:e}}else Xr=Xr.next=e;return t}var pr=null;function Gu(e){pr===null?pr=[e]:pr.push(e)}function f0(e,t,s,r){var i=t.interleaved;return i===null?(s.next=s,Gu(t)):(s.next=i.next,i.next=s),t.interleaved=s,xs(e,r)}function xs(e,t){e.lanes|=t;var s=e.alternate;for(s!==null&&(s.lanes|=t),s=e,e=e.return;e!==null;)e.childLanes|=t,s=e.alternate,s!==null&&(s.childLanes|=t),s=e,e=e.return;return s.tag===3?s.stateNode:null}var Es=!1;function Yu(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function m0(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function hs(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function zs(e,t,s){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,re&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,xs(e,s)}return i=r.interleaved,i===null?(t.next=t,Gu(r)):(t.next=i.next,i.next=t),r.interleaved=t,xs(e,s)}function Aa(e,t,s){if(t=t.updateQueue,t!==null&&(t=t.shared,(s&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,s|=r,t.lanes=s,Lu(e,s)}}function Hh(e,t){var s=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,s===r)){var i=null,a=null;if(s=s.firstBaseUpdate,s!==null){do{var o={eventTime:s.eventTime,lane:s.lane,tag:s.tag,payload:s.payload,callback:s.callback,next:null};a===null?i=a=o:a=a.next=o,s=s.next}while(s!==null);a===null?i=a=t:a=a.next=t}else i=a=t;s={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=t:e.next=t,s.lastBaseUpdate=t}function so(e,t,s,r){var i=e.updateQueue;Es=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?a=u:o.next=u,o=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(a!==null){var h=i.baseState;o=0,d=u=c=null,l=a;do{var f=l.lane,x=l.eventTime;if((r&f)===f){d!==null&&(d=d.next={eventTime:x,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var y=e,j=l;switch(f=t,x=s,j.tag){case 1:if(y=j.payload,typeof y=="function"){h=y.call(x,h,f);break e}h=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=j.payload,f=typeof y=="function"?y.call(x,h,f):y,f==null)break e;h=ve({},h,f);break e;case 2:Es=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,f=i.effects,f===null?i.effects=[l]:f.push(l))}else x={eventTime:x,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=x,c=h):d=d.next=x,o|=f;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;f=l,l=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(d===null&&(c=h),i.baseState=c,i.firstBaseUpdate=u,i.lastBaseUpdate=d,t=i.shared.interleaved,t!==null){i=t;do o|=i.lane,i=i.next;while(i!==t)}else a===null&&(i.shared.lanes=0);_r|=o,e.lanes=o,e.memoizedState=h}}function qh(e,t,s){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=s,typeof i!="function")throw Error(I(191,i));i.call(r)}}}var zi={},Xt=tr(zi),Ti=tr(zi),Pi=tr(zi);function gr(e){if(e===zi)throw Error(I(174));return e}function Qu(e,t){switch(ce(Pi,t),ce(Ti,e),ce(Xt,zi),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:fc(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=fc(t,e)}fe(Xt),ce(Xt,t)}function vn(){fe(Xt),fe(Ti),fe(Pi)}function p0(e){gr(Pi.current);var t=gr(Xt.current),s=fc(t,e.type);t!==s&&(ce(Ti,e),ce(Xt,s))}function Ju(e){Ti.current===e&&(fe(Xt),fe(Ti))}var ge=tr(0);function ro(e){for(var t=e;t!==null;){if(t.tag===13){var s=t.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||s.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Pl=[];function Zu(){for(var e=0;e<Pl.length;e++)Pl[e]._workInProgressVersionPrimary=null;Pl.length=0}var Da=Ss.ReactCurrentDispatcher,El=Ss.ReactCurrentBatchConfig,kr=0,ye=null,Pe=null,Re=null,no=!1,ti=!1,Ei=0,vw=0;function Ue(){throw Error(I(321))}function Xu(e,t){if(t===null)return!1;for(var s=0;s<t.length&&s<e.length;s++)if(!qt(e[s],t[s]))return!1;return!0}function ed(e,t,s,r,i,a){if(kr=a,ye=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Da.current=e===null||e.memoizedState===null?Nw:Sw,e=s(r,i),ti){a=0;do{if(ti=!1,Ei=0,25<=a)throw Error(I(301));a+=1,Re=Pe=null,t.updateQueue=null,Da.current=kw,e=s(r,i)}while(ti)}if(Da.current=io,t=Pe!==null&&Pe.next!==null,kr=0,Re=Pe=ye=null,no=!1,t)throw Error(I(300));return e}function td(){var e=Ei!==0;return Ei=0,e}function Kt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Re===null?ye.memoizedState=Re=e:Re=Re.next=e,Re}function Rt(){if(Pe===null){var e=ye.alternate;e=e!==null?e.memoizedState:null}else e=Pe.next;var t=Re===null?ye.memoizedState:Re.next;if(t!==null)Re=t,Pe=e;else{if(e===null)throw Error(I(310));Pe=e,e={memoizedState:Pe.memoizedState,baseState:Pe.baseState,baseQueue:Pe.baseQueue,queue:Pe.queue,next:null},Re===null?ye.memoizedState=Re=e:Re=Re.next=e}return Re}function Ai(e,t){return typeof t=="function"?t(e):t}function Al(e){var t=Rt(),s=t.queue;if(s===null)throw Error(I(311));s.lastRenderedReducer=e;var r=Pe,i=r.baseQueue,a=s.pending;if(a!==null){if(i!==null){var o=i.next;i.next=a.next,a.next=o}r.baseQueue=i=a,s.pending=null}if(i!==null){a=i.next,r=r.baseState;var l=o=null,c=null,u=a;do{var d=u.lane;if((kr&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=h,o=r):c=c.next=h,ye.lanes|=d,_r|=d}u=u.next}while(u!==null&&u!==a);c===null?o=r:c.next=l,qt(r,t.memoizedState)||(ot=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=c,s.lastRenderedState=r}if(e=s.interleaved,e!==null){i=e;do a=i.lane,ye.lanes|=a,_r|=a,i=i.next;while(i!==e)}else i===null&&(s.lanes=0);return[t.memoizedState,s.dispatch]}function Dl(e){var t=Rt(),s=t.queue;if(s===null)throw Error(I(311));s.lastRenderedReducer=e;var r=s.dispatch,i=s.pending,a=t.memoizedState;if(i!==null){s.pending=null;var o=i=i.next;do a=e(a,o.action),o=o.next;while(o!==i);qt(a,t.memoizedState)||(ot=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),s.lastRenderedState=a}return[a,r]}function g0(){}function x0(e,t){var s=ye,r=Rt(),i=t(),a=!qt(r.memoizedState,i);if(a&&(r.memoizedState=i,ot=!0),r=r.queue,sd(w0.bind(null,s,r,e),[e]),r.getSnapshot!==t||a||Re!==null&&Re.memoizedState.tag&1){if(s.flags|=2048,Di(9,v0.bind(null,s,r,i,t),void 0,null),Le===null)throw Error(I(349));kr&30||y0(s,t,i)}return i}function y0(e,t,s){e.flags|=16384,e={getSnapshot:t,value:s},t=ye.updateQueue,t===null?(t={lastEffect:null,stores:null},ye.updateQueue=t,t.stores=[e]):(s=t.stores,s===null?t.stores=[e]:s.push(e))}function v0(e,t,s,r){t.value=s,t.getSnapshot=r,b0(t)&&j0(e)}function w0(e,t,s){return s(function(){b0(t)&&j0(e)})}function b0(e){var t=e.getSnapshot;e=e.value;try{var s=t();return!qt(e,s)}catch{return!0}}function j0(e){var t=xs(e,1);t!==null&&Ht(t,e,1,-1)}function Wh(e){var t=Kt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ai,lastRenderedState:e},t.queue=e,e=e.dispatch=jw.bind(null,ye,e),[t.memoizedState,e]}function Di(e,t,s,r){return e={tag:e,create:t,destroy:s,deps:r,next:null},t=ye.updateQueue,t===null?(t={lastEffect:null,stores:null},ye.updateQueue=t,t.lastEffect=e.next=e):(s=t.lastEffect,s===null?t.lastEffect=e.next=e:(r=s.next,s.next=e,e.next=r,t.lastEffect=e)),e}function N0(){return Rt().memoizedState}function Ra(e,t,s,r){var i=Kt();ye.flags|=e,i.memoizedState=Di(1|t,s,void 0,r===void 0?null:r)}function Mo(e,t,s,r){var i=Rt();r=r===void 0?null:r;var a=void 0;if(Pe!==null){var o=Pe.memoizedState;if(a=o.destroy,r!==null&&Xu(r,o.deps)){i.memoizedState=Di(t,s,a,r);return}}ye.flags|=e,i.memoizedState=Di(1|t,s,a,r)}function Kh(e,t){return Ra(8390656,8,e,t)}function sd(e,t){return Mo(2048,8,e,t)}function S0(e,t){return Mo(4,2,e,t)}function k0(e,t){return Mo(4,4,e,t)}function _0(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function C0(e,t,s){return s=s!=null?s.concat([e]):null,Mo(4,4,_0.bind(null,t,e),s)}function rd(){}function T0(e,t){var s=Rt();t=t===void 0?null:t;var r=s.memoizedState;return r!==null&&t!==null&&Xu(t,r[1])?r[0]:(s.memoizedState=[e,t],e)}function P0(e,t){var s=Rt();t=t===void 0?null:t;var r=s.memoizedState;return r!==null&&t!==null&&Xu(t,r[1])?r[0]:(e=e(),s.memoizedState=[e,t],e)}function E0(e,t,s){return kr&21?(qt(s,t)||(s=Mp(),ye.lanes|=s,_r|=s,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,ot=!0),e.memoizedState=s)}function ww(e,t){var s=ae;ae=s!==0&&4>s?s:4,e(!0);var r=El.transition;El.transition={};try{e(!1),t()}finally{ae=s,El.transition=r}}function A0(){return Rt().memoizedState}function bw(e,t,s){var r=qs(e);if(s={lane:r,action:s,hasEagerState:!1,eagerState:null,next:null},D0(e))R0(t,s);else if(s=f0(e,t,s,r),s!==null){var i=Ze();Ht(s,e,r,i),L0(s,t,r)}}function jw(e,t,s){var r=qs(e),i={lane:r,action:s,hasEagerState:!1,eagerState:null,next:null};if(D0(e))R0(t,i);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var o=t.lastRenderedState,l=a(o,s);if(i.hasEagerState=!0,i.eagerState=l,qt(l,o)){var c=t.interleaved;c===null?(i.next=i,Gu(t)):(i.next=c.next,c.next=i),t.interleaved=i;return}}catch{}finally{}s=f0(e,t,i,r),s!==null&&(i=Ze(),Ht(s,e,r,i),L0(s,t,r))}}function D0(e){var t=e.alternate;return e===ye||t!==null&&t===ye}function R0(e,t){ti=no=!0;var s=e.pending;s===null?t.next=t:(t.next=s.next,s.next=t),e.pending=t}function L0(e,t,s){if(s&4194240){var r=t.lanes;r&=e.pendingLanes,s|=r,t.lanes=s,Lu(e,s)}}var io={readContext:Dt,useCallback:Ue,useContext:Ue,useEffect:Ue,useImperativeHandle:Ue,useInsertionEffect:Ue,useLayoutEffect:Ue,useMemo:Ue,useReducer:Ue,useRef:Ue,useState:Ue,useDebugValue:Ue,useDeferredValue:Ue,useTransition:Ue,useMutableSource:Ue,useSyncExternalStore:Ue,useId:Ue,unstable_isNewReconciler:!1},Nw={readContext:Dt,useCallback:function(e,t){return Kt().memoizedState=[e,t===void 0?null:t],e},useContext:Dt,useEffect:Kh,useImperativeHandle:function(e,t,s){return s=s!=null?s.concat([e]):null,Ra(4194308,4,_0.bind(null,t,e),s)},useLayoutEffect:function(e,t){return Ra(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ra(4,2,e,t)},useMemo:function(e,t){var s=Kt();return t=t===void 0?null:t,e=e(),s.memoizedState=[e,t],e},useReducer:function(e,t,s){var r=Kt();return t=s!==void 0?s(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=bw.bind(null,ye,e),[r.memoizedState,e]},useRef:function(e){var t=Kt();return e={current:e},t.memoizedState=e},useState:Wh,useDebugValue:rd,useDeferredValue:function(e){return Kt().memoizedState=e},useTransition:function(){var e=Wh(!1),t=e[0];return e=ww.bind(null,e[1]),Kt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,s){var r=ye,i=Kt();if(me){if(s===void 0)throw Error(I(407));s=s()}else{if(s=t(),Le===null)throw Error(I(349));kr&30||y0(r,t,s)}i.memoizedState=s;var a={value:s,getSnapshot:t};return i.queue=a,Kh(w0.bind(null,r,a,e),[e]),r.flags|=2048,Di(9,v0.bind(null,r,a,s,t),void 0,null),s},useId:function(){var e=Kt(),t=Le.identifierPrefix;if(me){var s=cs,r=ls;s=(r&~(1<<32-zt(r)-1)).toString(32)+s,t=":"+t+"R"+s,s=Ei++,0<s&&(t+="H"+s.toString(32)),t+=":"}else s=vw++,t=":"+t+"r"+s.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Sw={readContext:Dt,useCallback:T0,useContext:Dt,useEffect:sd,useImperativeHandle:C0,useInsertionEffect:S0,useLayoutEffect:k0,useMemo:P0,useReducer:Al,useRef:N0,useState:function(){return Al(Ai)},useDebugValue:rd,useDeferredValue:function(e){var t=Rt();return E0(t,Pe.memoizedState,e)},useTransition:function(){var e=Al(Ai)[0],t=Rt().memoizedState;return[e,t]},useMutableSource:g0,useSyncExternalStore:x0,useId:A0,unstable_isNewReconciler:!1},kw={readContext:Dt,useCallback:T0,useContext:Dt,useEffect:sd,useImperativeHandle:C0,useInsertionEffect:S0,useLayoutEffect:k0,useMemo:P0,useReducer:Dl,useRef:N0,useState:function(){return Dl(Ai)},useDebugValue:rd,useDeferredValue:function(e){var t=Rt();return Pe===null?t.memoizedState=e:E0(t,Pe.memoizedState,e)},useTransition:function(){var e=Dl(Ai)[0],t=Rt().memoizedState;return[e,t]},useMutableSource:g0,useSyncExternalStore:x0,useId:A0,unstable_isNewReconciler:!1};function Ot(e,t){if(e&&e.defaultProps){t=ve({},t),e=e.defaultProps;for(var s in e)t[s]===void 0&&(t[s]=e[s]);return t}return t}function Lc(e,t,s,r){t=e.memoizedState,s=s(r,t),s=s==null?t:ve({},t,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var Io={isMounted:function(e){return(e=e._reactInternals)?Er(e)===e:!1},enqueueSetState:function(e,t,s){e=e._reactInternals;var r=Ze(),i=qs(e),a=hs(r,i);a.payload=t,s!=null&&(a.callback=s),t=zs(e,a,i),t!==null&&(Ht(t,e,i,r),Aa(t,e,i))},enqueueReplaceState:function(e,t,s){e=e._reactInternals;var r=Ze(),i=qs(e),a=hs(r,i);a.tag=1,a.payload=t,s!=null&&(a.callback=s),t=zs(e,a,i),t!==null&&(Ht(t,e,i,r),Aa(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var s=Ze(),r=qs(e),i=hs(s,r);i.tag=2,t!=null&&(i.callback=t),t=zs(e,i,r),t!==null&&(Ht(t,e,r,s),Aa(t,e,r))}};function Gh(e,t,s,r,i,a,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,a,o):t.prototype&&t.prototype.isPureReactComponent?!Si(s,r)||!Si(i,a):!0}function M0(e,t,s){var r=!1,i=Qs,a=t.contextType;return typeof a=="object"&&a!==null?a=Dt(a):(i=ct(t)?Nr:Ge.current,r=t.contextTypes,a=(r=r!=null)?gn(e,i):Qs),t=new t(s,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Io,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function Yh(e,t,s,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(s,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(s,r),t.state!==e&&Io.enqueueReplaceState(t,t.state,null)}function Mc(e,t,s,r){var i=e.stateNode;i.props=s,i.state=e.memoizedState,i.refs={},Yu(e);var a=t.contextType;typeof a=="object"&&a!==null?i.context=Dt(a):(a=ct(t)?Nr:Ge.current,i.context=gn(e,a)),i.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(Lc(e,t,a,s),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Io.enqueueReplaceState(i,i.state,null),so(e,s,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function wn(e,t){try{var s="",r=t;do s+=Xy(r),r=r.return;while(r);var i=s}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:i,digest:null}}function Rl(e,t,s){return{value:e,source:null,stack:s??null,digest:t??null}}function Ic(e,t){try{console.error(t.value)}catch(s){setTimeout(function(){throw s})}}var _w=typeof WeakMap=="function"?WeakMap:Map;function I0(e,t,s){s=hs(-1,s),s.tag=3,s.payload={element:null};var r=t.value;return s.callback=function(){oo||(oo=!0,Wc=r),Ic(e,t)},s}function O0(e,t,s){s=hs(-1,s),s.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;s.payload=function(){return r(i)},s.callback=function(){Ic(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(s.callback=function(){Ic(e,t),typeof r!="function"&&(Hs===null?Hs=new Set([this]):Hs.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),s}function Qh(e,t,s){var r=e.pingCache;if(r===null){r=e.pingCache=new _w;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(s)||(i.add(s),e=Fw.bind(null,e,t,s),t.then(e,e))}function Jh(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Zh(e,t,s,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,s.flags|=131072,s.flags&=-52805,s.tag===1&&(s.alternate===null?s.tag=17:(t=hs(-1,1),t.tag=2,zs(s,t,1))),s.lanes|=1),e)}var Cw=Ss.ReactCurrentOwner,ot=!1;function Qe(e,t,s,r){t.child=e===null?h0(t,null,s,r):yn(t,e.child,s,r)}function Xh(e,t,s,r,i){s=s.render;var a=t.ref;return hn(t,i),r=ed(e,t,s,r,a,i),s=td(),e!==null&&!ot?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,ys(e,t,i)):(me&&s&&Bu(t),t.flags|=1,Qe(e,t,r,i),t.child)}function ef(e,t,s,r,i){if(e===null){var a=s.type;return typeof a=="function"&&!dd(a)&&a.defaultProps===void 0&&s.compare===null&&s.defaultProps===void 0?(t.tag=15,t.type=a,V0(e,t,a,r,i)):(e=Oa(s.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&i)){var o=a.memoizedProps;if(s=s.compare,s=s!==null?s:Si,s(o,r)&&e.ref===t.ref)return ys(e,t,i)}return t.flags|=1,e=Ws(a,r),e.ref=t.ref,e.return=t,t.child=e}function V0(e,t,s,r,i){if(e!==null){var a=e.memoizedProps;if(Si(a,r)&&e.ref===t.ref)if(ot=!1,t.pendingProps=r=a,(e.lanes&i)!==0)e.flags&131072&&(ot=!0);else return t.lanes=e.lanes,ys(e,t,i)}return Oc(e,t,s,r,i)}function $0(e,t,s){var r=t.pendingProps,i=r.children,a=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ce(tn,pt),pt|=s;else{if(!(s&1073741824))return e=a!==null?a.baseLanes|s:s,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ce(tn,pt),pt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=a!==null?a.baseLanes:s,ce(tn,pt),pt|=r}else a!==null?(r=a.baseLanes|s,t.memoizedState=null):r=s,ce(tn,pt),pt|=r;return Qe(e,t,i,s),t.child}function F0(e,t){var s=t.ref;(e===null&&s!==null||e!==null&&e.ref!==s)&&(t.flags|=512,t.flags|=2097152)}function Oc(e,t,s,r,i){var a=ct(s)?Nr:Ge.current;return a=gn(t,a),hn(t,i),s=ed(e,t,s,r,a,i),r=td(),e!==null&&!ot?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,ys(e,t,i)):(me&&r&&Bu(t),t.flags|=1,Qe(e,t,s,i),t.child)}function tf(e,t,s,r,i){if(ct(s)){var a=!0;Ja(t)}else a=!1;if(hn(t,i),t.stateNode===null)La(e,t),M0(t,s,r),Mc(t,s,r,i),r=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,u=s.contextType;typeof u=="object"&&u!==null?u=Dt(u):(u=ct(s)?Nr:Ge.current,u=gn(t,u));var d=s.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||c!==u)&&Yh(t,o,r,u),Es=!1;var f=t.memoizedState;o.state=f,so(t,r,o,i),c=t.memoizedState,l!==r||f!==c||lt.current||Es?(typeof d=="function"&&(Lc(t,s,d,r),c=t.memoizedState),(l=Es||Gh(t,s,l,r,f,c,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),o.props=r,o.state=c,o.context=u,r=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,m0(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:Ot(t.type,l),o.props=u,h=t.pendingProps,f=o.context,c=s.contextType,typeof c=="object"&&c!==null?c=Dt(c):(c=ct(s)?Nr:Ge.current,c=gn(t,c));var x=s.getDerivedStateFromProps;(d=typeof x=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==h||f!==c)&&Yh(t,o,r,c),Es=!1,f=t.memoizedState,o.state=f,so(t,r,o,i);var y=t.memoizedState;l!==h||f!==y||lt.current||Es?(typeof x=="function"&&(Lc(t,s,x,r),y=t.memoizedState),(u=Es||Gh(t,s,u,r,f,y,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,y,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,y,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=y),o.props=r,o.state=y,o.context=c,r=u):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return Vc(e,t,s,r,a,i)}function Vc(e,t,s,r,i,a){F0(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return i&&Fh(t,s,!1),ys(e,t,a);r=t.stateNode,Cw.current=t;var l=o&&typeof s.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=yn(t,e.child,null,a),t.child=yn(t,null,l,a)):Qe(e,t,l,a),t.memoizedState=r.state,i&&Fh(t,s,!0),t.child}function U0(e){var t=e.stateNode;t.pendingContext?$h(e,t.pendingContext,t.pendingContext!==t.context):t.context&&$h(e,t.context,!1),Qu(e,t.containerInfo)}function sf(e,t,s,r,i){return xn(),Hu(i),t.flags|=256,Qe(e,t,s,r),t.child}var $c={dehydrated:null,treeContext:null,retryLane:0};function Fc(e){return{baseLanes:e,cachePool:null,transitions:null}}function B0(e,t,s){var r=t.pendingProps,i=ge.current,a=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(i&2)!==0),l?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),ce(ge,i&1),e===null)return Dc(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,a?(r=t.mode,a=t.child,o={mode:"hidden",children:o},!(r&1)&&a!==null?(a.childLanes=0,a.pendingProps=o):a=$o(o,r,0,null),e=wr(e,r,s,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Fc(s),t.memoizedState=$c,e):nd(t,o));if(i=e.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return Tw(e,t,o,r,l,i,s);if(a){a=r.fallback,o=t.mode,i=e.child,l=i.sibling;var c={mode:"hidden",children:r.children};return!(o&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=Ws(i,c),r.subtreeFlags=i.subtreeFlags&14680064),l!==null?a=Ws(l,a):(a=wr(a,o,s,null),a.flags|=2),a.return=t,r.return=t,r.sibling=a,t.child=r,r=a,a=t.child,o=e.child.memoizedState,o=o===null?Fc(s):{baseLanes:o.baseLanes|s,cachePool:null,transitions:o.transitions},a.memoizedState=o,a.childLanes=e.childLanes&~s,t.memoizedState=$c,r}return a=e.child,e=a.sibling,r=Ws(a,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=s),r.return=t,r.sibling=null,e!==null&&(s=t.deletions,s===null?(t.deletions=[e],t.flags|=16):s.push(e)),t.child=r,t.memoizedState=null,r}function nd(e,t){return t=$o({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function fa(e,t,s,r){return r!==null&&Hu(r),yn(t,e.child,null,s),e=nd(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Tw(e,t,s,r,i,a,o){if(s)return t.flags&256?(t.flags&=-257,r=Rl(Error(I(422))),fa(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=r.fallback,i=t.mode,r=$o({mode:"visible",children:r.children},i,0,null),a=wr(a,i,o,null),a.flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,t.mode&1&&yn(t,e.child,null,o),t.child.memoizedState=Fc(o),t.memoizedState=$c,a);if(!(t.mode&1))return fa(e,t,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var l=r.dgst;return r=l,a=Error(I(419)),r=Rl(a,r,void 0),fa(e,t,o,r)}if(l=(o&e.childLanes)!==0,ot||l){if(r=Le,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,xs(e,i),Ht(r,e,i,-1))}return ud(),r=Rl(Error(I(421))),fa(e,t,o,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=Uw.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,gt=Bs(i.nextSibling),xt=t,me=!0,Ft=null,e!==null&&(Ct[Tt++]=ls,Ct[Tt++]=cs,Ct[Tt++]=Sr,ls=e.id,cs=e.overflow,Sr=t),t=nd(t,r.children),t.flags|=4096,t)}function rf(e,t,s){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Rc(e.return,t,s)}function Ll(e,t,s,r,i){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:s,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=s,a.tailMode=i)}function z0(e,t,s){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(Qe(e,t,r.children,s),r=ge.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&rf(e,s,t);else if(e.tag===19)rf(e,s,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ce(ge,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(s=t.child,i=null;s!==null;)e=s.alternate,e!==null&&ro(e)===null&&(i=s),s=s.sibling;s=i,s===null?(i=t.child,t.child=null):(i=s.sibling,s.sibling=null),Ll(t,!1,i,s,a);break;case"backwards":for(s=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&ro(e)===null){t.child=i;break}e=i.sibling,i.sibling=s,s=i,i=e}Ll(t,!0,s,null,a);break;case"together":Ll(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function La(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function ys(e,t,s){if(e!==null&&(t.dependencies=e.dependencies),_r|=t.lanes,!(s&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(I(153));if(t.child!==null){for(e=t.child,s=Ws(e,e.pendingProps),t.child=s,s.return=t;e.sibling!==null;)e=e.sibling,s=s.sibling=Ws(e,e.pendingProps),s.return=t;s.sibling=null}return t.child}function Pw(e,t,s){switch(t.tag){case 3:U0(t),xn();break;case 5:p0(t);break;case 1:ct(t.type)&&Ja(t);break;case 4:Qu(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;ce(eo,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(ce(ge,ge.current&1),t.flags|=128,null):s&t.child.childLanes?B0(e,t,s):(ce(ge,ge.current&1),e=ys(e,t,s),e!==null?e.sibling:null);ce(ge,ge.current&1);break;case 19:if(r=(s&t.childLanes)!==0,e.flags&128){if(r)return z0(e,t,s);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ce(ge,ge.current),r)break;return null;case 22:case 23:return t.lanes=0,$0(e,t,s)}return ys(e,t,s)}var H0,Uc,q0,W0;H0=function(e,t){for(var s=t.child;s!==null;){if(s.tag===5||s.tag===6)e.appendChild(s.stateNode);else if(s.tag!==4&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return;s=s.return}s.sibling.return=s.return,s=s.sibling}};Uc=function(){};q0=function(e,t,s,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,gr(Xt.current);var a=null;switch(s){case"input":i=cc(e,i),r=cc(e,r),a=[];break;case"select":i=ve({},i,{value:void 0}),r=ve({},r,{value:void 0}),a=[];break;case"textarea":i=hc(e,i),r=hc(e,r),a=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Ya)}mc(s,r);var o;s=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var l=i[u];for(o in l)l.hasOwnProperty(o)&&(s||(s={}),s[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(xi.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in r){var c=r[u];if(l=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(s||(s={}),s[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(s||(s={}),s[o]=c[o])}else s||(a||(a=[]),a.push(u,s)),s=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(a=a||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(a=a||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(xi.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&de("scroll",e),a||l===c||(a=[])):(a=a||[]).push(u,c))}s&&(a=a||[]).push("style",s);var u=a;(t.updateQueue=u)&&(t.flags|=4)}};W0=function(e,t,s,r){s!==r&&(t.flags|=4)};function On(e,t){if(!me)switch(e.tailMode){case"hidden":t=e.tail;for(var s=null;t!==null;)t.alternate!==null&&(s=t),t=t.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var r=null;s!==null;)s.alternate!==null&&(r=s),s=s.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Be(e){var t=e.alternate!==null&&e.alternate.child===e.child,s=0,r=0;if(t)for(var i=e.child;i!==null;)s|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)s|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=s,t}function Ew(e,t,s){var r=t.pendingProps;switch(zu(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Be(t),null;case 1:return ct(t.type)&&Qa(),Be(t),null;case 3:return r=t.stateNode,vn(),fe(lt),fe(Ge),Zu(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(da(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Ft!==null&&(Yc(Ft),Ft=null))),Uc(e,t),Be(t),null;case 5:Ju(t);var i=gr(Pi.current);if(s=t.type,e!==null&&t.stateNode!=null)q0(e,t,s,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(I(166));return Be(t),null}if(e=gr(Xt.current),da(t)){r=t.stateNode,s=t.type;var a=t.memoizedProps;switch(r[Yt]=t,r[Ci]=a,e=(t.mode&1)!==0,s){case"dialog":de("cancel",r),de("close",r);break;case"iframe":case"object":case"embed":de("load",r);break;case"video":case"audio":for(i=0;i<Kn.length;i++)de(Kn[i],r);break;case"source":de("error",r);break;case"img":case"image":case"link":de("error",r),de("load",r);break;case"details":de("toggle",r);break;case"input":hh(r,a),de("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},de("invalid",r);break;case"textarea":mh(r,a),de("invalid",r)}mc(s,a),i=null;for(var o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="children"?typeof l=="string"?r.textContent!==l&&(a.suppressHydrationWarning!==!0&&ua(r.textContent,l,e),i=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(a.suppressHydrationWarning!==!0&&ua(r.textContent,l,e),i=["children",""+l]):xi.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&de("scroll",r)}switch(s){case"input":sa(r),fh(r,a,!0);break;case"textarea":sa(r),ph(r);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(r.onclick=Ya)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=wp(s)),e==="http://www.w3.org/1999/xhtml"?s==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(s,{is:r.is}):(e=o.createElement(s),s==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,s),e[Yt]=t,e[Ci]=r,H0(e,t,!1,!1),t.stateNode=e;e:{switch(o=pc(s,r),s){case"dialog":de("cancel",e),de("close",e),i=r;break;case"iframe":case"object":case"embed":de("load",e),i=r;break;case"video":case"audio":for(i=0;i<Kn.length;i++)de(Kn[i],e);i=r;break;case"source":de("error",e),i=r;break;case"img":case"image":case"link":de("error",e),de("load",e),i=r;break;case"details":de("toggle",e),i=r;break;case"input":hh(e,r),i=cc(e,r),de("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=ve({},r,{value:void 0}),de("invalid",e);break;case"textarea":mh(e,r),i=hc(e,r),de("invalid",e);break;default:i=r}mc(s,i),l=i;for(a in l)if(l.hasOwnProperty(a)){var c=l[a];a==="style"?Np(e,c):a==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&bp(e,c)):a==="children"?typeof c=="string"?(s!=="textarea"||c!=="")&&yi(e,c):typeof c=="number"&&yi(e,""+c):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(xi.hasOwnProperty(a)?c!=null&&a==="onScroll"&&de("scroll",e):c!=null&&Tu(e,a,c,o))}switch(s){case"input":sa(e),fh(e,r,!1);break;case"textarea":sa(e),ph(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Ys(r.value));break;case"select":e.multiple=!!r.multiple,a=r.value,a!=null?ln(e,!!r.multiple,a,!1):r.defaultValue!=null&&ln(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=Ya)}switch(s){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Be(t),null;case 6:if(e&&t.stateNode!=null)W0(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(I(166));if(s=gr(Pi.current),gr(Xt.current),da(t)){if(r=t.stateNode,s=t.memoizedProps,r[Yt]=t,(a=r.nodeValue!==s)&&(e=xt,e!==null))switch(e.tag){case 3:ua(r.nodeValue,s,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&ua(r.nodeValue,s,(e.mode&1)!==0)}a&&(t.flags|=4)}else r=(s.nodeType===9?s:s.ownerDocument).createTextNode(r),r[Yt]=t,t.stateNode=r}return Be(t),null;case 13:if(fe(ge),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(me&&gt!==null&&t.mode&1&&!(t.flags&128))u0(),xn(),t.flags|=98560,a=!1;else if(a=da(t),r!==null&&r.dehydrated!==null){if(e===null){if(!a)throw Error(I(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(I(317));a[Yt]=t}else xn(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Be(t),a=!1}else Ft!==null&&(Yc(Ft),Ft=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=s,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||ge.current&1?Ee===0&&(Ee=3):ud())),t.updateQueue!==null&&(t.flags|=4),Be(t),null);case 4:return vn(),Uc(e,t),e===null&&ki(t.stateNode.containerInfo),Be(t),null;case 10:return Ku(t.type._context),Be(t),null;case 17:return ct(t.type)&&Qa(),Be(t),null;case 19:if(fe(ge),a=t.memoizedState,a===null)return Be(t),null;if(r=(t.flags&128)!==0,o=a.rendering,o===null)if(r)On(a,!1);else{if(Ee!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=ro(e),o!==null){for(t.flags|=128,On(a,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=s,s=t.child;s!==null;)a=s,e=r,a.flags&=14680066,o=a.alternate,o===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,e=o.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),s=s.sibling;return ce(ge,ge.current&1|2),t.child}e=e.sibling}a.tail!==null&&Ne()>bn&&(t.flags|=128,r=!0,On(a,!1),t.lanes=4194304)}else{if(!r)if(e=ro(o),e!==null){if(t.flags|=128,r=!0,s=e.updateQueue,s!==null&&(t.updateQueue=s,t.flags|=4),On(a,!0),a.tail===null&&a.tailMode==="hidden"&&!o.alternate&&!me)return Be(t),null}else 2*Ne()-a.renderingStartTime>bn&&s!==1073741824&&(t.flags|=128,r=!0,On(a,!1),t.lanes=4194304);a.isBackwards?(o.sibling=t.child,t.child=o):(s=a.last,s!==null?s.sibling=o:t.child=o,a.last=o)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Ne(),t.sibling=null,s=ge.current,ce(ge,r?s&1|2:s&1),t):(Be(t),null);case 22:case 23:return cd(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?pt&1073741824&&(Be(t),t.subtreeFlags&6&&(t.flags|=8192)):Be(t),null;case 24:return null;case 25:return null}throw Error(I(156,t.tag))}function Aw(e,t){switch(zu(t),t.tag){case 1:return ct(t.type)&&Qa(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return vn(),fe(lt),fe(Ge),Zu(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Ju(t),null;case 13:if(fe(ge),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(I(340));xn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return fe(ge),null;case 4:return vn(),null;case 10:return Ku(t.type._context),null;case 22:case 23:return cd(),null;case 24:return null;default:return null}}var ma=!1,qe=!1,Dw=typeof WeakSet=="function"?WeakSet:Set,q=null;function en(e,t){var s=e.ref;if(s!==null)if(typeof s=="function")try{s(null)}catch(r){be(e,t,r)}else s.current=null}function Bc(e,t,s){try{s()}catch(r){be(e,t,r)}}var nf=!1;function Rw(e,t){if(kc=Wa,e=Jp(),Uu(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else e:{s=(s=e.ownerDocument)&&s.defaultView||window;var r=s.getSelection&&s.getSelection();if(r&&r.rangeCount!==0){s=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{s.nodeType,a.nodeType}catch{s=null;break e}var o=0,l=-1,c=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var x;h!==s||i!==0&&h.nodeType!==3||(l=o+i),h!==a||r!==0&&h.nodeType!==3||(c=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(x=h.firstChild)!==null;)f=h,h=x;for(;;){if(h===e)break t;if(f===s&&++u===i&&(l=o),f===a&&++d===r&&(c=o),(x=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=x}s=l===-1||c===-1?null:{start:l,end:c}}else s=null}s=s||{start:0,end:0}}else s=null;for(_c={focusedElem:e,selectionRange:s},Wa=!1,q=t;q!==null;)if(t=q,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,q=e;else for(;q!==null;){t=q;try{var y=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var j=y.memoizedProps,w=y.memoizedState,g=t.stateNode,m=g.getSnapshotBeforeUpdate(t.elementType===t.type?j:Ot(t.type,j),w);g.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var p=t.stateNode.containerInfo;p.nodeType===1?p.textContent="":p.nodeType===9&&p.documentElement&&p.removeChild(p.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(I(163))}}catch(v){be(t,t.return,v)}if(e=t.sibling,e!==null){e.return=t.return,q=e;break}q=t.return}return y=nf,nf=!1,y}function si(e,t,s){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,a!==void 0&&Bc(t,s,a)}i=i.next}while(i!==r)}}function Oo(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var s=t=t.next;do{if((s.tag&e)===e){var r=s.create;s.destroy=r()}s=s.next}while(s!==t)}}function zc(e){var t=e.ref;if(t!==null){var s=e.stateNode;switch(e.tag){case 5:e=s;break;default:e=s}typeof t=="function"?t(e):t.current=e}}function K0(e){var t=e.alternate;t!==null&&(e.alternate=null,K0(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Yt],delete t[Ci],delete t[Pc],delete t[pw],delete t[gw])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function G0(e){return e.tag===5||e.tag===3||e.tag===4}function af(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||G0(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Hc(e,t,s){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?s.nodeType===8?s.parentNode.insertBefore(e,t):s.insertBefore(e,t):(s.nodeType===8?(t=s.parentNode,t.insertBefore(e,s)):(t=s,t.appendChild(e)),s=s._reactRootContainer,s!=null||t.onclick!==null||(t.onclick=Ya));else if(r!==4&&(e=e.child,e!==null))for(Hc(e,t,s),e=e.sibling;e!==null;)Hc(e,t,s),e=e.sibling}function qc(e,t,s){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?s.insertBefore(e,t):s.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(qc(e,t,s),e=e.sibling;e!==null;)qc(e,t,s),e=e.sibling}var Ve=null,Vt=!1;function _s(e,t,s){for(s=s.child;s!==null;)Y0(e,t,s),s=s.sibling}function Y0(e,t,s){if(Zt&&typeof Zt.onCommitFiberUnmount=="function")try{Zt.onCommitFiberUnmount(Po,s)}catch{}switch(s.tag){case 5:qe||en(s,t);case 6:var r=Ve,i=Vt;Ve=null,_s(e,t,s),Ve=r,Vt=i,Ve!==null&&(Vt?(e=Ve,s=s.stateNode,e.nodeType===8?e.parentNode.removeChild(s):e.removeChild(s)):Ve.removeChild(s.stateNode));break;case 18:Ve!==null&&(Vt?(e=Ve,s=s.stateNode,e.nodeType===8?Cl(e.parentNode,s):e.nodeType===1&&Cl(e,s),ji(e)):Cl(Ve,s.stateNode));break;case 4:r=Ve,i=Vt,Ve=s.stateNode.containerInfo,Vt=!0,_s(e,t,s),Ve=r,Vt=i;break;case 0:case 11:case 14:case 15:if(!qe&&(r=s.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,o!==void 0&&(a&2||a&4)&&Bc(s,t,o),i=i.next}while(i!==r)}_s(e,t,s);break;case 1:if(!qe&&(en(s,t),r=s.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=s.memoizedProps,r.state=s.memoizedState,r.componentWillUnmount()}catch(l){be(s,t,l)}_s(e,t,s);break;case 21:_s(e,t,s);break;case 22:s.mode&1?(qe=(r=qe)||s.memoizedState!==null,_s(e,t,s),qe=r):_s(e,t,s);break;default:_s(e,t,s)}}function of(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var s=e.stateNode;s===null&&(s=e.stateNode=new Dw),t.forEach(function(r){var i=Bw.bind(null,e,r);s.has(r)||(s.add(r),r.then(i,i))})}}function Mt(e,t){var s=t.deletions;if(s!==null)for(var r=0;r<s.length;r++){var i=s[r];try{var a=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:Ve=l.stateNode,Vt=!1;break e;case 3:Ve=l.stateNode.containerInfo,Vt=!0;break e;case 4:Ve=l.stateNode.containerInfo,Vt=!0;break e}l=l.return}if(Ve===null)throw Error(I(160));Y0(a,o,i),Ve=null,Vt=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(u){be(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Q0(t,e),t=t.sibling}function Q0(e,t){var s=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Mt(t,e),Wt(e),r&4){try{si(3,e,e.return),Oo(3,e)}catch(j){be(e,e.return,j)}try{si(5,e,e.return)}catch(j){be(e,e.return,j)}}break;case 1:Mt(t,e),Wt(e),r&512&&s!==null&&en(s,s.return);break;case 5:if(Mt(t,e),Wt(e),r&512&&s!==null&&en(s,s.return),e.flags&32){var i=e.stateNode;try{yi(i,"")}catch(j){be(e,e.return,j)}}if(r&4&&(i=e.stateNode,i!=null)){var a=e.memoizedProps,o=s!==null?s.memoizedProps:a,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&a.type==="radio"&&a.name!=null&&yp(i,a),pc(l,o);var u=pc(l,a);for(o=0;o<c.length;o+=2){var d=c[o],h=c[o+1];d==="style"?Np(i,h):d==="dangerouslySetInnerHTML"?bp(i,h):d==="children"?yi(i,h):Tu(i,d,h,u)}switch(l){case"input":uc(i,a);break;case"textarea":vp(i,a);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var x=a.value;x!=null?ln(i,!!a.multiple,x,!1):f!==!!a.multiple&&(a.defaultValue!=null?ln(i,!!a.multiple,a.defaultValue,!0):ln(i,!!a.multiple,a.multiple?[]:"",!1))}i[Ci]=a}catch(j){be(e,e.return,j)}}break;case 6:if(Mt(t,e),Wt(e),r&4){if(e.stateNode===null)throw Error(I(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(j){be(e,e.return,j)}}break;case 3:if(Mt(t,e),Wt(e),r&4&&s!==null&&s.memoizedState.isDehydrated)try{ji(t.containerInfo)}catch(j){be(e,e.return,j)}break;case 4:Mt(t,e),Wt(e);break;case 13:Mt(t,e),Wt(e),i=e.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(od=Ne())),r&4&&of(e);break;case 22:if(d=s!==null&&s.memoizedState!==null,e.mode&1?(qe=(u=qe)||d,Mt(t,e),qe=u):Mt(t,e),Wt(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(q=e,d=e.child;d!==null;){for(h=q=d;q!==null;){switch(f=q,x=f.child,f.tag){case 0:case 11:case 14:case 15:si(4,f,f.return);break;case 1:en(f,f.return);var y=f.stateNode;if(typeof y.componentWillUnmount=="function"){r=f,s=f.return;try{t=r,y.props=t.memoizedProps,y.state=t.memoizedState,y.componentWillUnmount()}catch(j){be(r,s,j)}}break;case 5:en(f,f.return);break;case 22:if(f.memoizedState!==null){cf(h);continue}}x!==null?(x.return=f,q=x):cf(h)}d=d.sibling}e:for(d=null,h=e;;){if(h.tag===5){if(d===null){d=h;try{i=h.stateNode,u?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(l=h.stateNode,c=h.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=jp("display",o))}catch(j){be(e,e.return,j)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(j){be(e,e.return,j)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Mt(t,e),Wt(e),r&4&&of(e);break;case 21:break;default:Mt(t,e),Wt(e)}}function Wt(e){var t=e.flags;if(t&2){try{e:{for(var s=e.return;s!==null;){if(G0(s)){var r=s;break e}s=s.return}throw Error(I(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(yi(i,""),r.flags&=-33);var a=af(e);qc(e,a,i);break;case 3:case 4:var o=r.stateNode.containerInfo,l=af(e);Hc(e,l,o);break;default:throw Error(I(161))}}catch(c){be(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Lw(e,t,s){q=e,J0(e)}function J0(e,t,s){for(var r=(e.mode&1)!==0;q!==null;){var i=q,a=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||ma;if(!o){var l=i.alternate,c=l!==null&&l.memoizedState!==null||qe;l=ma;var u=qe;if(ma=o,(qe=c)&&!u)for(q=i;q!==null;)o=q,c=o.child,o.tag===22&&o.memoizedState!==null?uf(i):c!==null?(c.return=o,q=c):uf(i);for(;a!==null;)q=a,J0(a),a=a.sibling;q=i,ma=l,qe=u}lf(e)}else i.subtreeFlags&8772&&a!==null?(a.return=i,q=a):lf(e)}}function lf(e){for(;q!==null;){var t=q;if(t.flags&8772){var s=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:qe||Oo(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!qe)if(s===null)r.componentDidMount();else{var i=t.elementType===t.type?s.memoizedProps:Ot(t.type,s.memoizedProps);r.componentDidUpdate(i,s.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&qh(t,a,r);break;case 3:var o=t.updateQueue;if(o!==null){if(s=null,t.child!==null)switch(t.child.tag){case 5:s=t.child.stateNode;break;case 1:s=t.child.stateNode}qh(t,o,s)}break;case 5:var l=t.stateNode;if(s===null&&t.flags&4){s=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&s.focus();break;case"img":c.src&&(s.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&ji(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(I(163))}qe||t.flags&512&&zc(t)}catch(f){be(t,t.return,f)}}if(t===e){q=null;break}if(s=t.sibling,s!==null){s.return=t.return,q=s;break}q=t.return}}function cf(e){for(;q!==null;){var t=q;if(t===e){q=null;break}var s=t.sibling;if(s!==null){s.return=t.return,q=s;break}q=t.return}}function uf(e){for(;q!==null;){var t=q;try{switch(t.tag){case 0:case 11:case 15:var s=t.return;try{Oo(4,t)}catch(c){be(t,s,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(c){be(t,i,c)}}var a=t.return;try{zc(t)}catch(c){be(t,a,c)}break;case 5:var o=t.return;try{zc(t)}catch(c){be(t,o,c)}}}catch(c){be(t,t.return,c)}if(t===e){q=null;break}var l=t.sibling;if(l!==null){l.return=t.return,q=l;break}q=t.return}}var Mw=Math.ceil,ao=Ss.ReactCurrentDispatcher,id=Ss.ReactCurrentOwner,Et=Ss.ReactCurrentBatchConfig,re=0,Le=null,Te=null,$e=0,pt=0,tn=tr(0),Ee=0,Ri=null,_r=0,Vo=0,ad=0,ri=null,it=null,od=0,bn=1/0,is=null,oo=!1,Wc=null,Hs=null,pa=!1,Vs=null,lo=0,ni=0,Kc=null,Ma=-1,Ia=0;function Ze(){return re&6?Ne():Ma!==-1?Ma:Ma=Ne()}function qs(e){return e.mode&1?re&2&&$e!==0?$e&-$e:yw.transition!==null?(Ia===0&&(Ia=Mp()),Ia):(e=ae,e!==0||(e=window.event,e=e===void 0?16:Bp(e.type)),e):1}function Ht(e,t,s,r){if(50<ni)throw ni=0,Kc=null,Error(I(185));Fi(e,s,r),(!(re&2)||e!==Le)&&(e===Le&&(!(re&2)&&(Vo|=s),Ee===4&&Ls(e,$e)),ut(e,r),s===1&&re===0&&!(t.mode&1)&&(bn=Ne()+500,Lo&&sr()))}function ut(e,t){var s=e.callbackNode;yv(e,t);var r=qa(e,e===Le?$e:0);if(r===0)s!==null&&yh(s),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(s!=null&&yh(s),t===1)e.tag===0?xw(df.bind(null,e)):o0(df.bind(null,e)),fw(function(){!(re&6)&&sr()}),s=null;else{switch(Ip(r)){case 1:s=Ru;break;case 4:s=Rp;break;case 16:s=Ha;break;case 536870912:s=Lp;break;default:s=Ha}s=ig(s,Z0.bind(null,e))}e.callbackPriority=t,e.callbackNode=s}}function Z0(e,t){if(Ma=-1,Ia=0,re&6)throw Error(I(327));var s=e.callbackNode;if(fn()&&e.callbackNode!==s)return null;var r=qa(e,e===Le?$e:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=co(e,r);else{t=r;var i=re;re|=2;var a=eg();(Le!==e||$e!==t)&&(is=null,bn=Ne()+500,vr(e,t));do try{Vw();break}catch(l){X0(e,l)}while(!0);Wu(),ao.current=a,re=i,Te!==null?t=0:(Le=null,$e=0,t=Ee)}if(t!==0){if(t===2&&(i=wc(e),i!==0&&(r=i,t=Gc(e,i))),t===1)throw s=Ri,vr(e,0),Ls(e,r),ut(e,Ne()),s;if(t===6)Ls(e,r);else{if(i=e.current.alternate,!(r&30)&&!Iw(i)&&(t=co(e,r),t===2&&(a=wc(e),a!==0&&(r=a,t=Gc(e,a))),t===1))throw s=Ri,vr(e,0),Ls(e,r),ut(e,Ne()),s;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(I(345));case 2:lr(e,it,is);break;case 3:if(Ls(e,r),(r&130023424)===r&&(t=od+500-Ne(),10<t)){if(qa(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){Ze(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Tc(lr.bind(null,e,it,is),t);break}lr(e,it,is);break;case 4:if(Ls(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var o=31-zt(r);a=1<<o,o=t[o],o>i&&(i=o),r&=~a}if(r=i,r=Ne()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Mw(r/1960))-r,10<r){e.timeoutHandle=Tc(lr.bind(null,e,it,is),r);break}lr(e,it,is);break;case 5:lr(e,it,is);break;default:throw Error(I(329))}}}return ut(e,Ne()),e.callbackNode===s?Z0.bind(null,e):null}function Gc(e,t){var s=ri;return e.current.memoizedState.isDehydrated&&(vr(e,t).flags|=256),e=co(e,t),e!==2&&(t=it,it=s,t!==null&&Yc(t)),e}function Yc(e){it===null?it=e:it.push.apply(it,e)}function Iw(e){for(var t=e;;){if(t.flags&16384){var s=t.updateQueue;if(s!==null&&(s=s.stores,s!==null))for(var r=0;r<s.length;r++){var i=s[r],a=i.getSnapshot;i=i.value;try{if(!qt(a(),i))return!1}catch{return!1}}}if(s=t.child,t.subtreeFlags&16384&&s!==null)s.return=t,t=s;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ls(e,t){for(t&=~ad,t&=~Vo,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var s=31-zt(t),r=1<<s;e[s]=-1,t&=~r}}function df(e){if(re&6)throw Error(I(327));fn();var t=qa(e,0);if(!(t&1))return ut(e,Ne()),null;var s=co(e,t);if(e.tag!==0&&s===2){var r=wc(e);r!==0&&(t=r,s=Gc(e,r))}if(s===1)throw s=Ri,vr(e,0),Ls(e,t),ut(e,Ne()),s;if(s===6)throw Error(I(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,lr(e,it,is),ut(e,Ne()),null}function ld(e,t){var s=re;re|=1;try{return e(t)}finally{re=s,re===0&&(bn=Ne()+500,Lo&&sr())}}function Cr(e){Vs!==null&&Vs.tag===0&&!(re&6)&&fn();var t=re;re|=1;var s=Et.transition,r=ae;try{if(Et.transition=null,ae=1,e)return e()}finally{ae=r,Et.transition=s,re=t,!(re&6)&&sr()}}function cd(){pt=tn.current,fe(tn)}function vr(e,t){e.finishedWork=null,e.finishedLanes=0;var s=e.timeoutHandle;if(s!==-1&&(e.timeoutHandle=-1,hw(s)),Te!==null)for(s=Te.return;s!==null;){var r=s;switch(zu(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Qa();break;case 3:vn(),fe(lt),fe(Ge),Zu();break;case 5:Ju(r);break;case 4:vn();break;case 13:fe(ge);break;case 19:fe(ge);break;case 10:Ku(r.type._context);break;case 22:case 23:cd()}s=s.return}if(Le=e,Te=e=Ws(e.current,null),$e=pt=t,Ee=0,Ri=null,ad=Vo=_r=0,it=ri=null,pr!==null){for(t=0;t<pr.length;t++)if(s=pr[t],r=s.interleaved,r!==null){s.interleaved=null;var i=r.next,a=s.pending;if(a!==null){var o=a.next;a.next=i,r.next=o}s.pending=r}pr=null}return e}function X0(e,t){do{var s=Te;try{if(Wu(),Da.current=io,no){for(var r=ye.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}no=!1}if(kr=0,Re=Pe=ye=null,ti=!1,Ei=0,id.current=null,s===null||s.return===null){Ee=1,Ri=t,Te=null;break}e:{var a=e,o=s.return,l=s,c=t;if(t=$e,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var x=Jh(o);if(x!==null){x.flags&=-257,Zh(x,o,l,a,t),x.mode&1&&Qh(a,u,t),t=x,c=u;var y=t.updateQueue;if(y===null){var j=new Set;j.add(c),t.updateQueue=j}else y.add(c);break e}else{if(!(t&1)){Qh(a,u,t),ud();break e}c=Error(I(426))}}else if(me&&l.mode&1){var w=Jh(o);if(w!==null){!(w.flags&65536)&&(w.flags|=256),Zh(w,o,l,a,t),Hu(wn(c,l));break e}}a=c=wn(c,l),Ee!==4&&(Ee=2),ri===null?ri=[a]:ri.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var g=I0(a,c,t);Hh(a,g);break e;case 1:l=c;var m=a.type,p=a.stateNode;if(!(a.flags&128)&&(typeof m.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(Hs===null||!Hs.has(p)))){a.flags|=65536,t&=-t,a.lanes|=t;var v=O0(a,l,t);Hh(a,v);break e}}a=a.return}while(a!==null)}sg(s)}catch(b){t=b,Te===s&&s!==null&&(Te=s=s.return);continue}break}while(!0)}function eg(){var e=ao.current;return ao.current=io,e===null?io:e}function ud(){(Ee===0||Ee===3||Ee===2)&&(Ee=4),Le===null||!(_r&268435455)&&!(Vo&268435455)||Ls(Le,$e)}function co(e,t){var s=re;re|=2;var r=eg();(Le!==e||$e!==t)&&(is=null,vr(e,t));do try{Ow();break}catch(i){X0(e,i)}while(!0);if(Wu(),re=s,ao.current=r,Te!==null)throw Error(I(261));return Le=null,$e=0,Ee}function Ow(){for(;Te!==null;)tg(Te)}function Vw(){for(;Te!==null&&!cv();)tg(Te)}function tg(e){var t=ng(e.alternate,e,pt);e.memoizedProps=e.pendingProps,t===null?sg(e):Te=t,id.current=null}function sg(e){var t=e;do{var s=t.alternate;if(e=t.return,t.flags&32768){if(s=Aw(s,t),s!==null){s.flags&=32767,Te=s;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ee=6,Te=null;return}}else if(s=Ew(s,t,pt),s!==null){Te=s;return}if(t=t.sibling,t!==null){Te=t;return}Te=t=e}while(t!==null);Ee===0&&(Ee=5)}function lr(e,t,s){var r=ae,i=Et.transition;try{Et.transition=null,ae=1,$w(e,t,s,r)}finally{Et.transition=i,ae=r}return null}function $w(e,t,s,r){do fn();while(Vs!==null);if(re&6)throw Error(I(327));s=e.finishedWork;var i=e.finishedLanes;if(s===null)return null;if(e.finishedWork=null,e.finishedLanes=0,s===e.current)throw Error(I(177));e.callbackNode=null,e.callbackPriority=0;var a=s.lanes|s.childLanes;if(vv(e,a),e===Le&&(Te=Le=null,$e=0),!(s.subtreeFlags&2064)&&!(s.flags&2064)||pa||(pa=!0,ig(Ha,function(){return fn(),null})),a=(s.flags&15990)!==0,s.subtreeFlags&15990||a){a=Et.transition,Et.transition=null;var o=ae;ae=1;var l=re;re|=4,id.current=null,Rw(e,s),Q0(s,e),iw(_c),Wa=!!kc,_c=kc=null,e.current=s,Lw(s),uv(),re=l,ae=o,Et.transition=a}else e.current=s;if(pa&&(pa=!1,Vs=e,lo=i),a=e.pendingLanes,a===0&&(Hs=null),fv(s.stateNode),ut(e,Ne()),t!==null)for(r=e.onRecoverableError,s=0;s<t.length;s++)i=t[s],r(i.value,{componentStack:i.stack,digest:i.digest});if(oo)throw oo=!1,e=Wc,Wc=null,e;return lo&1&&e.tag!==0&&fn(),a=e.pendingLanes,a&1?e===Kc?ni++:(ni=0,Kc=e):ni=0,sr(),null}function fn(){if(Vs!==null){var e=Ip(lo),t=Et.transition,s=ae;try{if(Et.transition=null,ae=16>e?16:e,Vs===null)var r=!1;else{if(e=Vs,Vs=null,lo=0,re&6)throw Error(I(331));var i=re;for(re|=4,q=e.current;q!==null;){var a=q,o=a.child;if(q.flags&16){var l=a.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(q=u;q!==null;){var d=q;switch(d.tag){case 0:case 11:case 15:si(8,d,a)}var h=d.child;if(h!==null)h.return=d,q=h;else for(;q!==null;){d=q;var f=d.sibling,x=d.return;if(K0(d),d===u){q=null;break}if(f!==null){f.return=x,q=f;break}q=x}}}var y=a.alternate;if(y!==null){var j=y.child;if(j!==null){y.child=null;do{var w=j.sibling;j.sibling=null,j=w}while(j!==null)}}q=a}}if(a.subtreeFlags&2064&&o!==null)o.return=a,q=o;else e:for(;q!==null;){if(a=q,a.flags&2048)switch(a.tag){case 0:case 11:case 15:si(9,a,a.return)}var g=a.sibling;if(g!==null){g.return=a.return,q=g;break e}q=a.return}}var m=e.current;for(q=m;q!==null;){o=q;var p=o.child;if(o.subtreeFlags&2064&&p!==null)p.return=o,q=p;else e:for(o=m;q!==null;){if(l=q,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Oo(9,l)}}catch(b){be(l,l.return,b)}if(l===o){q=null;break e}var v=l.sibling;if(v!==null){v.return=l.return,q=v;break e}q=l.return}}if(re=i,sr(),Zt&&typeof Zt.onPostCommitFiberRoot=="function")try{Zt.onPostCommitFiberRoot(Po,e)}catch{}r=!0}return r}finally{ae=s,Et.transition=t}}return!1}function hf(e,t,s){t=wn(s,t),t=I0(e,t,1),e=zs(e,t,1),t=Ze(),e!==null&&(Fi(e,1,t),ut(e,t))}function be(e,t,s){if(e.tag===3)hf(e,e,s);else for(;t!==null;){if(t.tag===3){hf(t,e,s);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Hs===null||!Hs.has(r))){e=wn(s,e),e=O0(t,e,1),t=zs(t,e,1),e=Ze(),t!==null&&(Fi(t,1,e),ut(t,e));break}}t=t.return}}function Fw(e,t,s){var r=e.pingCache;r!==null&&r.delete(t),t=Ze(),e.pingedLanes|=e.suspendedLanes&s,Le===e&&($e&s)===s&&(Ee===4||Ee===3&&($e&130023424)===$e&&500>Ne()-od?vr(e,0):ad|=s),ut(e,t)}function rg(e,t){t===0&&(e.mode&1?(t=ia,ia<<=1,!(ia&130023424)&&(ia=4194304)):t=1);var s=Ze();e=xs(e,t),e!==null&&(Fi(e,t,s),ut(e,s))}function Uw(e){var t=e.memoizedState,s=0;t!==null&&(s=t.retryLane),rg(e,s)}function Bw(e,t){var s=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(s=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(I(314))}r!==null&&r.delete(t),rg(e,s)}var ng;ng=function(e,t,s){if(e!==null)if(e.memoizedProps!==t.pendingProps||lt.current)ot=!0;else{if(!(e.lanes&s)&&!(t.flags&128))return ot=!1,Pw(e,t,s);ot=!!(e.flags&131072)}else ot=!1,me&&t.flags&1048576&&l0(t,Xa,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;La(e,t),e=t.pendingProps;var i=gn(t,Ge.current);hn(t,s),i=ed(null,t,r,e,i,s);var a=td();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,ct(r)?(a=!0,Ja(t)):a=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Yu(t),i.updater=Io,t.stateNode=i,i._reactInternals=t,Mc(t,r,e,s),t=Vc(null,t,r,!0,a,s)):(t.tag=0,me&&a&&Bu(t),Qe(null,t,i,s),t=t.child),t;case 16:r=t.elementType;e:{switch(La(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=Hw(r),e=Ot(r,e),i){case 0:t=Oc(null,t,r,e,s);break e;case 1:t=tf(null,t,r,e,s);break e;case 11:t=Xh(null,t,r,e,s);break e;case 14:t=ef(null,t,r,Ot(r.type,e),s);break e}throw Error(I(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Ot(r,i),Oc(e,t,r,i,s);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Ot(r,i),tf(e,t,r,i,s);case 3:e:{if(U0(t),e===null)throw Error(I(387));r=t.pendingProps,a=t.memoizedState,i=a.element,m0(e,t),so(t,r,null,s);var o=t.memoizedState;if(r=o.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){i=wn(Error(I(423)),t),t=sf(e,t,r,s,i);break e}else if(r!==i){i=wn(Error(I(424)),t),t=sf(e,t,r,s,i);break e}else for(gt=Bs(t.stateNode.containerInfo.firstChild),xt=t,me=!0,Ft=null,s=h0(t,null,r,s),t.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(xn(),r===i){t=ys(e,t,s);break e}Qe(e,t,r,s)}t=t.child}return t;case 5:return p0(t),e===null&&Dc(t),r=t.type,i=t.pendingProps,a=e!==null?e.memoizedProps:null,o=i.children,Cc(r,i)?o=null:a!==null&&Cc(r,a)&&(t.flags|=32),F0(e,t),Qe(e,t,o,s),t.child;case 6:return e===null&&Dc(t),null;case 13:return B0(e,t,s);case 4:return Qu(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=yn(t,null,r,s):Qe(e,t,r,s),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Ot(r,i),Xh(e,t,r,i,s);case 7:return Qe(e,t,t.pendingProps,s),t.child;case 8:return Qe(e,t,t.pendingProps.children,s),t.child;case 12:return Qe(e,t,t.pendingProps.children,s),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,a=t.memoizedProps,o=i.value,ce(eo,r._currentValue),r._currentValue=o,a!==null)if(qt(a.value,o)){if(a.children===i.children&&!lt.current){t=ys(e,t,s);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var l=a.dependencies;if(l!==null){o=a.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(a.tag===1){c=hs(-1,s&-s),c.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}a.lanes|=s,c=a.alternate,c!==null&&(c.lanes|=s),Rc(a.return,s,t),l.lanes|=s;break}c=c.next}}else if(a.tag===10)o=a.type===t.type?null:a.child;else if(a.tag===18){if(o=a.return,o===null)throw Error(I(341));o.lanes|=s,l=o.alternate,l!==null&&(l.lanes|=s),Rc(o,s,t),o=a.sibling}else o=a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===t){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}Qe(e,t,i.children,s),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,hn(t,s),i=Dt(i),r=r(i),t.flags|=1,Qe(e,t,r,s),t.child;case 14:return r=t.type,i=Ot(r,t.pendingProps),i=Ot(r.type,i),ef(e,t,r,i,s);case 15:return V0(e,t,t.type,t.pendingProps,s);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Ot(r,i),La(e,t),t.tag=1,ct(r)?(e=!0,Ja(t)):e=!1,hn(t,s),M0(t,r,i),Mc(t,r,i,s),Vc(null,t,r,!0,e,s);case 19:return z0(e,t,s);case 22:return $0(e,t,s)}throw Error(I(156,t.tag))};function ig(e,t){return Dp(e,t)}function zw(e,t,s,r){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pt(e,t,s,r){return new zw(e,t,s,r)}function dd(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Hw(e){if(typeof e=="function")return dd(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Eu)return 11;if(e===Au)return 14}return 2}function Ws(e,t){var s=e.alternate;return s===null?(s=Pt(e.tag,t,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=t,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&14680064,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,t=e.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s}function Oa(e,t,s,r,i,a){var o=2;if(r=e,typeof e=="function")dd(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case qr:return wr(s.children,i,a,t);case Pu:o=8,i|=8;break;case ic:return e=Pt(12,s,t,i|2),e.elementType=ic,e.lanes=a,e;case ac:return e=Pt(13,s,t,i),e.elementType=ac,e.lanes=a,e;case oc:return e=Pt(19,s,t,i),e.elementType=oc,e.lanes=a,e;case pp:return $o(s,i,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case fp:o=10;break e;case mp:o=9;break e;case Eu:o=11;break e;case Au:o=14;break e;case Ps:o=16,r=null;break e}throw Error(I(130,e==null?e:typeof e,""))}return t=Pt(o,s,t,i),t.elementType=e,t.type=r,t.lanes=a,t}function wr(e,t,s,r){return e=Pt(7,e,r,t),e.lanes=s,e}function $o(e,t,s,r){return e=Pt(22,e,r,t),e.elementType=pp,e.lanes=s,e.stateNode={isHidden:!1},e}function Ml(e,t,s){return e=Pt(6,e,null,t),e.lanes=s,e}function Il(e,t,s){return t=Pt(4,e.children!==null?e.children:[],e.key,t),t.lanes=s,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function qw(e,t,s,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gl(0),this.expirationTimes=gl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gl(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function hd(e,t,s,r,i,a,o,l,c){return e=new qw(e,t,s,l,c),t===1?(t=1,a===!0&&(t|=8)):t=0,a=Pt(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:s,cache:null,transitions:null,pendingSuspenseBoundaries:null},Yu(a),e}function Ww(e,t,s){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Hr,key:r==null?null:""+r,children:e,containerInfo:t,implementation:s}}function ag(e){if(!e)return Qs;e=e._reactInternals;e:{if(Er(e)!==e||e.tag!==1)throw Error(I(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(ct(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(I(171))}if(e.tag===1){var s=e.type;if(ct(s))return a0(e,s,t)}return t}function og(e,t,s,r,i,a,o,l,c){return e=hd(s,r,!0,e,i,a,o,l,c),e.context=ag(null),s=e.current,r=Ze(),i=qs(s),a=hs(r,i),a.callback=t??null,zs(s,a,i),e.current.lanes=i,Fi(e,i,r),ut(e,r),e}function Fo(e,t,s,r){var i=t.current,a=Ze(),o=qs(i);return s=ag(s),t.context===null?t.context=s:t.pendingContext=s,t=hs(a,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=zs(i,t,o),e!==null&&(Ht(e,i,o,a),Aa(e,i,o)),o}function uo(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function ff(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<t?s:t}}function fd(e,t){ff(e,t),(e=e.alternate)&&ff(e,t)}function Kw(){return null}var lg=typeof reportError=="function"?reportError:function(e){console.error(e)};function md(e){this._internalRoot=e}Uo.prototype.render=md.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(I(409));Fo(e,t,null,null)};Uo.prototype.unmount=md.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Cr(function(){Fo(null,e,null,null)}),t[gs]=null}};function Uo(e){this._internalRoot=e}Uo.prototype.unstable_scheduleHydration=function(e){if(e){var t=$p();e={blockedOn:null,target:e,priority:t};for(var s=0;s<Rs.length&&t!==0&&t<Rs[s].priority;s++);Rs.splice(s,0,e),s===0&&Up(e)}};function pd(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Bo(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function mf(){}function Gw(e,t,s,r,i){if(i){if(typeof r=="function"){var a=r;r=function(){var u=uo(o);a.call(u)}}var o=og(t,r,e,0,null,!1,!1,"",mf);return e._reactRootContainer=o,e[gs]=o.current,ki(e.nodeType===8?e.parentNode:e),Cr(),o}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var l=r;r=function(){var u=uo(c);l.call(u)}}var c=hd(e,0,!1,null,null,!1,!1,"",mf);return e._reactRootContainer=c,e[gs]=c.current,ki(e.nodeType===8?e.parentNode:e),Cr(function(){Fo(t,c,s,r)}),c}function zo(e,t,s,r,i){var a=s._reactRootContainer;if(a){var o=a;if(typeof i=="function"){var l=i;i=function(){var c=uo(o);l.call(c)}}Fo(t,o,e,i)}else o=Gw(s,t,e,i,r);return uo(o)}Op=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var s=Wn(t.pendingLanes);s!==0&&(Lu(t,s|1),ut(t,Ne()),!(re&6)&&(bn=Ne()+500,sr()))}break;case 13:Cr(function(){var r=xs(e,1);if(r!==null){var i=Ze();Ht(r,e,1,i)}}),fd(e,1)}};Mu=function(e){if(e.tag===13){var t=xs(e,134217728);if(t!==null){var s=Ze();Ht(t,e,134217728,s)}fd(e,134217728)}};Vp=function(e){if(e.tag===13){var t=qs(e),s=xs(e,t);if(s!==null){var r=Ze();Ht(s,e,t,r)}fd(e,t)}};$p=function(){return ae};Fp=function(e,t){var s=ae;try{return ae=e,t()}finally{ae=s}};xc=function(e,t,s){switch(t){case"input":if(uc(e,s),t=s.name,s.type==="radio"&&t!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<s.length;t++){var r=s[t];if(r!==e&&r.form===e.form){var i=Ro(r);if(!i)throw Error(I(90));xp(r),uc(r,i)}}}break;case"textarea":vp(e,s);break;case"select":t=s.value,t!=null&&ln(e,!!s.multiple,t,!1)}};_p=ld;Cp=Cr;var Yw={usingClientEntryPoint:!1,Events:[Bi,Yr,Ro,Sp,kp,ld]},Vn={findFiberByHostInstance:mr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Qw={bundleType:Vn.bundleType,version:Vn.version,rendererPackageName:Vn.rendererPackageName,rendererConfig:Vn.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ss.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Ep(e),e===null?null:e.stateNode},findFiberByHostInstance:Vn.findFiberByHostInstance||Kw,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ga=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ga.isDisabled&&ga.supportsFiber)try{Po=ga.inject(Qw),Zt=ga}catch{}}jt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Yw;jt.createPortal=function(e,t){var s=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!pd(t))throw Error(I(200));return Ww(e,t,null,s)};jt.createRoot=function(e,t){if(!pd(e))throw Error(I(299));var s=!1,r="",i=lg;return t!=null&&(t.unstable_strictMode===!0&&(s=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=hd(e,1,!1,null,null,s,!1,r,i),e[gs]=t.current,ki(e.nodeType===8?e.parentNode:e),new md(t)};jt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(I(188)):(e=Object.keys(e).join(","),Error(I(268,e)));return e=Ep(t),e=e===null?null:e.stateNode,e};jt.flushSync=function(e){return Cr(e)};jt.hydrate=function(e,t,s){if(!Bo(t))throw Error(I(200));return zo(null,e,t,!0,s)};jt.hydrateRoot=function(e,t,s){if(!pd(e))throw Error(I(405));var r=s!=null&&s.hydratedSources||null,i=!1,a="",o=lg;if(s!=null&&(s.unstable_strictMode===!0&&(i=!0),s.identifierPrefix!==void 0&&(a=s.identifierPrefix),s.onRecoverableError!==void 0&&(o=s.onRecoverableError)),t=og(t,null,e,1,s??null,i,!1,a,o),e[gs]=t.current,ki(e),r)for(e=0;e<r.length;e++)s=r[e],i=s._getVersion,i=i(s._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[s,i]:t.mutableSourceEagerHydrationData.push(s,i);return new Uo(t)};jt.render=function(e,t,s){if(!Bo(t))throw Error(I(200));return zo(null,e,t,!1,s)};jt.unmountComponentAtNode=function(e){if(!Bo(e))throw Error(I(40));return e._reactRootContainer?(Cr(function(){zo(null,null,e,!1,function(){e._reactRootContainer=null,e[gs]=null})}),!0):!1};jt.unstable_batchedUpdates=ld;jt.unstable_renderSubtreeIntoContainer=function(e,t,s,r){if(!Bo(s))throw Error(I(200));if(e==null||e._reactInternals===void 0)throw Error(I(38));return zo(e,t,s,!1,r)};jt.version="18.3.1-next-f1338f8080-20240426";function cg(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(cg)}catch(e){console.error(e)}}cg(),cp.exports=jt;var Jw=cp.exports,ug,pf=Jw;ug=pf.createRoot,pf.hydrateRoot;const Zw="modulepreload",Xw=function(e){return"/"+e},gf={},Hi=function(t,s,r){let i=Promise.resolve();if(s&&s.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.allSettled(s.map(c=>{if(c=Xw(c),c in gf)return;gf[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const h=document.createElement("link");if(h.rel=u?"stylesheet":Zw,u||(h.as="script"),h.crossOrigin="",h.href=c,l&&h.setAttribute("nonce",l),document.head.appendChild(h),u)return new Promise((f,x)=>{h.addEventListener("load",f),h.addEventListener("error",()=>x(new Error(`Unable to preload CSS for ${c}`)))})}))}function a(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return i.then(o=>{for(const l of o||[])l.status==="rejected"&&a(l.reason);return t().catch(a)})},eb=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...s)=>Hi(async()=>{const{default:r}=await Promise.resolve().then(()=>Pn);return{default:r}},void 0).then(({default:r})=>r(...s)):t=fetch,(...s)=>t(...s)};class gd extends Error{constructor(t,s="FunctionsError",r){super(t),this.name=s,this.context=r}}class tb extends gd{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class sb extends gd{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class rb extends gd{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Qc;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Qc||(Qc={}));var nb=function(e,t,s,r){function i(a){return a instanceof s?a:new s(function(o){o(a)})}return new(s||(s=Promise))(function(a,o){function l(d){try{u(r.next(d))}catch(h){o(h)}}function c(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?a(d.value):i(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};class ib{constructor(t,{headers:s={},customFetch:r,region:i=Qc.Any}={}){this.url=t,this.headers=s,this.region=i,this.fetch=eb(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,s={}){var r;return nb(this,void 0,void 0,function*(){try{const{headers:i,method:a,body:o}=s;let l={},{region:c}=s;c||(c=this.region),c&&c!=="any"&&(l["x-region"]=c);let u;o&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",u=o):typeof o=="string"?(l["Content-Type"]="text/plain",u=o):typeof FormData<"u"&&o instanceof FormData?u=o:(l["Content-Type"]="application/json",u=JSON.stringify(o)));const d=yield this.fetch(`${this.url}/${t}`,{method:a||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),i),body:u}).catch(y=>{throw new tb(y)}),h=d.headers.get("x-relay-error");if(h&&h==="true")throw new sb(d);if(!d.ok)throw new rb(d);let f=((r=d.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),x;return f==="application/json"?x=yield d.json():f==="application/octet-stream"?x=yield d.blob():f==="text/event-stream"?x=d:f==="multipart/form-data"?x=yield d.formData():x=yield d.text(),{data:x,error:null}}catch(i){return{data:null,error:i}}})}}var at={},xd={},Ho={},qi={},qo={},Wo={},ab=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},jn=ab();const ob=jn.fetch,dg=jn.fetch.bind(jn),hg=jn.Headers,lb=jn.Request,cb=jn.Response,Pn=Object.freeze(Object.defineProperty({__proto__:null,Headers:hg,Request:lb,Response:cb,default:dg,fetch:ob},Symbol.toStringTag,{value:"Module"})),ub=ky(Pn);var Ko={};Object.defineProperty(Ko,"__esModule",{value:!0});let db=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};Ko.default=db;var fg=At&&At.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Wo,"__esModule",{value:!0});const hb=fg(ub),fb=fg(Ko);let mb=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=hb.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,s){return this.headers=Object.assign({},this.headers),this.headers[t]=s,this}then(t,s){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const r=this.fetch;let i=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async a=>{var o,l,c;let u=null,d=null,h=null,f=a.status,x=a.statusText;if(a.ok){if(this.method!=="HEAD"){const g=await a.text();g===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=g:d=JSON.parse(g))}const j=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),w=(l=a.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");j&&w&&w.length>1&&(h=parseInt(w[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(u={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,h=null,f=406,x="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const j=await a.text();try{u=JSON.parse(j),Array.isArray(u)&&a.status===404&&(d=[],u=null,f=200,x="OK")}catch{a.status===404&&j===""?(f=204,x="No Content"):u={message:j}}if(u&&this.isMaybeSingle&&(!((c=u==null?void 0:u.details)===null||c===void 0)&&c.includes("0 rows"))&&(u=null,f=200,x="OK"),u&&this.shouldThrowOnError)throw new fb.default(u)}return{error:u,data:d,count:h,status:f,statusText:x}});return this.shouldThrowOnError||(i=i.catch(a=>{var o,l,c;return{error:{message:`${(o=a==null?void 0:a.name)!==null&&o!==void 0?o:"FetchError"}: ${a==null?void 0:a.message}`,details:`${(l=a==null?void 0:a.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(c=a==null?void 0:a.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),i.then(t,s)}returns(){return this}overrideTypes(){return this}};Wo.default=mb;var pb=At&&At.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(qo,"__esModule",{value:!0});const gb=pb(Wo);let xb=class extends gb.default{select(t){let s=!1;const r=(t??"*").split("").map(i=>/\s/.test(i)&&!s?"":(i==='"'&&(s=!s),i)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:s=!0,nullsFirst:r,foreignTable:i,referencedTable:a=i}={}){const o=a?`${a}.order`:"order",l=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${l?`${l},`:""}${t}.${s?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:s,referencedTable:r=s}={}){const i=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${t}`),this}range(t,s,{foreignTable:r,referencedTable:i=r}={}){const a=typeof i>"u"?"offset":`${i}.offset`,o=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(a,`${t}`),this.url.searchParams.set(o,`${s-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:s=!1,settings:r=!1,buffers:i=!1,wal:a=!1,format:o="text"}={}){var l;const c=[t?"analyze":null,s?"verbose":null,r?"settings":null,i?"buffers":null,a?"wal":null].filter(Boolean).join("|"),u=(l=this.headers.Accept)!==null&&l!==void 0?l:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${u}"; options=${c};`,o==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};qo.default=xb;var yb=At&&At.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(qi,"__esModule",{value:!0});const vb=yb(qo);let wb=class extends vb.default{eq(t,s){return this.url.searchParams.append(t,`eq.${s}`),this}neq(t,s){return this.url.searchParams.append(t,`neq.${s}`),this}gt(t,s){return this.url.searchParams.append(t,`gt.${s}`),this}gte(t,s){return this.url.searchParams.append(t,`gte.${s}`),this}lt(t,s){return this.url.searchParams.append(t,`lt.${s}`),this}lte(t,s){return this.url.searchParams.append(t,`lte.${s}`),this}like(t,s){return this.url.searchParams.append(t,`like.${s}`),this}likeAllOf(t,s){return this.url.searchParams.append(t,`like(all).{${s.join(",")}}`),this}likeAnyOf(t,s){return this.url.searchParams.append(t,`like(any).{${s.join(",")}}`),this}ilike(t,s){return this.url.searchParams.append(t,`ilike.${s}`),this}ilikeAllOf(t,s){return this.url.searchParams.append(t,`ilike(all).{${s.join(",")}}`),this}ilikeAnyOf(t,s){return this.url.searchParams.append(t,`ilike(any).{${s.join(",")}}`),this}is(t,s){return this.url.searchParams.append(t,`is.${s}`),this}in(t,s){const r=Array.from(new Set(s)).map(i=>typeof i=="string"&&new RegExp("[,()]").test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}contains(t,s){return typeof s=="string"?this.url.searchParams.append(t,`cs.${s}`):Array.isArray(s)?this.url.searchParams.append(t,`cs.{${s.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(s)}`),this}containedBy(t,s){return typeof s=="string"?this.url.searchParams.append(t,`cd.${s}`):Array.isArray(s)?this.url.searchParams.append(t,`cd.{${s.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(s)}`),this}rangeGt(t,s){return this.url.searchParams.append(t,`sr.${s}`),this}rangeGte(t,s){return this.url.searchParams.append(t,`nxl.${s}`),this}rangeLt(t,s){return this.url.searchParams.append(t,`sl.${s}`),this}rangeLte(t,s){return this.url.searchParams.append(t,`nxr.${s}`),this}rangeAdjacent(t,s){return this.url.searchParams.append(t,`adj.${s}`),this}overlaps(t,s){return typeof s=="string"?this.url.searchParams.append(t,`ov.${s}`):this.url.searchParams.append(t,`ov.{${s.join(",")}}`),this}textSearch(t,s,{config:r,type:i}={}){let a="";i==="plain"?a="pl":i==="phrase"?a="ph":i==="websearch"&&(a="w");const o=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${a}fts${o}.${s}`),this}match(t){return Object.entries(t).forEach(([s,r])=>{this.url.searchParams.append(s,`eq.${r}`)}),this}not(t,s,r){return this.url.searchParams.append(t,`not.${s}.${r}`),this}or(t,{foreignTable:s,referencedTable:r=s}={}){const i=r?`${r}.or`:"or";return this.url.searchParams.append(i,`(${t})`),this}filter(t,s,r){return this.url.searchParams.append(t,`${s}.${r}`),this}};qi.default=wb;var bb=At&&At.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ho,"__esModule",{value:!0});const $n=bb(qi);let jb=class{constructor(t,{headers:s={},schema:r,fetch:i}){this.url=t,this.headers=s,this.schema=r,this.fetch=i}select(t,{head:s=!1,count:r}={}){const i=s?"HEAD":"GET";let a=!1;const o=(t??"*").split("").map(l=>/\s/.test(l)&&!a?"":(l==='"'&&(a=!a),l)).join("");return this.url.searchParams.set("select",o),r&&(this.headers.Prefer=`count=${r}`),new $n.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:s,defaultToNull:r=!0}={}){const i="POST",a=[];if(this.headers.Prefer&&a.push(this.headers.Prefer),s&&a.push(`count=${s}`),r||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(t)){const o=t.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(o.length>0){const l=[...new Set(o)].map(c=>`"${c}"`);this.url.searchParams.set("columns",l.join(","))}}return new $n.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:s,ignoreDuplicates:r=!1,count:i,defaultToNull:a=!0}={}){const o="POST",l=[`resolution=${r?"ignore":"merge"}-duplicates`];if(s!==void 0&&this.url.searchParams.set("on_conflict",s),this.headers.Prefer&&l.push(this.headers.Prefer),i&&l.push(`count=${i}`),a||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(t)){const c=t.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(c.length>0){const u=[...new Set(c)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new $n.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:s}={}){const r="PATCH",i=[];return this.headers.Prefer&&i.push(this.headers.Prefer),s&&i.push(`count=${s}`),this.headers.Prefer=i.join(","),new $n.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const s="DELETE",r=[];return t&&r.push(`count=${t}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new $n.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};Ho.default=jb;var Go={},Yo={};Object.defineProperty(Yo,"__esModule",{value:!0});Yo.version=void 0;Yo.version="0.0.0-automated";Object.defineProperty(Go,"__esModule",{value:!0});Go.DEFAULT_HEADERS=void 0;const Nb=Yo;Go.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${Nb.version}`};var mg=At&&At.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(xd,"__esModule",{value:!0});const Sb=mg(Ho),kb=mg(qi),_b=Go;let Cb=class pg{constructor(t,{headers:s={},schema:r,fetch:i}={}){this.url=t,this.headers=Object.assign(Object.assign({},_b.DEFAULT_HEADERS),s),this.schemaName=r,this.fetch=i}from(t){const s=new URL(`${this.url}/${t}`);return new Sb.default(s,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new pg(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,s={},{head:r=!1,get:i=!1,count:a}={}){let o;const l=new URL(`${this.url}/rpc/${t}`);let c;r||i?(o=r?"HEAD":"GET",Object.entries(s).filter(([d,h])=>h!==void 0).map(([d,h])=>[d,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([d,h])=>{l.searchParams.append(d,h)})):(o="POST",c=s);const u=Object.assign({},this.headers);return a&&(u.Prefer=`count=${a}`),new kb.default({method:o,url:l,headers:u,schema:this.schemaName,body:c,fetch:this.fetch,allowEmpty:!1})}};xd.default=Cb;var En=At&&At.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(at,"__esModule",{value:!0});at.PostgrestError=at.PostgrestBuilder=at.PostgrestTransformBuilder=at.PostgrestFilterBuilder=at.PostgrestQueryBuilder=at.PostgrestClient=void 0;const gg=En(xd);at.PostgrestClient=gg.default;const xg=En(Ho);at.PostgrestQueryBuilder=xg.default;const yg=En(qi);at.PostgrestFilterBuilder=yg.default;const vg=En(qo);at.PostgrestTransformBuilder=vg.default;const wg=En(Wo);at.PostgrestBuilder=wg.default;const bg=En(Ko);at.PostgrestError=bg.default;var Tb=at.default={PostgrestClient:gg.default,PostgrestQueryBuilder:xg.default,PostgrestFilterBuilder:yg.default,PostgrestTransformBuilder:vg.default,PostgrestBuilder:wg.default,PostgrestError:bg.default};const{PostgrestClient:Pb,PostgrestQueryBuilder:eC,PostgrestFilterBuilder:tC,PostgrestTransformBuilder:sC,PostgrestBuilder:rC,PostgrestError:nC}=Tb;function Eb(){if(typeof WebSocket<"u")return WebSocket;if(typeof global.WebSocket<"u")return global.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}const Ab=Eb(),Db="2.11.15",Rb=`realtime-js/${Db}`,Lb="1.0.0",jg=1e4,Mb=1e3;var ii;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(ii||(ii={}));var ze;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(ze||(ze={}));var $t;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})($t||($t={}));var Jc;(function(e){e.websocket="websocket"})(Jc||(Jc={}));var fr;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(fr||(fr={}));class Ib{constructor(){this.HEADER_LENGTH=1}decode(t,s){return t.constructor===ArrayBuffer?s(this._binaryDecode(t)):s(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const s=new DataView(t),r=new TextDecoder;return this._decodeBroadcast(t,s,r)}_decodeBroadcast(t,s,r){const i=s.getUint8(1),a=s.getUint8(2);let o=this.HEADER_LENGTH+2;const l=r.decode(t.slice(o,o+i));o=o+i;const c=r.decode(t.slice(o,o+a));o=o+a;const u=JSON.parse(r.decode(t.slice(o,t.byteLength)));return{ref:null,topic:l,event:c,payload:u}}}class Ng{constructor(t,s){this.callback=t,this.timerCalc=s,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=s}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var le;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(le||(le={}));const xf=(e,t,s={})=>{var r;const i=(r=s.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(t).reduce((a,o)=>(a[o]=Ob(o,e,t,i),a),{})},Ob=(e,t,s,r)=>{const i=t.find(l=>l.name===e),a=i==null?void 0:i.type,o=s[e];return a&&!r.includes(a)?Sg(a,o):Zc(o)},Sg=(e,t)=>{if(e.charAt(0)==="_"){const s=e.slice(1,e.length);return Ub(t,s)}switch(e){case le.bool:return Vb(t);case le.float4:case le.float8:case le.int2:case le.int4:case le.int8:case le.numeric:case le.oid:return $b(t);case le.json:case le.jsonb:return Fb(t);case le.timestamp:return Bb(t);case le.abstime:case le.date:case le.daterange:case le.int4range:case le.int8range:case le.money:case le.reltime:case le.text:case le.time:case le.timestamptz:case le.timetz:case le.tsrange:case le.tstzrange:return Zc(t);default:return Zc(t)}},Zc=e=>e,Vb=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},$b=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},Fb=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},Ub=(e,t)=>{if(typeof e!="string")return e;const s=e.length-1,r=e[s];if(e[0]==="{"&&r==="}"){let a;const o=e.slice(1,s);try{a=JSON.parse("["+o+"]")}catch{a=o?o.split(","):[]}return a.map(l=>Sg(t,l))}return e},Bb=e=>typeof e=="string"?e.replace(" ","T"):e,kg=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class Ol{constructor(t,s,r={},i=jg){this.channel=t,this.event=s,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,s){var r;return this._hasReceived(t)&&s((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:s}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=s=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=s,this._matchReceive(s)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,s){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:s})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:s}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(s))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var yf;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(yf||(yf={}));class ai{constructor(t,s){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(s==null?void 0:s.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:a,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=ai.syncState(this.state,i,a,o),this.pendingDiffs.forEach(c=>{this.state=ai.syncDiff(this.state,c,a,o)}),this.pendingDiffs=[],l()}),this.channel._on(r.diff,{},i=>{const{onJoin:a,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=ai.syncDiff(this.state,i,a,o),l())}),this.onJoin((i,a,o)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:a,newPresences:o})}),this.onLeave((i,a,o)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:a,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,s,r,i){const a=this.cloneDeep(t),o=this.transformState(s),l={},c={};return this.map(a,(u,d)=>{o[u]||(c[u]=d)}),this.map(o,(u,d)=>{const h=a[u];if(h){const f=d.map(w=>w.presence_ref),x=h.map(w=>w.presence_ref),y=d.filter(w=>x.indexOf(w.presence_ref)<0),j=h.filter(w=>f.indexOf(w.presence_ref)<0);y.length>0&&(l[u]=y),j.length>0&&(c[u]=j)}else l[u]=d}),this.syncDiff(a,{joins:l,leaves:c},r,i)}static syncDiff(t,s,r,i){const{joins:a,leaves:o}={joins:this.transformState(s.joins),leaves:this.transformState(s.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(a,(l,c)=>{var u;const d=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(c),d.length>0){const h=t[l].map(x=>x.presence_ref),f=d.filter(x=>h.indexOf(x.presence_ref)<0);t[l].unshift(...f)}r(l,d,c)}),this.map(o,(l,c)=>{let u=t[l];if(!u)return;const d=c.map(h=>h.presence_ref);u=u.filter(h=>d.indexOf(h.presence_ref)<0),t[l]=u,i(l,u,c),u.length===0&&delete t[l]}),t}static map(t,s){return Object.getOwnPropertyNames(t).map(r=>s(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((s,r)=>{const i=t[r];return"metas"in i?s[r]=i.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):s[r]=i,s},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var vf;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(vf||(vf={}));var wf;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(wf||(wf={}));var as;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(as||(as={}));class yd{constructor(t,s={config:{}},r){this.topic=t,this.params=s,this.socket=r,this.bindings={},this.state=ze.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},s.config),this.timeout=this.socket.timeout,this.joinPush=new Ol(this,$t.join,this.params,this.timeout),this.rejoinTimer=new Ng(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ze.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ze.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=ze.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ze.errored,this.rejoinTimer.scheduleTimeout())}),this._on($t.reply,{},(i,a)=>{this._trigger(this._replyEventName(a),i)}),this.presence=new ai(this),this.broadcastEndpointURL=kg(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,s=this.timeout){var r,i;if(this.socket.isConnected()||this.socket.connect(),this.state==ze.closed){const{config:{broadcast:a,presence:o,private:l}}=this.params;this._onError(d=>t==null?void 0:t(as.CHANNEL_ERROR,d)),this._onClose(()=>t==null?void 0:t(as.CLOSED));const c={},u={broadcast:a,presence:o,postgres_changes:(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(d=>d.filter))!==null&&i!==void 0?i:[],private:l};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},c)),this.joinedOnce=!0,this._rejoin(s),this.joinPush.receive("ok",async({postgres_changes:d})=>{var h;if(this.socket.setAuth(),d===void 0){t==null||t(as.SUBSCRIBED);return}else{const f=this.bindings.postgres_changes,x=(h=f==null?void 0:f.length)!==null&&h!==void 0?h:0,y=[];for(let j=0;j<x;j++){const w=f[j],{filter:{event:g,schema:m,table:p,filter:v}}=w,b=d&&d[j];if(b&&b.event===g&&b.schema===m&&b.table===p&&b.filter===v)y.push(Object.assign(Object.assign({},w),{id:b.id}));else{this.unsubscribe(),this.state=ze.errored,t==null||t(as.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=y,t&&t(as.SUBSCRIBED);return}}).receive("error",d=>{this.state=ze.errored,t==null||t(as.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(as.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,s={}){return await this.send({type:"presence",event:"track",payload:t},s.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,s,r){return this._on(t,s,r)}async send(t,s={}){var r,i;if(!this._canPush()&&t.type==="broadcast"){const{event:a,payload:o}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(r=s.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=u.body)===null||i===void 0?void 0:i.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var o,l,c;const u=this._push(t.type,t,s.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&a("ok"),u.receive("ok",()=>a("ok")),u.receive("error",()=>a("error")),u.receive("timeout",()=>a("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=ze.leaving;const s=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger($t.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(i=>{r=new Ol(this,$t.leave,{},t),r.receive("ok",()=>{s(),i("ok")}).receive("timeout",()=>{s(),i("timed out")}).receive("error",()=>{i("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(t,s,r){const i=new AbortController,a=setTimeout(()=>i.abort(),r),o=await this.socket.fetch(t,Object.assign(Object.assign({},s),{signal:i.signal}));return clearTimeout(a),o}_push(t,s,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new Ol(this,t,s,r);return this._canPush()?i.send():(i.startTimeout(),this.pushBuffer.push(i)),i}_onMessage(t,s,r){return s}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,s,r){var i,a;const o=t.toLocaleLowerCase(),{close:l,error:c,leave:u,join:d}=$t;if(r&&[l,c,u,d].indexOf(o)>=0&&r!==this._joinRef())return;let f=this._onMessage(o,s,r);if(s&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(x=>{var y,j,w;return((y=x.filter)===null||y===void 0?void 0:y.event)==="*"||((w=(j=x.filter)===null||j===void 0?void 0:j.event)===null||w===void 0?void 0:w.toLocaleLowerCase())===o}).map(x=>x.callback(f,r)):(a=this.bindings[o])===null||a===void 0||a.filter(x=>{var y,j,w,g,m,p;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in x){const v=x.id,b=(y=x.filter)===null||y===void 0?void 0:y.event;return v&&((j=s.ids)===null||j===void 0?void 0:j.includes(v))&&(b==="*"||(b==null?void 0:b.toLocaleLowerCase())===((w=s.data)===null||w===void 0?void 0:w.type.toLocaleLowerCase()))}else{const v=(m=(g=x==null?void 0:x.filter)===null||g===void 0?void 0:g.event)===null||m===void 0?void 0:m.toLocaleLowerCase();return v==="*"||v===((p=s==null?void 0:s.event)===null||p===void 0?void 0:p.toLocaleLowerCase())}else return x.type.toLocaleLowerCase()===o}).map(x=>{if(typeof f=="object"&&"ids"in f){const y=f.data,{schema:j,table:w,commit_timestamp:g,type:m,errors:p}=y;f=Object.assign(Object.assign({},{schema:j,table:w,commit_timestamp:g,eventType:m,new:{},old:{},errors:p}),this._getPayloadRecords(y))}x.callback(f,r)})}_isClosed(){return this.state===ze.closed}_isJoined(){return this.state===ze.joined}_isJoining(){return this.state===ze.joining}_isLeaving(){return this.state===ze.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,s,r){const i=t.toLocaleLowerCase(),a={type:i,filter:s,callback:r};return this.bindings[i]?this.bindings[i].push(a):this.bindings[i]=[a],this}_off(t,s){const r=t.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(i=>{var a;return!(((a=i.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===r&&yd.isEqual(i.filter,s))}),this}static isEqual(t,s){if(Object.keys(t).length!==Object.keys(s).length)return!1;for(const r in t)if(t[r]!==s[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on($t.close,{},t)}_onError(t){this._on($t.error,{},s=>t(s))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ze.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const s={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(s.new=xf(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(s.old=xf(t.columns,t.old_record)),s}}const bf=()=>{},zb=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Hb{constructor(t,s){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=jg,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=bf,this.ref=0,this.logger=bf,this.conn=null,this.sendBuffer=[],this.serializer=new Ib,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=a=>{let o;return a?o=a:typeof fetch>"u"?o=(...l)=>Hi(async()=>{const{default:c}=await Promise.resolve().then(()=>Pn);return{default:c}},void 0).then(({default:c})=>c(...l)):o=fetch,(...l)=>o(...l)},this.endPoint=`${t}/${Jc.websocket}`,this.httpEndpoint=kg(t),s!=null&&s.transport?this.transport=s.transport:this.transport=null,s!=null&&s.params&&(this.params=s.params),s!=null&&s.timeout&&(this.timeout=s.timeout),s!=null&&s.logger&&(this.logger=s.logger),(s!=null&&s.logLevel||s!=null&&s.log_level)&&(this.logLevel=s.logLevel||s.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),s!=null&&s.heartbeatIntervalMs&&(this.heartbeatIntervalMs=s.heartbeatIntervalMs);const i=(r=s==null?void 0:s.params)===null||r===void 0?void 0:r.apikey;if(i&&(this.accessTokenValue=i,this.apiKey=i),this.reconnectAfterMs=s!=null&&s.reconnectAfterMs?s.reconnectAfterMs:a=>[1e3,2e3,5e3,1e4][a-1]||1e4,this.encode=s!=null&&s.encode?s.encode:(a,o)=>o(JSON.stringify(a)),this.decode=s!=null&&s.decode?s.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Ng(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(s==null?void 0:s.fetch),s!=null&&s.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(s==null?void 0:s.worker)||!1,this.workerUrl=s==null?void 0:s.workerUrl}this.accessToken=(s==null?void 0:s.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=Ab),!this.transport)throw new Error("No transport provided");this.conn=new this.transport(this.endpointURL()),this.setupConnection()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Lb}))}disconnect(t,s){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,s??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(r=>r.teardown()))}getChannels(){return this.channels}async removeChannel(t){const s=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),s}async removeAllChannels(){const t=await Promise.all(this.channels.map(s=>s.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,s,r){this.logger(t,s,r)}connectionState(){switch(this.conn&&this.conn.readyState){case ii.connecting:return fr.Connecting;case ii.open:return fr.Open;case ii.closing:return fr.Closing;default:return fr.Closed}}isConnected(){return this.connectionState()===fr.Open}channel(t,s={config:{}}){const r=`realtime:${t}`,i=this.getChannels().find(a=>a.topic===r);if(i)return i;{const a=new yd(`realtime:${t}`,s,this);return this.channels.push(a),a}}push(t){const{topic:s,event:r,payload:i,ref:a}=t,o=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${s} ${r} (${a})`,i),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){let s=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=s&&(this.accessTokenValue=s,this.channels.forEach(r=>{const i={access_token:s,version:Rb};s&&r.updateJoinPayload(i),r.joinedOnce&&r._isJoined()&&r._push($t.access_token,{access_token:s})}))}async sendHeartbeat(){var t;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(t=this.conn)===null||t===void 0||t.close(Mb,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let s=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));s&&(this.log("transport",`leaving duplicate topic "${t}"`),s.unsubscribe())}_remove(t){this.channels=this.channels.filter(s=>s.topic!==t.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,s=>{let{topic:r,event:i,payload:a,ref:o}=s;r==="phoenix"&&i==="phx_reply"&&this.heartbeatCallback(s.payload.status=="ok"?"ok":"error"),o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${a.status||""} ${r} ${i} ${o&&"("+o+")"||""}`,a),Array.from(this.channels).filter(l=>l._isMember(r)).forEach(l=>l._trigger(i,a,o)),this.stateChangeCallbacks.message.forEach(l=>l(s))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(t=>t())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=s=>{this.log("worker","worker error",s.message),this.workerRef.terminate()},this.workerRef.onmessage=s=>{s.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(s=>s(t))}_onConnError(t){this.log("transport",`${t}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(s=>s(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger($t.error))}_appendParams(t,s){if(Object.keys(s).length===0)return t;const r=t.match(/\?/)?"&":"?",i=new URLSearchParams(s);return`${t}${r}${i}`}_workerObjectUrl(t){let s;if(t)s=t;else{const r=new Blob([zb],{type:"application/javascript"});s=URL.createObjectURL(r)}return s}}class vd extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function De(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class qb extends vd{constructor(t,s){super(t),this.name="StorageApiError",this.status=s}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Xc extends vd{constructor(t,s){super(t),this.name="StorageUnknownError",this.originalError=s}}var Wb=function(e,t,s,r){function i(a){return a instanceof s?a:new s(function(o){o(a)})}return new(s||(s=Promise))(function(a,o){function l(d){try{u(r.next(d))}catch(h){o(h)}}function c(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?a(d.value):i(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};const _g=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...s)=>Hi(async()=>{const{default:r}=await Promise.resolve().then(()=>Pn);return{default:r}},void 0).then(({default:r})=>r(...s)):t=fetch,(...s)=>t(...s)},Kb=()=>Wb(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Hi(()=>Promise.resolve().then(()=>Pn),void 0)).Response:Response}),eu=e=>{if(Array.isArray(e))return e.map(s=>eu(s));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([s,r])=>{const i=s.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));t[i]=eu(r)}),t};var Ar=function(e,t,s,r){function i(a){return a instanceof s?a:new s(function(o){o(a)})}return new(s||(s=Promise))(function(a,o){function l(d){try{u(r.next(d))}catch(h){o(h)}}function c(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?a(d.value):i(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};const Vl=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Gb=(e,t,s)=>Ar(void 0,void 0,void 0,function*(){const r=yield Kb();e instanceof r&&!(s!=null&&s.noResolveJson)?e.json().then(i=>{t(new qb(Vl(i),e.status||500))}).catch(i=>{t(new Xc(Vl(i),i))}):t(new Xc(Vl(e),e))}),Yb=(e,t,s,r)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),r&&(i.body=JSON.stringify(r)),Object.assign(Object.assign({},i),s))};function Wi(e,t,s,r,i,a){return Ar(this,void 0,void 0,function*(){return new Promise((o,l)=>{e(s,Yb(t,r,i,a)).then(c=>{if(!c.ok)throw c;return r!=null&&r.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>Gb(c,l,r))})})}function ho(e,t,s,r){return Ar(this,void 0,void 0,function*(){return Wi(e,"GET",t,s,r)})}function As(e,t,s,r,i){return Ar(this,void 0,void 0,function*(){return Wi(e,"POST",t,r,i,s)})}function Qb(e,t,s,r,i){return Ar(this,void 0,void 0,function*(){return Wi(e,"PUT",t,r,i,s)})}function Jb(e,t,s,r){return Ar(this,void 0,void 0,function*(){return Wi(e,"HEAD",t,Object.assign(Object.assign({},s),{noResolveJson:!0}),r)})}function Cg(e,t,s,r,i){return Ar(this,void 0,void 0,function*(){return Wi(e,"DELETE",t,r,i,s)})}var rt=function(e,t,s,r){function i(a){return a instanceof s?a:new s(function(o){o(a)})}return new(s||(s=Promise))(function(a,o){function l(d){try{u(r.next(d))}catch(h){o(h)}}function c(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?a(d.value):i(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};const Zb={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},jf={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Xb{constructor(t,s={},r,i){this.url=t,this.headers=s,this.bucketId=r,this.fetch=_g(i)}uploadOrUpdate(t,s,r,i){return rt(this,void 0,void 0,function*(){try{let a;const o=Object.assign(Object.assign({},jf),i);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&r instanceof Blob?(a=new FormData,a.append("cacheControl",o.cacheControl),c&&a.append("metadata",this.encodeMetadata(c)),a.append("",r)):typeof FormData<"u"&&r instanceof FormData?(a=r,a.append("cacheControl",o.cacheControl),c&&a.append("metadata",this.encodeMetadata(c))):(a=r,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),i!=null&&i.headers&&(l=Object.assign(Object.assign({},l),i.headers));const u=this._removeEmptyFolders(s),d=this._getFinalPath(u),h=yield this.fetch(`${this.url}/object/${d}`,Object.assign({method:t,body:a,headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{})),f=yield h.json();return h.ok?{data:{path:u,id:f.Id,fullPath:f.Key},error:null}:{data:null,error:f}}catch(a){if(De(a))return{data:null,error:a};throw a}})}upload(t,s,r){return rt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,s,r)})}uploadToSignedUrl(t,s,r,i){return rt(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(t),o=this._getFinalPath(a),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",s);try{let c;const u=Object.assign({upsert:jf.upsert},i),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",u.cacheControl)):(c=r,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const h=yield this.fetch(l.toString(),{method:"PUT",body:c,headers:d}),f=yield h.json();return h.ok?{data:{path:a,fullPath:f.Key},error:null}:{data:null,error:f}}catch(c){if(De(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,s){return rt(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t);const i=Object.assign({},this.headers);s!=null&&s.upsert&&(i["x-upsert"]="true");const a=yield As(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:i}),o=new URL(this.url+a.url),l=o.searchParams.get("token");if(!l)throw new vd("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:l},error:null}}catch(r){if(De(r))return{data:null,error:r};throw r}})}update(t,s,r){return rt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,s,r)})}move(t,s,r){return rt(this,void 0,void 0,function*(){try{return{data:yield As(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:s,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(De(i))return{data:null,error:i};throw i}})}copy(t,s,r){return rt(this,void 0,void 0,function*(){try{return{data:{path:(yield As(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:s,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(De(i))return{data:null,error:i};throw i}})}createSignedUrl(t,s,r){return rt(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t),a=yield As(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:s},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${o}`)},{data:a,error:null}}catch(i){if(De(i))return{data:null,error:i};throw i}})}createSignedUrls(t,s,r){return rt(this,void 0,void 0,function*(){try{const i=yield As(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:s,paths:t},{headers:this.headers}),a=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${a}`):null})),error:null}}catch(i){if(De(i))return{data:null,error:i};throw i}})}download(t,s){return rt(this,void 0,void 0,function*(){const i=typeof(s==null?void 0:s.transform)<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString((s==null?void 0:s.transform)||{}),o=a?`?${a}`:"";try{const l=this._getFinalPath(t);return{data:yield(yield ho(this.fetch,`${this.url}/${i}/${l}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(De(l))return{data:null,error:l};throw l}})}info(t){return rt(this,void 0,void 0,function*(){const s=this._getFinalPath(t);try{const r=yield ho(this.fetch,`${this.url}/object/info/${s}`,{headers:this.headers});return{data:eu(r),error:null}}catch(r){if(De(r))return{data:null,error:r};throw r}})}exists(t){return rt(this,void 0,void 0,function*(){const s=this._getFinalPath(t);try{return yield Jb(this.fetch,`${this.url}/object/${s}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(De(r)&&r instanceof Xc){const i=r.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,s){const r=this._getFinalPath(t),i=[],a=s!=null&&s.download?`download=${s.download===!0?"":s.download}`:"";a!==""&&i.push(a);const l=typeof(s==null?void 0:s.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((s==null?void 0:s.transform)||{});c!==""&&i.push(c);let u=i.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${r}${u}`)}}}remove(t){return rt(this,void 0,void 0,function*(){try{return{data:yield Cg(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(s){if(De(s))return{data:null,error:s};throw s}})}list(t,s,r){return rt(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},Zb),s),{prefix:t||""});return{data:yield As(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(De(i))return{data:null,error:i};throw i}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const s=[];return t.width&&s.push(`width=${t.width}`),t.height&&s.push(`height=${t.height}`),t.resize&&s.push(`resize=${t.resize}`),t.format&&s.push(`format=${t.format}`),t.quality&&s.push(`quality=${t.quality}`),s.join("&")}}const ej="2.7.1",tj={"X-Client-Info":`storage-js/${ej}`};var Vr=function(e,t,s,r){function i(a){return a instanceof s?a:new s(function(o){o(a)})}return new(s||(s=Promise))(function(a,o){function l(d){try{u(r.next(d))}catch(h){o(h)}}function c(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?a(d.value):i(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};class sj{constructor(t,s={},r){this.url=t,this.headers=Object.assign(Object.assign({},tj),s),this.fetch=_g(r)}listBuckets(){return Vr(this,void 0,void 0,function*(){try{return{data:yield ho(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(De(t))return{data:null,error:t};throw t}})}getBucket(t){return Vr(this,void 0,void 0,function*(){try{return{data:yield ho(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(s){if(De(s))return{data:null,error:s};throw s}})}createBucket(t,s={public:!1}){return Vr(this,void 0,void 0,function*(){try{return{data:yield As(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(De(r))return{data:null,error:r};throw r}})}updateBucket(t,s){return Vr(this,void 0,void 0,function*(){try{return{data:yield Qb(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(De(r))return{data:null,error:r};throw r}})}emptyBucket(t){return Vr(this,void 0,void 0,function*(){try{return{data:yield As(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(s){if(De(s))return{data:null,error:s};throw s}})}deleteBucket(t){return Vr(this,void 0,void 0,function*(){try{return{data:yield Cg(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(s){if(De(s))return{data:null,error:s};throw s}})}}class rj extends sj{constructor(t,s={},r){super(t,s,r)}from(t){return new Xb(this.url,this.headers,t,this.fetch)}}const nj="2.50.2";let Gn="";typeof Deno<"u"?Gn="deno":typeof document<"u"?Gn="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Gn="react-native":Gn="node";const ij={"X-Client-Info":`supabase-js-${Gn}/${nj}`},aj={headers:ij},oj={schema:"public"},lj={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},cj={};var uj=function(e,t,s,r){function i(a){return a instanceof s?a:new s(function(o){o(a)})}return new(s||(s=Promise))(function(a,o){function l(d){try{u(r.next(d))}catch(h){o(h)}}function c(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?a(d.value):i(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};const dj=e=>{let t;return e?t=e:typeof fetch>"u"?t=dg:t=fetch,(...s)=>t(...s)},hj=()=>typeof Headers>"u"?hg:Headers,fj=(e,t,s)=>{const r=dj(s),i=hj();return(a,o)=>uj(void 0,void 0,void 0,function*(){var l;const c=(l=yield t())!==null&&l!==void 0?l:e;let u=new i(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),r(a,Object.assign(Object.assign({},o),{headers:u}))})};var mj=function(e,t,s,r){function i(a){return a instanceof s?a:new s(function(o){o(a)})}return new(s||(s=Promise))(function(a,o){function l(d){try{u(r.next(d))}catch(h){o(h)}}function c(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?a(d.value):i(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};function pj(e){return e.endsWith("/")?e:e+"/"}function gj(e,t){var s,r;const{db:i,auth:a,realtime:o,global:l}=e,{db:c,auth:u,realtime:d,global:h}=t,f={db:Object.assign(Object.assign({},c),i),auth:Object.assign(Object.assign({},u),a),realtime:Object.assign(Object.assign({},d),o),global:Object.assign(Object.assign(Object.assign({},h),l),{headers:Object.assign(Object.assign({},(s=h==null?void 0:h.headers)!==null&&s!==void 0?s:{}),(r=l==null?void 0:l.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>mj(this,void 0,void 0,function*(){return""})};return e.accessToken?f.accessToken=e.accessToken:delete f.accessToken,f}const Tg="2.70.0",zr=30*1e3,tu=3,$l=tu*zr,xj="http://localhost:9999",yj="supabase.auth.token",vj={"X-Client-Info":`gotrue-js/${Tg}`},su="X-Supabase-Api-Version",Pg={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},wj=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,bj=6e5;class wd extends Error{constructor(t,s,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=s,this.code=r}}function J(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class jj extends wd{constructor(t,s,r){super(t,s,r),this.name="AuthApiError",this.status=s,this.code=r}}function Nj(e){return J(e)&&e.name==="AuthApiError"}class Eg extends wd{constructor(t,s){super(t),this.name="AuthUnknownError",this.originalError=s}}class rr extends wd{constructor(t,s,r,i){super(t,r,i),this.name=s,this.status=r}}class Cs extends rr{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Sj(e){return J(e)&&e.name==="AuthSessionMissingError"}class xa extends rr{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class ya extends rr{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class va extends rr{constructor(t,s=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function kj(e){return J(e)&&e.name==="AuthImplicitGrantRedirectError"}class Nf extends rr{constructor(t,s=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class ru extends rr{constructor(t,s){super(t,"AuthRetryableFetchError",s,void 0)}}function Fl(e){return J(e)&&e.name==="AuthRetryableFetchError"}class Sf extends rr{constructor(t,s,r){super(t,"AuthWeakPasswordError",s,"weak_password"),this.reasons=r}}class oi extends rr{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const fo="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),kf=` 	
\r=`.split(""),_j=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<kf.length;t+=1)e[kf[t].charCodeAt(0)]=-2;for(let t=0;t<fo.length;t+=1)e[fo[t].charCodeAt(0)]=t;return e})();function _f(e,t,s){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;s(fo[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;s(fo[r]),t.queuedBits-=6}}function Ag(e,t,s){const r=_j[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)s(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function Cf(e){const t=[],s=o=>{t.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},a=o=>{Pj(o,r,s)};for(let o=0;o<e.length;o+=1)Ag(e.charCodeAt(o),i,a);return t.join("")}function Cj(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function Tj(e,t){for(let s=0;s<e.length;s+=1){let r=e.charCodeAt(s);if(r>55295&&r<=56319){const i=(r-55296)*1024&65535;r=(e.charCodeAt(s+1)-56320&65535|i)+65536,s+=1}Cj(r,t)}}function Pj(e,t,s){if(t.utf8seq===0){if(e<=127){s(e);return}for(let r=1;r<6;r+=1)if(!(e>>7-r&1)){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&s(t.codepoint)}}function Ej(e){const t=[],s={queue:0,queuedBits:0},r=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)Ag(e.charCodeAt(i),s,r);return new Uint8Array(t)}function Aj(e){const t=[];return Tj(e,s=>t.push(s)),new Uint8Array(t)}function Dj(e){const t=[],s={queue:0,queuedBits:0},r=i=>{t.push(i)};return e.forEach(i=>_f(i,s,r)),_f(null,s,r),t.join("")}function Rj(e){return Math.round(Date.now()/1e3)+e}function Lj(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const It=()=>typeof window<"u"&&typeof document<"u",ir={tested:!1,writable:!1},li=()=>{if(!It())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ir.tested)return ir.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),ir.tested=!0,ir.writable=!0}catch{ir.tested=!0,ir.writable=!1}return ir.writable};function Mj(e){const t={},s=new URL(e);if(s.hash&&s.hash[0]==="#")try{new URLSearchParams(s.hash.substring(1)).forEach((i,a)=>{t[a]=i})}catch{}return s.searchParams.forEach((r,i)=>{t[i]=r}),t}const Dg=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...s)=>Hi(async()=>{const{default:r}=await Promise.resolve().then(()=>Pn);return{default:r}},void 0).then(({default:r})=>r(...s)):t=fetch,(...s)=>t(...s)},Ij=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Rg=async(e,t,s)=>{await e.setItem(t,JSON.stringify(s))},wa=async(e,t)=>{const s=await e.getItem(t);if(!s)return null;try{return JSON.parse(s)}catch{return s}},ba=async(e,t)=>{await e.removeItem(t)};class Qo{constructor(){this.promise=new Qo.promiseConstructor((t,s)=>{this.resolve=t,this.reject=s})}}Qo.promiseConstructor=Promise;function Ul(e){const t=e.split(".");if(t.length!==3)throw new oi("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!wj.test(t[r]))throw new oi("JWT not in base64url format");return{header:JSON.parse(Cf(t[0])),payload:JSON.parse(Cf(t[1])),signature:Ej(t[2]),raw:{header:t[0],payload:t[1]}}}async function Oj(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function Vj(e,t){return new Promise((r,i)=>{(async()=>{for(let a=0;a<1/0;a++)try{const o=await e(a);if(!t(a,null,o)){r(o);return}}catch(o){if(!t(a,o)){i(o);return}}})()})}function $j(e){return("0"+e.toString(16)).substr(-2)}function Fj(){const t=new Uint32Array(56);if(typeof crypto>"u"){const s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=s.length;let i="";for(let a=0;a<56;a++)i+=s.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(t),Array.from(t,$j).join("")}async function Uj(e){const s=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",s),i=new Uint8Array(r);return Array.from(i).map(a=>String.fromCharCode(a)).join("")}async function Bj(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const s=await Uj(e);return btoa(s).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function $r(e,t,s=!1){const r=Fj();let i=r;s&&(i+="/PASSWORD_RECOVERY"),await Rg(e,`${t}-code-verifier`,i);const a=await Bj(r);return[a,r===a?"plain":"s256"]}const zj=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Hj(e){const t=e.headers.get(su);if(!t||!t.match(zj))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function qj(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function Wj(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Kj=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Fr(e){if(!Kj.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}var Gj=function(e,t){var s={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(s[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(s[r[i]]=e[r[i]]);return s};const cr=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Yj=[502,503,504];async function Tf(e){var t;if(!Ij(e))throw new ru(cr(e),0);if(Yj.includes(e.status))throw new ru(cr(e),e.status);let s;try{s=await e.json()}catch(a){throw new Eg(cr(a),a)}let r;const i=Hj(e);if(i&&i.getTime()>=Pg["2024-01-01"].timestamp&&typeof s=="object"&&s&&typeof s.code=="string"?r=s.code:typeof s=="object"&&s&&typeof s.error_code=="string"&&(r=s.error_code),r){if(r==="weak_password")throw new Sf(cr(s),e.status,((t=s.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new Cs}else if(typeof s=="object"&&s&&typeof s.weak_password=="object"&&s.weak_password&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.reasons.reduce((a,o)=>a&&typeof o=="string",!0))throw new Sf(cr(s),e.status,s.weak_password.reasons);throw new jj(cr(s),e.status||500,r)}const Qj=(e,t,s,r)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),s))};async function te(e,t,s,r){var i;const a=Object.assign({},r==null?void 0:r.headers);a[su]||(a[su]=Pg["2024-01-01"].name),r!=null&&r.jwt&&(a.Authorization=`Bearer ${r.jwt}`);const o=(i=r==null?void 0:r.query)!==null&&i!==void 0?i:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await Jj(e,t,s+l,{headers:a,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(c):{data:Object.assign({},c),error:null}}async function Jj(e,t,s,r,i,a){const o=Qj(t,r,i,a);let l;try{l=await e(s,Object.assign({},o))}catch(c){throw console.error(c),new ru(cr(c),0)}if(l.ok||await Tf(l),r!=null&&r.noResolveJson)return l;try{return await l.json()}catch(c){await Tf(c)}}function ns(e){var t;let s=null;t1(e)&&(s=Object.assign({},e),e.expires_at||(s.expires_at=Rj(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:s,user:r},error:null}}function Pf(e){const t=ns(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((s,r)=>s&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Ms(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function Zj(e){return{data:e,error:null}}function Xj(e){const{action_link:t,email_otp:s,hashed_token:r,redirect_to:i,verification_type:a}=e,o=Gj(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:s,hashed_token:r,redirect_to:i,verification_type:a},c=Object.assign({},o);return{data:{properties:l,user:c},error:null}}function e1(e){return e}function t1(e){return e.access_token&&e.refresh_token&&e.expires_in}const Bl=["global","local","others"];var s1=function(e,t){var s={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(s[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(s[r[i]]=e[r[i]]);return s};class r1{constructor({url:t="",headers:s={},fetch:r}){this.url=t,this.headers=s,this.fetch=Dg(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,s=Bl[0]){if(Bl.indexOf(s)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Bl.join(", ")}`);try{return await te(this.fetch,"POST",`${this.url}/logout?scope=${s}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(J(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,s={}){try{return await te(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:s.data},headers:this.headers,redirectTo:s.redirectTo,xform:Ms})}catch(r){if(J(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:s}=t,r=s1(t,["options"]),i=Object.assign(Object.assign({},r),s);return"newEmail"in r&&(i.new_email=r==null?void 0:r.newEmail,delete i.newEmail),await te(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:Xj,redirectTo:s==null?void 0:s.redirectTo})}catch(s){if(J(s))return{data:{properties:null,user:null},error:s};throw s}}async createUser(t){try{return await te(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Ms})}catch(s){if(J(s))return{data:{user:null},error:s};throw s}}async listUsers(t){var s,r,i,a,o,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await te(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(s=t==null?void 0:t.page)===null||s===void 0?void 0:s.toString())!==null&&r!==void 0?r:"",per_page:(a=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:e1});if(d.error)throw d.error;const h=await d.json(),f=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,x=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return x.length>0&&(x.forEach(y=>{const j=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(y.split(";")[1].split("=")[1]);u[`${w}Page`]=j}),u.total=parseInt(f)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(J(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){Fr(t);try{return await te(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Ms})}catch(s){if(J(s))return{data:{user:null},error:s};throw s}}async updateUserById(t,s){Fr(t);try{return await te(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:s,headers:this.headers,xform:Ms})}catch(r){if(J(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,s=!1){Fr(t);try{return await te(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:s},xform:Ms})}catch(r){if(J(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){Fr(t.userId);try{const{data:s,error:r}=await te(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:s,error:r}}catch(s){if(J(s))return{data:null,error:s};throw s}}async _deleteFactor(t){Fr(t.userId),Fr(t.id);try{return{data:await te(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(s){if(J(s))return{data:null,error:s};throw s}}}const n1={getItem:e=>li()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{li()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{li()&&globalThis.localStorage.removeItem(e)}};function Ef(e={}){return{getItem:t=>e[t]||null,setItem:(t,s)=>{e[t]=s},removeItem:t=>{delete e[t]}}}function i1(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Ur={debug:!!(globalThis&&li()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Lg extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class a1 extends Lg{}async function o1(e,t,s){Ur.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),Ur.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){Ur.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await s()}finally{Ur.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw Ur.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new a1(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Ur.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await s()}}))}i1();const l1={url:xj,storageKey:yj,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:vj,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Af(e,t,s){return await s()}class Li{constructor(t){var s,r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Li.nextInstanceID,Li.nextInstanceID+=1,this.instanceID>0&&It()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},l1),t);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new r1({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=Dg(i.fetch),this.lock=i.lock||Af,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:It()&&(!((s=globalThis==null?void 0:globalThis.navigator)===null||s===void 0)&&s.locks)?this.lock=o1:this.lock=Af,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?i.storage?this.storage=i.storage:li()?this.storage=n1:(this.memoryStorage={},this.storage=Ef(this.memoryStorage)):(this.memoryStorage={},this.storage=Ef(this.memoryStorage)),It()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Tg}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const s=Mj(window.location.href);let r="none";if(this._isImplicitGrantCallback(s)?r="implicit":await this._isPKCECallback(s)&&(r="pkce"),It()&&this.detectSessionInUrl&&r!=="none"){const{data:i,error:a}=await this._getSessionFromURL(s,r);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),kj(a)){const c=(t=a.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:o,redirectType:l}=i;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(s){return J(s)?{error:s}:{error:new Eg("Unexpected error during initialization",s)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var s,r,i;try{const a=await te(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(i=t==null?void 0:t.options)===null||i===void 0?void 0:i.captchaToken}},xform:ns}),{data:o,error:l}=a;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(a){if(J(a))return{data:{user:null,session:null},error:a};throw a}}async signUp(t){var s,r,i;try{let a;if("email"in t){const{email:d,password:h,options:f}=t;let x=null,y=null;this.flowType==="pkce"&&([x,y]=await $r(this.storage,this.storageKey)),a=await te(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:d,password:h,data:(s=f==null?void 0:f.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:x,code_challenge_method:y},xform:ns})}else if("phone"in t){const{phone:d,password:h,options:f}=t;a=await te(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},channel:(i=f==null?void 0:f.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:ns})}else throw new ya("You must provide either an email or phone number and a password");const{data:o,error:l}=a;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(a){if(J(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithPassword(t){try{let s;if("email"in t){const{email:a,password:o,options:l}=t;s=await te(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Pf})}else if("phone"in t){const{phone:a,password:o,options:l}=t;s=await te(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Pf})}else throw new ya("You must provide either an email or phone number and a password");const{data:r,error:i}=s;return i?{data:{user:null,session:null},error:i}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new xa}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:i})}catch(s){if(J(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOAuth(t){var s,r,i,a;return await this._handleProviderSignIn(t.provider,{redirectTo:(s=t.options)===null||s===void 0?void 0:s.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(a=t.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:s}=t;if(s==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${s}"`)}async signInWithSolana(t){var s,r,i,a,o,l,c,u,d,h,f,x;let y,j;if("message"in t)y=t.message,j=t.signature;else{const{chain:w,wallet:g,statement:m,options:p}=t;let v;if(It())if(typeof g=="object")v=g;else{const C=window;if("solana"in C&&typeof C.solana=="object"&&("signIn"in C.solana&&typeof C.solana.signIn=="function"||"signMessage"in C.solana&&typeof C.solana.signMessage=="function"))v=C.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof g!="object"||!(p!=null&&p.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");v=g}const b=new URL((s=p==null?void 0:p.url)!==null&&s!==void 0?s:window.location.href);if("signIn"in v&&v.signIn){const C=await v.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},p==null?void 0:p.signInWithSolana),{version:"1",domain:b.host,uri:b.href}),m?{statement:m}:null));let T;if(Array.isArray(C)&&C[0]&&typeof C[0]=="object")T=C[0];else if(C&&typeof C=="object"&&"signedMessage"in C&&"signature"in C)T=C;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in T&&"signature"in T&&(typeof T.signedMessage=="string"||T.signedMessage instanceof Uint8Array)&&T.signature instanceof Uint8Array)y=typeof T.signedMessage=="string"?T.signedMessage:new TextDecoder().decode(T.signedMessage),j=T.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in v)||typeof v.signMessage!="function"||!("publicKey"in v)||typeof v!="object"||!v.publicKey||!("toBase58"in v.publicKey)||typeof v.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");y=[`${b.host} wants you to sign in with your Solana account:`,v.publicKey.toBase58(),...m?["",m,""]:[""],"Version: 1",`URI: ${b.href}`,`Issued At: ${(i=(r=p==null?void 0:p.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((a=p==null?void 0:p.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${p.signInWithSolana.notBefore}`]:[],...!((o=p==null?void 0:p.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${p.signInWithSolana.expirationTime}`]:[],...!((l=p==null?void 0:p.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${p.signInWithSolana.chainId}`]:[],...!((c=p==null?void 0:p.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${p.signInWithSolana.nonce}`]:[],...!((u=p==null?void 0:p.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${p.signInWithSolana.requestId}`]:[],...!((h=(d=p==null?void 0:p.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||h===void 0)&&h.length?["Resources",...p.signInWithSolana.resources.map(T=>`- ${T}`)]:[]].join(`
`);const C=await v.signMessage(new TextEncoder().encode(y),"utf8");if(!C||!(C instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");j=C}}try{const{data:w,error:g}=await te(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:y,signature:Dj(j)},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(x=t.options)===null||x===void 0?void 0:x.captchaToken}}:null),xform:ns});if(g)throw g;return!w||!w.session||!w.user?{data:{user:null,session:null},error:new xa}:(w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),{data:Object.assign({},w),error:g})}catch(w){if(J(w))return{data:{user:null,session:null},error:w};throw w}}async _exchangeCodeForSession(t){const s=await wa(this.storage,`${this.storageKey}-code-verifier`),[r,i]=(s??"").split("/");try{const{data:a,error:o}=await te(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:ns});if(await ba(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!a||!a.session||!a.user?{data:{user:null,session:null,redirectType:null},error:new xa}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign(Object.assign({},a),{redirectType:i??null}),error:o})}catch(a){if(J(a))return{data:{user:null,session:null,redirectType:null},error:a};throw a}}async signInWithIdToken(t){try{const{options:s,provider:r,token:i,access_token:a,nonce:o}=t,l=await te(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:a,nonce:o,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:ns}),{data:c,error:u}=l;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new xa}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(s){if(J(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOtp(t){var s,r,i,a,o;try{if("email"in t){const{email:l,options:c}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await $r(this.storage,this.storageKey));const{error:h}=await te(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(r=c==null?void 0:c.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in t){const{phone:l,options:c}=t,{data:u,error:d}=await te(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(i=c==null?void 0:c.data)!==null&&i!==void 0?i:{},create_user:(a=c==null?void 0:c.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new ya("You must provide either an email or phone number.")}catch(l){if(J(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var s,r;try{let i,a;"options"in t&&(i=(s=t.options)===null||s===void 0?void 0:s.redirectTo,a=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:l}=await te(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:a}}),redirectTo:i,xform:ns});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,u=o.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(J(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(t){var s,r,i;try{let a=null,o=null;return this.flowType==="pkce"&&([a,o]=await $r(this.storage,this.storageKey)),await te(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(s=t.options)===null||s===void 0?void 0:s.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=t==null?void 0:t.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:o}),headers:this.headers,xform:Zj})}catch(a){if(J(a))return{data:null,error:a};throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:s},error:r}=t;if(r)throw r;if(!s)throw new Cs;const{error:i}=await te(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:s.access_token});return{data:{user:null,session:null},error:i}})}catch(t){if(J(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const s=`${this.url}/resend`;if("email"in t){const{email:r,type:i,options:a}=t,{error:o}=await te(this.fetch,"POST",s,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:r,type:i,options:a}=t,{data:o,error:l}=await te(this.fetch,"POST",s,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l}}throw new ya("You must provide either an email or phone number and a type")}catch(s){if(J(s))return{data:{user:null,session:null},error:s};throw s}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async s=>s))}async _acquireLock(t,s){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await r,await s()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=s();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const s=await this.__loadSession();return await t(s)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const s=await wa(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",s),s!==null&&(this._isValidSession(s)?t=s:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<$l:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.storage.isServer){let o=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,u,d)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,d))})}return{data:{session:t},error:null}}const{session:i,error:a}=await this._callRefreshToken(t.refresh_token);return a?{data:{session:null},error:a}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await te(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Ms}):await this._useSession(async s=>{var r,i,a;const{data:o,error:l}=s;if(l)throw l;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Cs}:await te(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(i=o.session)===null||i===void 0?void 0:i.access_token)!==null&&a!==void 0?a:void 0,xform:Ms})})}catch(s){if(J(s))return Sj(s)&&(await this._removeSession(),await ba(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:s};throw s}}async updateUser(t,s={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,s))}async _updateUser(t,s={}){try{return await this._useSession(async r=>{const{data:i,error:a}=r;if(a)throw a;if(!i.session)throw new Cs;const o=i.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await $r(this.storage,this.storageKey));const{data:u,error:d}=await te(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:s==null?void 0:s.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:o.access_token,xform:Ms});if(d)throw d;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if(J(r))return{data:{user:null},error:r};throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Cs;const s=Date.now()/1e3;let r=s,i=!0,a=null;const{payload:o}=Ul(t.access_token);if(o.exp&&(r=o.exp,i=r<=s),i){const{session:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};a=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)throw c;a={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:r-s,expires_at:r},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return{data:{user:a.user,session:a},error:null}}catch(s){if(J(s))return{data:{session:null,user:null},error:s};throw s}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async s=>{var r;if(!t){const{data:o,error:l}=s;if(l)throw l;t=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new Cs;const{session:i,error:a}=await this._callRefreshToken(t.refresh_token);return a?{data:{user:null,session:null},error:a}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(s){if(J(s))return{data:{user:null,session:null},error:s};throw s}}async _getSessionFromURL(t,s){try{if(!It())throw new va("No browser detected.");if(t.error||t.error_description||t.error_code)throw new va(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(s){case"implicit":if(this.flowType==="pkce")throw new Nf("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new va("Not a valid implicit grant flow url.");break;default:}if(s==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Nf("No code detected.");const{data:m,error:p}=await this._exchangeCodeForSession(t.code);if(p)throw p;const v=new URL(window.location.href);return v.searchParams.delete("code"),window.history.replaceState(window.history.state,"",v.toString()),{data:{session:m.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:i,access_token:a,refresh_token:o,expires_in:l,expires_at:c,token_type:u}=t;if(!a||!l||!o||!u)throw new va("No session defined in URL");const d=Math.round(Date.now()/1e3),h=parseInt(l);let f=d+h;c&&(f=parseInt(c));const x=f-d;x*1e3<=zr&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${x}s, should have been closer to ${h}s`);const y=f-h;d-y>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",y,f,d):d-y<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",y,f,d);const{data:j,error:w}=await this._getUser(a);if(w)throw w;const g={provider_token:r,provider_refresh_token:i,access_token:a,expires_in:h,expires_at:f,refresh_token:o,token_type:u,user:j.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:g,redirectType:t.type},error:null}}catch(r){if(J(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const s=await wa(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&s)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async s=>{var r;const{data:i,error:a}=s;if(a)return{error:a};const o=(r=i.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:l}=await this.admin.signOut(o,t);if(l&&!(Nj(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return t!=="others"&&(await this._removeSession(),await ba(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const s=Lj(),r={id:s,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",s),this.stateChangeEmitters.delete(s)}};return this._debug("#onAuthStateChange()","registered callback with id",s),this.stateChangeEmitters.set(s,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(s)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async s=>{var r,i;try{const{data:{session:a},error:o}=s;if(o)throw o;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",t,"session",a)}catch(a){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",a),console.error(a)}})}async resetPasswordForEmail(t,s={}){let r=null,i=null;this.flowType==="pkce"&&([r,i]=await $r(this.storage,this.storageKey,!0));try{return await te(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:s.captchaToken}},headers:this.headers,redirectTo:s.redirectTo})}catch(a){if(J(a))return{data:null,error:a};throw a}}async getUserIdentities(){var t;try{const{data:s,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(t=s.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(s){if(J(s))return{data:null,error:s};throw s}}async linkIdentity(t){var s;try{const{data:r,error:i}=await this._useSession(async a=>{var o,l,c,u,d;const{data:h,error:f}=a;if(f)throw f;const x=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await te(this.fetch,"GET",x,{headers:this.headers,jwt:(d=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(i)throw i;return It()&&!(!((s=t.options)===null||s===void 0)&&s.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:t.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(J(r))return{data:{provider:t.provider,url:null},error:r};throw r}}async unlinkIdentity(t){try{return await this._useSession(async s=>{var r,i;const{data:a,error:o}=s;if(o)throw o;return await te(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(r=a.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0})})}catch(s){if(J(s))return{data:null,error:s};throw s}}async _refreshAccessToken(t){const s=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{const r=Date.now();return await Vj(async i=>(i>0&&await Oj(200*Math.pow(2,i-1)),this._debug(s,"refreshing attempt",i),await te(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:ns})),(i,a)=>{const o=200*Math.pow(2,i);return a&&Fl(a)&&Date.now()+o-r<zr})}catch(r){if(this._debug(s,"error",r),J(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(s,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,s){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:s.redirectTo,scopes:s.scopes,queryParams:s.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",s,"url",r),It()&&!s.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t;const s="#_recoverAndRefresh()";this._debug(s,"begin");try{const r=await wa(this.storage,this.storageKey);if(this._debug(s,"session from storage",r),!this._isValidSession(r)){this._debug(s,"session is not valid"),r!==null&&await this._removeSession();return}const i=((t=r.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<$l;if(this._debug(s,`session has${i?"":" not"} expired with margin of ${$l}s`),i){if(this.autoRefreshToken&&r.refresh_token){const{error:a}=await this._callRefreshToken(r.refresh_token);a&&(console.error(a),Fl(a)||(this._debug(s,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(s,"error",r),console.error(r);return}finally{this._debug(s,"end")}}async _callRefreshToken(t){var s,r;if(!t)throw new Cs;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Qo;const{data:a,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!a.session)throw new Cs;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const l={session:a.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(a){if(this._debug(i,"error",a),J(a)){const o={session:null,error:a};return Fl(a)||await this._removeSession(),(s=this.refreshingDeferred)===null||s===void 0||s.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(a),a}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,s,r=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",s,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:s});const a=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,s)}catch(c){a.push(c)}});if(await Promise.all(o),a.length>0){for(let l=0;l<a.length;l+=1)console.error(a[l]);throw a[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await Rg(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await ba(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&It()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(s){console.error("removing visibilitychange callback failed",s)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),zr);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async s=>{const{data:{session:r}}=s;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-t)/zr);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${zr}ms, refresh threshold is ${tu} ticks`),i<=tu&&await this._callRefreshToken(r.refresh_token)})}catch(s){console.error("Auto refresh tick failed with error. This is likely a transient error.",s)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof Lg)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!It()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const s=`#_onVisibilityChanged(${t})`;this._debug(s,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(s,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,s,r){const i=[`provider=${encodeURIComponent(s)}`];if(r!=null&&r.redirectTo&&i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&i.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[a,o]=await $r(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(o)}`});i.push(l.toString())}if(r!=null&&r.queryParams){const a=new URLSearchParams(r.queryParams);i.push(a.toString())}return r!=null&&r.skipBrowserRedirect&&i.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async s=>{var r;const{data:i,error:a}=s;return a?{data:null,error:a}:await te(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(s){if(J(s))return{data:null,error:s};throw s}}async _enroll(t){try{return await this._useSession(async s=>{var r,i;const{data:a,error:o}=s;if(o)return{data:null,error:o};const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:c,error:u}=await te(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(r=a==null?void 0:a.session)===null||r===void 0?void 0:r.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&(!((i=c==null?void 0:c.totp)===null||i===void 0)&&i.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(s){if(J(s))return{data:null,error:s};throw s}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var r;const{data:i,error:a}=s;if(a)return{data:null,error:a};const{data:o,error:l}=await te(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:l})})}catch(s){if(J(s))return{data:null,error:s};throw s}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var r;const{data:i,error:a}=s;return a?{data:null,error:a}:await te(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(s){if(J(s))return{data:null,error:s};throw s}})}async _challengeAndVerify(t){const{data:s,error:r}=await this._challenge({factorId:t.factorId});return r?{data:null,error:r}:await this._verify({factorId:t.factorId,challengeId:s.id,code:t.code})}async _listFactors(){const{data:{user:t},error:s}=await this.getUser();if(s)return{data:null,error:s};const r=(t==null?void 0:t.factors)||[],i=r.filter(o=>o.factor_type==="totp"&&o.status==="verified"),a=r.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:r,totp:i,phone:a},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var s,r;const{data:{session:i},error:a}=t;if(a)return{data:null,error:a};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=Ul(i.access_token);let l=null;o.aal&&(l=o.aal);let c=l;((r=(s=i.user.factors)===null||s===void 0?void 0:s.filter(h=>h.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(c="aal2");const d=o.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(t,s={keys:[]}){let r=s.keys.find(o=>o.kid===t);if(r||(r=this.jwks.keys.find(o=>o.kid===t),r&&this.jwks_cached_at+bj>Date.now()))return r;const{data:i,error:a}=await te(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;if(!i.keys||i.keys.length===0)throw new oi("JWKS is empty");if(this.jwks=i,this.jwks_cached_at=Date.now(),r=i.keys.find(o=>o.kid===t),!r)throw new oi("No matching signing key found in JWKS");return r}async getClaims(t,s={keys:[]}){try{let r=t;if(!r){const{data:x,error:y}=await this.getSession();if(y||!x.session)return{data:null,error:y};r=x.session.access_token}const{header:i,payload:a,signature:o,raw:{header:l,payload:c}}=Ul(r);if(qj(a.exp),!i.kid||i.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:x}=await this.getUser(r);if(x)throw x;return{data:{claims:a,header:i,signature:o},error:null}}const u=Wj(i.alg),d=await this.fetchJwk(i.kid,s),h=await crypto.subtle.importKey("jwk",d,u,!0,["verify"]);if(!await crypto.subtle.verify(u,h,o,Aj(`${l}.${c}`)))throw new oi("Invalid JWT signature");return{data:{claims:a,header:i,signature:o},error:null}}catch(r){if(J(r))return{data:null,error:r};throw r}}}Li.nextInstanceID=0;const c1=Li;class u1 extends c1{constructor(t){super(t)}}var d1=function(e,t,s,r){function i(a){return a instanceof s?a:new s(function(o){o(a)})}return new(s||(s=Promise))(function(a,o){function l(d){try{u(r.next(d))}catch(h){o(h)}}function c(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?a(d.value):i(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};class h1{constructor(t,s,r){var i,a,o;if(this.supabaseUrl=t,this.supabaseKey=s,!t)throw new Error("supabaseUrl is required.");if(!s)throw new Error("supabaseKey is required.");const l=pj(t),c=new URL(l);this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);const u=`sb-${c.hostname.split(".")[0]}-auth-token`,d={db:oj,realtime:cj,auth:Object.assign(Object.assign({},lj),{storageKey:u}),global:aj},h=gj(r??{},d);this.storageKey=(i=h.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(a=h.global.headers)!==null&&a!==void 0?a:{},h.accessToken?(this.accessToken=h.accessToken,this.auth=new Proxy({},{get:(f,x)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(x)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=h.auth)!==null&&o!==void 0?o:{},this.headers,h.global.fetch),this.fetch=fj(s,this._getAccessToken.bind(this),h.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},h.realtime)),this.rest=new Pb(new URL("rest/v1",c).href,{headers:this.headers,schema:h.db.schema,fetch:this.fetch}),h.accessToken||this._listenForAuthEvents()}get functions(){return new ib(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new rj(this.storageUrl.href,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,s={},r={}){return this.rest.rpc(t,s,r)}channel(t,s={config:{}}){return this.realtime.channel(t,s)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,s;return d1(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(s=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&s!==void 0?s:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:s,detectSessionInUrl:r,storage:i,storageKey:a,flowType:o,lock:l,debug:c},u,d){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new u1({url:this.authUrl.href,headers:Object.assign(Object.assign({},h),u),storageKey:a,autoRefreshToken:t,persistSession:s,detectSessionInUrl:r,storage:i,flowType:o,lock:l,debug:c,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new Hb(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((s,r)=>{this._handleTokenChanged(s,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(t,s,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:t==="SIGNED_OUT"&&(this.realtime.setAuth(),s=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const f1=(e,t,s)=>new h1(e,t,s),m1="https://fxfvlqtvehqemluuloas.supabase.co",p1="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImZ4ZnZscXR2ZWhxZW1sdXVsb2FzIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTEyMTQ2NTksImV4cCI6MjA2Njc5MDY1OX0.x5cv6EiEEKdS0IV8TIys06REDuZ1A5wu_qXzKvUDcmk",Z=f1(m1,p1),bd={signUp:async(e,t,s)=>await Z.auth.signUp({email:e,password:t,options:{emailRedirectTo:`${window.location.origin}/auth/callback`,data:s}}),signIn:async(e,t)=>{const s=await Z.auth.signInWithPassword({email:e,password:t});if(s.data.user&&!s.error)try{await Z.from("audit_logs").insert({user_id:s.data.user.id,action:"sign_in",details:{email:e,timestamp:new Date().toISOString()}})}catch(r){console.warn("Could not log sign in event:",r)}return s},signOut:async()=>{console.log("Supabase: Initiating sign out...");try{const e=await Z.auth.signOut();return console.log("Supabase: Sign out result:",e.error?"error":"success"),e}catch(e){return console.error("Supabase: Sign out error:",e),{error:e}}},resetPassword:async e=>await Z.auth.resetPasswordForEmail(e,{redirectTo:`${window.location.origin}/auth/reset-password`}),updatePassword:async e=>await Z.auth.updateUser({password:e})},Mg=N.createContext({user:null,session:null,userProfile:null,loading:!0,signOut:async()=>{},refreshProfile:async()=>{}}),tt=()=>{const e=N.useContext(Mg);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e},g1=({children:e})=>{const[t,s]=N.useState(null),[r,i]=N.useState(null),[a,o]=N.useState(null),[l,c]=N.useState(!0),u=N.useRef(!1),d=N.useRef(!0),h=N.useRef(null);N.useEffect(()=>{let w=null;const g=async()=>{try{console.log("Initializing auth...");const{data:{session:p},error:v}=await Z.auth.getSession();if(!d.current)return;if(v){console.error("Error getting session:",v),c(!1);return}console.log("Initial session:",p?"found":"not found"),p!=null&&p.user?(i(p),s(p.user),await f(p.user.id,p.user.email)):(i(null),s(null),o(null)),c(!1)}catch(p){console.error("Error in initializeAuth:",p),d.current&&c(!1)}},m=()=>{const{data:{subscription:p}}=Z.auth.onAuthStateChange(async(v,b)=>{if(d.current){if(console.log("Auth state changed:",v),v==="SIGNED_OUT"||!b){console.log("User signed out - clearing state"),h.current&&(clearTimeout(h.current),h.current=null),i(null),s(null),o(null),u.current=!1,c(!1);return}if(v==="SIGNED_IN"&&(b!=null&&b.user)&&!u.current){console.log("User signed in"),i(b),s(b.user);try{await f(b.user.id,b.user.email)}catch(C){console.error("Error fetching profile:",C)}}v==="TOKEN_REFRESHED"&&(b!=null&&b.user)&&!u.current&&(i(b),s(b.user)),u.current||c(!1)}});w=p};return g().then(()=>{d.current&&m()}),()=>{d.current=!1,h.current&&clearTimeout(h.current),w&&w.unsubscribe()}},[]);const f=async(w,g)=>{if(!(u.current||!d.current))try{console.log("Fetching user profile for:",w);let m=null;const{data:p,error:v}=await Z.from("user_profiles").select("*").eq("user_id",w).maybeSingle();if(v&&v.code!=="PGRST116"){console.error("Error fetching user profile:",v);return}if(p)m=p;else if(g){const{data:b}=await Z.from("user_profiles").select("*").eq("email",g).maybeSingle();if(b){const{data:C}=await Z.from("user_profiles").update({user_id:w}).eq("email",g).select().single();m=C}else{const C=g==="admin@legalportal.com"?"admin":"client",{data:T}=await Z.from("user_profiles").insert({user_id:w,role:C,first_name:C==="admin"?"System":"User",last_name:C==="admin"?"Administrator":"Account",email:g,is_active:!0}).select().single();m=T}}d.current&&!u.current&&o(m)}catch(m){console.error("Error in fetchUserProfile:",m)}},j={user:t,session:r,userProfile:a,loading:l,signOut:async()=>{if(u.current){console.log("Sign out already in progress");return}try{console.log("Starting sign out..."),u.current=!0,c(!0),o(null),o(null),s(null),i(null),h.current=setTimeout(()=>{console.log("Force cleanup after timeout"),d.current&&(s(null),i(null),o(null),c(!1),u.current=!1)},5e3);const{error:w}=await Z.auth.signOut();w&&console.error("Error during sign out:",w),h.current&&(clearTimeout(h.current),h.current=null),console.log("Sign out completed")}catch(w){console.error("Error signing out:",w)}finally{s(null),i(null),o(null),u.current=!1,c(!1),h.current&&(clearTimeout(h.current),h.current=null)}},refreshProfile:async()=>{t&&!u.current&&d.current&&await f(t.id,t.email)}};return n.jsx(Mg.Provider,{value:j,children:e})};var Ki=e=>e.type==="checkbox",xr=e=>e instanceof Date,Je=e=>e==null;const Ig=e=>typeof e=="object";var ke=e=>!Je(e)&&!Array.isArray(e)&&Ig(e)&&!xr(e),x1=e=>ke(e)&&e.target?Ki(e.target)?e.target.checked:e.target.value:e,y1=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,v1=(e,t)=>e.has(y1(t)),w1=e=>{const t=e.constructor&&e.constructor.prototype;return ke(t)&&t.hasOwnProperty("isPrototypeOf")},jd=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Oe(e){let t;const s=Array.isArray(e),r=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set(e);else if(!(jd&&(e instanceof Blob||r))&&(s||ke(e)))if(t=s?[]:{},!s&&!w1(e))t=e;else for(const i in e)e.hasOwnProperty(i)&&(t[i]=Oe(e[i]));else return e;return t}var Jo=e=>/^\w*$/.test(e),je=e=>e===void 0,Nd=e=>Array.isArray(e)?e.filter(Boolean):[],Sd=e=>Nd(e.replace(/["|']|\]/g,"").split(/\.|\[/)),G=(e,t,s)=>{if(!t||!ke(e))return s;const r=(Jo(t)?[t]:Sd(t)).reduce((i,a)=>Je(i)?i:i[a],e);return je(r)||r===e?je(e[t])?s:e[t]:r},Gt=e=>typeof e=="boolean",he=(e,t,s)=>{let r=-1;const i=Jo(t)?[t]:Sd(t),a=i.length,o=a-1;for(;++r<a;){const l=i[r];let c=s;if(r!==o){const u=e[l];c=ke(u)||Array.isArray(u)?u:isNaN(+i[r+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;e[l]=c,e=e[l]}};const Df={BLUR:"blur",FOCUS_OUT:"focusout"},Ut={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},rs={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},b1=mt.createContext(null);b1.displayName="HookFormContext";var j1=(e,t,s,r=!0)=>{const i={defaultValues:t._defaultValues};for(const a in e)Object.defineProperty(i,a,{get:()=>{const o=a;return t._proxyFormState[o]!==Ut.all&&(t._proxyFormState[o]=!r||Ut.all),e[o]}});return i};const N1=typeof window<"u"?N.useLayoutEffect:N.useEffect;var Qt=e=>typeof e=="string",S1=(e,t,s,r,i)=>Qt(e)?(r&&t.watch.add(e),G(s,e,i)):Array.isArray(e)?e.map(a=>(r&&t.watch.add(a),G(s,a))):(r&&(t.watchAll=!0),s),k1=(e,t,s,r,i)=>t?{...s[e],types:{...s[e]&&s[e].types?s[e].types:{},[r]:i||!0}}:{},ci=e=>Array.isArray(e)?e:[e],Rf=()=>{let e=[];return{get observers(){return e},next:i=>{for(const a of e)a.next&&a.next(i)},subscribe:i=>(e.push(i),{unsubscribe:()=>{e=e.filter(a=>a!==i)}}),unsubscribe:()=>{e=[]}}},nu=e=>Je(e)||!Ig(e);function Is(e,t,s=new WeakSet){if(nu(e)||nu(t))return e===t;if(xr(e)&&xr(t))return e.getTime()===t.getTime();const r=Object.keys(e),i=Object.keys(t);if(r.length!==i.length)return!1;if(s.has(e)||s.has(t))return!0;s.add(e),s.add(t);for(const a of r){const o=e[a];if(!i.includes(a))return!1;if(a!=="ref"){const l=t[a];if(xr(o)&&xr(l)||ke(o)&&ke(l)||Array.isArray(o)&&Array.isArray(l)?!Is(o,l,s):o!==l)return!1}}return!0}var nt=e=>ke(e)&&!Object.keys(e).length,kd=e=>e.type==="file",Bt=e=>typeof e=="function",mo=e=>{if(!jd)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},Og=e=>e.type==="select-multiple",_d=e=>e.type==="radio",_1=e=>_d(e)||Ki(e),zl=e=>mo(e)&&e.isConnected;function C1(e,t){const s=t.slice(0,-1).length;let r=0;for(;r<s;)e=je(e)?r++:e[t[r++]];return e}function T1(e){for(const t in e)if(e.hasOwnProperty(t)&&!je(e[t]))return!1;return!0}function _e(e,t){const s=Array.isArray(t)?t:Jo(t)?[t]:Sd(t),r=s.length===1?e:C1(e,s),i=s.length-1,a=s[i];return r&&delete r[a],i!==0&&(ke(r)&&nt(r)||Array.isArray(r)&&T1(r))&&_e(e,s.slice(0,-1)),e}var Vg=e=>{for(const t in e)if(Bt(e[t]))return!0;return!1};function po(e,t={}){const s=Array.isArray(e);if(ke(e)||s)for(const r in e)Array.isArray(e[r])||ke(e[r])&&!Vg(e[r])?(t[r]=Array.isArray(e[r])?[]:{},po(e[r],t[r])):Je(e[r])||(t[r]=!0);return t}function $g(e,t,s){const r=Array.isArray(e);if(ke(e)||r)for(const i in e)Array.isArray(e[i])||ke(e[i])&&!Vg(e[i])?je(t)||nu(s[i])?s[i]=Array.isArray(e[i])?po(e[i],[]):{...po(e[i])}:$g(e[i],Je(t)?{}:t[i],s[i]):s[i]=!Is(e[i],t[i]);return s}var Fn=(e,t)=>$g(e,t,po(t));const Lf={value:!1,isValid:!1},Mf={value:!0,isValid:!0};var Fg=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(s=>s&&s.checked&&!s.disabled).map(s=>s.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!je(e[0].attributes.value)?je(e[0].value)||e[0].value===""?Mf:{value:e[0].value,isValid:!0}:Mf:Lf}return Lf},Ug=(e,{valueAsNumber:t,valueAsDate:s,setValueAs:r})=>je(e)?e:t?e===""?NaN:e&&+e:s&&Qt(e)?new Date(e):r?r(e):e;const If={isValid:!1,value:null};var Bg=e=>Array.isArray(e)?e.reduce((t,s)=>s&&s.checked&&!s.disabled?{isValid:!0,value:s.value}:t,If):If;function Of(e){const t=e.ref;return kd(t)?t.files:_d(t)?Bg(e.refs).value:Og(t)?[...t.selectedOptions].map(({value:s})=>s):Ki(t)?Fg(e.refs).value:Ug(je(t.value)?e.ref.value:t.value,e)}var P1=(e,t,s,r)=>{const i={};for(const a of e){const o=G(t,a);o&&he(i,a,o._f)}return{criteriaMode:s,names:[...e],fields:i,shouldUseNativeValidation:r}},go=e=>e instanceof RegExp,Un=e=>je(e)?e:go(e)?e.source:ke(e)?go(e.value)?e.value.source:e.value:e,Vf=e=>({isOnSubmit:!e||e===Ut.onSubmit,isOnBlur:e===Ut.onBlur,isOnChange:e===Ut.onChange,isOnAll:e===Ut.all,isOnTouch:e===Ut.onTouched});const $f="AsyncFunction";var E1=e=>!!e&&!!e.validate&&!!(Bt(e.validate)&&e.validate.constructor.name===$f||ke(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===$f)),A1=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),Ff=(e,t,s)=>!s&&(t.watchAll||t.watch.has(e)||[...t.watch].some(r=>e.startsWith(r)&&/^\.\w+/.test(e.slice(r.length))));const ui=(e,t,s,r)=>{for(const i of s||Object.keys(e)){const a=G(e,i);if(a){const{_f:o,...l}=a;if(o){if(o.refs&&o.refs[0]&&t(o.refs[0],i)&&!r)return!0;if(o.ref&&t(o.ref,o.name)&&!r)return!0;if(ui(l,t))break}else if(ke(l)&&ui(l,t))break}}};function Uf(e,t,s){const r=G(e,s);if(r||Jo(s))return{error:r,name:s};const i=s.split(".");for(;i.length;){const a=i.join("."),o=G(t,a),l=G(e,a);if(o&&!Array.isArray(o)&&s!==a)return{name:s};if(l&&l.type)return{name:a,error:l};if(l&&l.root&&l.root.type)return{name:`${a}.root`,error:l.root};i.pop()}return{name:s}}var D1=(e,t,s,r)=>{s(e);const{name:i,...a}=e;return nt(a)||Object.keys(a).length>=Object.keys(t).length||Object.keys(a).find(o=>t[o]===(!r||Ut.all))},R1=(e,t,s)=>!e||!t||e===t||ci(e).some(r=>r&&(s?r===t:r.startsWith(t)||t.startsWith(r))),L1=(e,t,s,r,i)=>i.isOnAll?!1:!s&&i.isOnTouch?!(t||e):(s?r.isOnBlur:i.isOnBlur)?!e:(s?r.isOnChange:i.isOnChange)?e:!0,M1=(e,t)=>!Nd(G(e,t)).length&&_e(e,t),I1=(e,t,s)=>{const r=ci(G(e,s));return he(r,"root",t[s]),he(e,s,r),e},Va=e=>Qt(e);function Bf(e,t,s="validate"){if(Va(e)||Array.isArray(e)&&e.every(Va)||Gt(e)&&!e)return{type:s,message:Va(e)?e:"",ref:t}}var Br=e=>ke(e)&&!go(e)?e:{value:e,message:""},zf=async(e,t,s,r,i,a)=>{const{ref:o,refs:l,required:c,maxLength:u,minLength:d,min:h,max:f,pattern:x,validate:y,name:j,valueAsNumber:w,mount:g}=e._f,m=G(s,j);if(!g||t.has(j))return{};const p=l?l[0]:o,v=O=>{i&&p.reportValidity&&(p.setCustomValidity(Gt(O)?"":O||""),p.reportValidity())},b={},C=_d(o),T=Ki(o),D=C||T,$=(w||kd(o))&&je(o.value)&&je(m)||mo(o)&&o.value===""||m===""||Array.isArray(m)&&!m.length,z=k1.bind(null,j,r,b),k=(O,L,W,ee=rs.maxLength,X=rs.minLength)=>{const E=O?L:W;b[j]={type:O?ee:X,message:E,ref:o,...z(O?ee:X,E)}};if(a?!Array.isArray(m)||!m.length:c&&(!D&&($||Je(m))||Gt(m)&&!m||T&&!Fg(l).isValid||C&&!Bg(l).isValid)){const{value:O,message:L}=Va(c)?{value:!!c,message:c}:Br(c);if(O&&(b[j]={type:rs.required,message:L,ref:p,...z(rs.required,L)},!r))return v(L),b}if(!$&&(!Je(h)||!Je(f))){let O,L;const W=Br(f),ee=Br(h);if(!Je(m)&&!isNaN(m)){const X=o.valueAsNumber||m&&+m;Je(W.value)||(O=X>W.value),Je(ee.value)||(L=X<ee.value)}else{const X=o.valueAsDate||new Date(m),E=H=>new Date(new Date().toDateString()+" "+H),R=o.type=="time",M=o.type=="week";Qt(W.value)&&m&&(O=R?E(m)>E(W.value):M?m>W.value:X>new Date(W.value)),Qt(ee.value)&&m&&(L=R?E(m)<E(ee.value):M?m<ee.value:X<new Date(ee.value))}if((O||L)&&(k(!!O,W.message,ee.message,rs.max,rs.min),!r))return v(b[j].message),b}if((u||d)&&!$&&(Qt(m)||a&&Array.isArray(m))){const O=Br(u),L=Br(d),W=!Je(O.value)&&m.length>+O.value,ee=!Je(L.value)&&m.length<+L.value;if((W||ee)&&(k(W,O.message,L.message),!r))return v(b[j].message),b}if(x&&!$&&Qt(m)){const{value:O,message:L}=Br(x);if(go(O)&&!m.match(O)&&(b[j]={type:rs.pattern,message:L,ref:o,...z(rs.pattern,L)},!r))return v(L),b}if(y){if(Bt(y)){const O=await y(m,s),L=Bf(O,p);if(L&&(b[j]={...L,...z(rs.validate,L.message)},!r))return v(L.message),b}else if(ke(y)){let O={};for(const L in y){if(!nt(O)&&!r)break;const W=Bf(await y[L](m,s),p,L);W&&(O={...W,...z(L,W.message)},v(W.message),r&&(b[j]=O))}if(!nt(O)&&(b[j]={ref:p,...O},!r))return b}}return v(!0),b};const O1={mode:Ut.onSubmit,reValidateMode:Ut.onChange,shouldFocusError:!0};function V1(e={}){let t={...O1,...e},s={submitCount:0,isDirty:!1,isReady:!1,isLoading:Bt(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1};const r={};let i=ke(t.defaultValues)||ke(t.values)?Oe(t.defaultValues||t.values)||{}:{},a=t.shouldUnregister?{}:Oe(i),o={action:!1,mount:!1,watch:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,u=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let h={...d};const f={array:Rf(),state:Rf()},x=t.criteriaMode===Ut.all,y=S=>P=>{clearTimeout(u),u=setTimeout(S,P)},j=async S=>{if(!t.disabled&&(d.isValid||h.isValid||S)){const P=t.resolver?nt((await T()).errors):await $(r,!0);P!==s.isValid&&f.state.next({isValid:P})}},w=(S,P)=>{!t.disabled&&(d.isValidating||d.validatingFields||h.isValidating||h.validatingFields)&&((S||Array.from(l.mount)).forEach(A=>{A&&(P?he(s.validatingFields,A,P):_e(s.validatingFields,A))}),f.state.next({validatingFields:s.validatingFields,isValidating:!nt(s.validatingFields)}))},g=(S,P=[],A,B,F=!0,V=!0)=>{if(B&&A&&!t.disabled){if(o.action=!0,V&&Array.isArray(G(r,S))){const Y=A(G(r,S),B.argA,B.argB);F&&he(r,S,Y)}if(V&&Array.isArray(G(s.errors,S))){const Y=A(G(s.errors,S),B.argA,B.argB);F&&he(s.errors,S,Y),M1(s.errors,S)}if((d.touchedFields||h.touchedFields)&&V&&Array.isArray(G(s.touchedFields,S))){const Y=A(G(s.touchedFields,S),B.argA,B.argB);F&&he(s.touchedFields,S,Y)}(d.dirtyFields||h.dirtyFields)&&(s.dirtyFields=Fn(i,a)),f.state.next({name:S,isDirty:k(S,P),dirtyFields:s.dirtyFields,errors:s.errors,isValid:s.isValid})}else he(a,S,P)},m=(S,P)=>{he(s.errors,S,P),f.state.next({errors:s.errors})},p=S=>{s.errors=S,f.state.next({errors:s.errors,isValid:!1})},v=(S,P,A,B)=>{const F=G(r,S);if(F){const V=G(a,S,je(A)?G(i,S):A);je(V)||B&&B.defaultChecked||P?he(a,S,P?V:Of(F._f)):W(S,V),o.mount&&j()}},b=(S,P,A,B,F)=>{let V=!1,Y=!1;const ne={name:S};if(!t.disabled){if(!A||B){(d.isDirty||h.isDirty)&&(Y=s.isDirty,s.isDirty=ne.isDirty=k(),V=Y!==ne.isDirty);const oe=Is(G(i,S),P);Y=!!G(s.dirtyFields,S),oe?_e(s.dirtyFields,S):he(s.dirtyFields,S,!0),ne.dirtyFields=s.dirtyFields,V=V||(d.dirtyFields||h.dirtyFields)&&Y!==!oe}if(A){const oe=G(s.touchedFields,S);oe||(he(s.touchedFields,S,A),ne.touchedFields=s.touchedFields,V=V||(d.touchedFields||h.touchedFields)&&oe!==A)}V&&F&&f.state.next(ne)}return V?ne:{}},C=(S,P,A,B)=>{const F=G(s.errors,S),V=(d.isValid||h.isValid)&&Gt(P)&&s.isValid!==P;if(t.delayError&&A?(c=y(()=>m(S,A)),c(t.delayError)):(clearTimeout(u),c=null,A?he(s.errors,S,A):_e(s.errors,S)),(A?!Is(F,A):F)||!nt(B)||V){const Y={...B,...V&&Gt(P)?{isValid:P}:{},errors:s.errors,name:S};s={...s,...Y},f.state.next(Y)}},T=async S=>{w(S,!0);const P=await t.resolver(a,t.context,P1(S||l.mount,r,t.criteriaMode,t.shouldUseNativeValidation));return w(S),P},D=async S=>{const{errors:P}=await T(S);if(S)for(const A of S){const B=G(P,A);B?he(s.errors,A,B):_e(s.errors,A)}else s.errors=P;return P},$=async(S,P,A={valid:!0})=>{for(const B in S){const F=S[B];if(F){const{_f:V,...Y}=F;if(V){const ne=l.array.has(V.name),oe=F._f&&E1(F._f);oe&&d.validatingFields&&w([B],!0);const St=await zf(F,l.disabled,a,x,t.shouldUseNativeValidation&&!P,ne);if(oe&&d.validatingFields&&w([B]),St[V.name]&&(A.valid=!1,P))break;!P&&(G(St,V.name)?ne?I1(s.errors,St,V.name):he(s.errors,V.name,St[V.name]):_e(s.errors,V.name))}!nt(Y)&&await $(Y,P,A)}}return A.valid},z=()=>{for(const S of l.unMount){const P=G(r,S);P&&(P._f.refs?P._f.refs.every(A=>!zl(A)):!zl(P._f.ref))&&st(S)}l.unMount=new Set},k=(S,P)=>!t.disabled&&(S&&P&&he(a,S,P),!Is(H(),i)),O=(S,P,A)=>S1(S,l,{...o.mount?a:je(P)?i:Qt(S)?{[S]:P}:P},A,P),L=S=>Nd(G(o.mount?a:i,S,t.shouldUnregister?G(i,S,[]):[])),W=(S,P,A={})=>{const B=G(r,S);let F=P;if(B){const V=B._f;V&&(!V.disabled&&he(a,S,Ug(P,V)),F=mo(V.ref)&&Je(P)?"":P,Og(V.ref)?[...V.ref.options].forEach(Y=>Y.selected=F.includes(Y.value)):V.refs?Ki(V.ref)?V.refs.forEach(Y=>{(!Y.defaultChecked||!Y.disabled)&&(Array.isArray(F)?Y.checked=!!F.find(ne=>ne===Y.value):Y.checked=F===Y.value||!!F)}):V.refs.forEach(Y=>Y.checked=Y.value===F):kd(V.ref)?V.ref.value="":(V.ref.value=F,V.ref.type||f.state.next({name:S,values:Oe(a)})))}(A.shouldDirty||A.shouldTouch)&&b(S,F,A.shouldTouch,A.shouldDirty,!0),A.shouldValidate&&M(S)},ee=(S,P,A)=>{for(const B in P){if(!P.hasOwnProperty(B))return;const F=P[B],V=S+"."+B,Y=G(r,V);(l.array.has(S)||ke(F)||Y&&!Y._f)&&!xr(F)?ee(V,F,A):W(V,F,A)}},X=(S,P,A={})=>{const B=G(r,S),F=l.array.has(S),V=Oe(P);he(a,S,V),F?(f.array.next({name:S,values:Oe(a)}),(d.isDirty||d.dirtyFields||h.isDirty||h.dirtyFields)&&A.shouldDirty&&f.state.next({name:S,dirtyFields:Fn(i,a),isDirty:k(S,V)})):B&&!B._f&&!Je(V)?ee(S,V,A):W(S,V,A),Ff(S,l)&&f.state.next({...s}),f.state.next({name:o.mount?S:void 0,values:Oe(a)})},E=async S=>{o.mount=!0;const P=S.target;let A=P.name,B=!0;const F=G(r,A),V=oe=>{B=Number.isNaN(oe)||xr(oe)&&isNaN(oe.getTime())||Is(oe,G(a,A,oe))},Y=Vf(t.mode),ne=Vf(t.reValidateMode);if(F){let oe,St;const Xi=P.type?Of(F._f):x1(S),ks=S.type===Df.BLUR||S.type===Df.FOCUS_OUT,by=!A1(F._f)&&!t.resolver&&!G(s.errors,A)&&!F._f.deps||L1(ks,G(s.touchedFields,A),s.isSubmitted,ne,Y),cl=Ff(A,l,ks);he(a,A,Xi),ks?(F._f.onBlur&&F._f.onBlur(S),c&&c(0)):F._f.onChange&&F._f.onChange(S);const ul=b(A,Xi,ks),jy=!nt(ul)||cl;if(!ks&&f.state.next({name:A,type:S.type,values:Oe(a)}),by)return(d.isValid||h.isValid)&&(t.mode==="onBlur"?ks&&j():ks||j()),jy&&f.state.next({name:A,...cl?{}:ul});if(!ks&&cl&&f.state.next({...s}),t.resolver){const{errors:nh}=await T([A]);if(V(Xi),B){const Ny=Uf(s.errors,r,A),ih=Uf(nh,r,Ny.name||A);oe=ih.error,A=ih.name,St=nt(nh)}}else w([A],!0),oe=(await zf(F,l.disabled,a,x,t.shouldUseNativeValidation))[A],w([A]),V(Xi),B&&(oe?St=!1:(d.isValid||h.isValid)&&(St=await $(r,!0)));B&&(F._f.deps&&M(F._f.deps),C(A,St,oe,ul))}},R=(S,P)=>{if(G(s.errors,P)&&S.focus)return S.focus(),1},M=async(S,P={})=>{let A,B;const F=ci(S);if(t.resolver){const V=await D(je(S)?S:F);A=nt(V),B=S?!F.some(Y=>G(V,Y)):A}else S?(B=(await Promise.all(F.map(async V=>{const Y=G(r,V);return await $(Y&&Y._f?{[V]:Y}:Y)}))).every(Boolean),!(!B&&!s.isValid)&&j()):B=A=await $(r);return f.state.next({...!Qt(S)||(d.isValid||h.isValid)&&A!==s.isValid?{}:{name:S},...t.resolver||!S?{isValid:A}:{},errors:s.errors}),P.shouldFocus&&!B&&ui(r,R,S?F:l.mount),B},H=S=>{const P={...o.mount?a:i};return je(S)?P:Qt(S)?G(P,S):S.map(A=>G(P,A))},U=(S,P)=>({invalid:!!G((P||s).errors,S),isDirty:!!G((P||s).dirtyFields,S),error:G((P||s).errors,S),isValidating:!!G(s.validatingFields,S),isTouched:!!G((P||s).touchedFields,S)}),ie=S=>{S&&ci(S).forEach(P=>_e(s.errors,P)),f.state.next({errors:S?s.errors:{}})},ft=(S,P,A)=>{const B=(G(r,S,{_f:{}})._f||{}).ref,F=G(s.errors,S)||{},{ref:V,message:Y,type:ne,...oe}=F;he(s.errors,S,{...oe,...P,ref:B}),f.state.next({name:S,errors:s.errors,isValid:!1}),A&&A.shouldFocus&&B&&B.focus&&B.focus()},Me=(S,P)=>Bt(S)?f.state.subscribe({next:A=>S(O(void 0,P),A)}):O(S,P,!0),Lt=S=>f.state.subscribe({next:P=>{R1(S.name,P.name,S.exact)&&D1(P,S.formState||d,wy,S.reRenderRoot)&&S.callback({values:{...a},...s,...P})}}).unsubscribe,Ae=S=>(o.mount=!0,h={...h,...S.formState},Lt({...S,formState:h})),st=(S,P={})=>{for(const A of S?ci(S):l.mount)l.mount.delete(A),l.array.delete(A),P.keepValue||(_e(r,A),_e(a,A)),!P.keepError&&_e(s.errors,A),!P.keepDirty&&_e(s.dirtyFields,A),!P.keepTouched&&_e(s.touchedFields,A),!P.keepIsValidating&&_e(s.validatingFields,A),!t.shouldUnregister&&!P.keepDefaultValue&&_e(i,A);f.state.next({values:Oe(a)}),f.state.next({...s,...P.keepDirty?{isDirty:k()}:{}}),!P.keepIsValid&&j()},Ir=({disabled:S,name:P})=>{(Gt(S)&&o.mount||S||l.disabled.has(P))&&(S?l.disabled.add(P):l.disabled.delete(P))},Ie=(S,P={})=>{let A=G(r,S);const B=Gt(P.disabled)||Gt(t.disabled);return he(r,S,{...A||{},_f:{...A&&A._f?A._f:{ref:{name:S}},name:S,mount:!0,...P}}),l.mount.add(S),A?Ir({disabled:Gt(P.disabled)?P.disabled:t.disabled,name:S}):v(S,!0,P.value),{...B?{disabled:P.disabled||t.disabled}:{},...t.progressive?{required:!!P.required,min:Un(P.min),max:Un(P.max),minLength:Un(P.minLength),maxLength:Un(P.maxLength),pattern:Un(P.pattern)}:{},name:S,onChange:E,onBlur:E,ref:F=>{if(F){Ie(S,P),A=G(r,S);const V=je(F.value)&&F.querySelectorAll&&F.querySelectorAll("input,select,textarea")[0]||F,Y=_1(V),ne=A._f.refs||[];if(Y?ne.find(oe=>oe===V):V===A._f.ref)return;he(r,S,{_f:{...A._f,...Y?{refs:[...ne.filter(zl),V,...Array.isArray(G(i,S))?[{}]:[]],ref:{type:V.type,name:S}}:{ref:V}}}),v(S,!1,void 0,V)}else A=G(r,S,{}),A._f&&(A._f.mount=!1),(t.shouldUnregister||P.shouldUnregister)&&!(v1(l.array,S)&&o.action)&&l.unMount.add(S)}}},we=()=>t.shouldFocusError&&ui(r,R,l.mount),ss=S=>{Gt(S)&&(f.state.next({disabled:S}),ui(r,(P,A)=>{const B=G(r,A);B&&(P.disabled=B._f.disabled||S,Array.isArray(B._f.refs)&&B._f.refs.forEach(F=>{F.disabled=B._f.disabled||S}))},0,!1))},ll=(S,P)=>async A=>{let B;A&&(A.preventDefault&&A.preventDefault(),A.persist&&A.persist());let F=Oe(a);if(f.state.next({isSubmitting:!0}),t.resolver){const{errors:V,values:Y}=await T();s.errors=V,F=Oe(Y)}else await $(r);if(l.disabled.size)for(const V of l.disabled)_e(F,V);if(_e(s.errors,"root"),nt(s.errors)){f.state.next({errors:{}});try{await S(F,A)}catch(V){B=V}}else P&&await P({...s.errors},A),we(),setTimeout(we);if(f.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:nt(s.errors)&&!B,submitCount:s.submitCount+1,errors:s.errors}),B)throw B},yy=(S,P={})=>{G(r,S)&&(je(P.defaultValue)?X(S,Oe(G(i,S))):(X(S,P.defaultValue),he(i,S,Oe(P.defaultValue))),P.keepTouched||_e(s.touchedFields,S),P.keepDirty||(_e(s.dirtyFields,S),s.isDirty=P.defaultValue?k(S,Oe(G(i,S))):k()),P.keepError||(_e(s.errors,S),d.isValid&&j()),f.state.next({...s}))},th=(S,P={})=>{const A=S?Oe(S):i,B=Oe(A),F=nt(S),V=F?i:B;if(P.keepDefaultValues||(i=A),!P.keepValues){if(P.keepDirtyValues){const Y=new Set([...l.mount,...Object.keys(Fn(i,a))]);for(const ne of Array.from(Y))G(s.dirtyFields,ne)?he(V,ne,G(a,ne)):X(ne,G(V,ne))}else{if(jd&&je(S))for(const Y of l.mount){const ne=G(r,Y);if(ne&&ne._f){const oe=Array.isArray(ne._f.refs)?ne._f.refs[0]:ne._f.ref;if(mo(oe)){const St=oe.closest("form");if(St){St.reset();break}}}}for(const Y of l.mount){const ne=G(V,Y,G(i,Y));je(ne)||(he(V,Y,ne),X(Y,G(V,Y)))}}a=Oe(V),f.array.next({values:{...V}}),f.state.next({values:{...V}})}l={mount:P.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!d.isValid||!!P.keepIsValid||!!P.keepDirtyValues,o.watch=!!t.shouldUnregister,f.state.next({submitCount:P.keepSubmitCount?s.submitCount:0,isDirty:F?!1:P.keepDirty?s.isDirty:!!(P.keepDefaultValues&&!Is(S,i)),isSubmitted:P.keepIsSubmitted?s.isSubmitted:!1,dirtyFields:F?{}:P.keepDirtyValues?P.keepDefaultValues&&a?Fn(i,a):s.dirtyFields:P.keepDefaultValues&&S?Fn(i,S):P.keepDirty?s.dirtyFields:{},touchedFields:P.keepTouched?s.touchedFields:{},errors:P.keepErrors?s.errors:{},isSubmitSuccessful:P.keepIsSubmitSuccessful?s.isSubmitSuccessful:!1,isSubmitting:!1})},sh=(S,P)=>th(Bt(S)?S(a):S,P),vy=(S,P={})=>{const A=G(r,S),B=A&&A._f;if(B){const F=B.refs?B.refs[0]:B.ref;F.focus&&(F.focus(),P.shouldSelect&&Bt(F.select)&&F.select())}},wy=S=>{s={...s,...S}},rh={control:{register:Ie,unregister:st,getFieldState:U,handleSubmit:ll,setError:ft,_subscribe:Lt,_runSchema:T,_focusError:we,_getWatch:O,_getDirty:k,_setValid:j,_setFieldArray:g,_setDisabledField:Ir,_setErrors:p,_getFieldArray:L,_reset:th,_resetDefaultValues:()=>Bt(t.defaultValues)&&t.defaultValues().then(S=>{sh(S,t.resetOptions),f.state.next({isLoading:!1})}),_removeUnmounted:z,_disableForm:ss,_subjects:f,_proxyFormState:d,get _fields(){return r},get _formValues(){return a},get _state(){return o},set _state(S){o=S},get _defaultValues(){return i},get _names(){return l},set _names(S){l=S},get _formState(){return s},get _options(){return t},set _options(S){t={...t,...S}}},subscribe:Ae,trigger:M,register:Ie,handleSubmit:ll,watch:Me,setValue:X,getValues:H,reset:sh,resetField:yy,clearErrors:ie,unregister:st,setError:ft,setFocus:vy,getFieldState:U};return{...rh,formControl:rh}}function Cd(e={}){const t=mt.useRef(void 0),s=mt.useRef(void 0),[r,i]=mt.useState({isDirty:!1,isValidating:!1,isLoading:Bt(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:Bt(e.defaultValues)?void 0:e.defaultValues});if(!t.current)if(e.formControl)t.current={...e.formControl,formState:r},e.defaultValues&&!Bt(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:o,...l}=V1(e);t.current={...l,formState:r}}const a=t.current.control;return a._options=e,N1(()=>{const o=a._subscribe({formState:a._proxyFormState,callback:()=>i({...a._formState}),reRenderRoot:!0});return i(l=>({...l,isReady:!0})),a._formState.isReady=!0,o},[a]),mt.useEffect(()=>a._disableForm(e.disabled),[a,e.disabled]),mt.useEffect(()=>{e.mode&&(a._options.mode=e.mode),e.reValidateMode&&(a._options.reValidateMode=e.reValidateMode)},[a,e.mode,e.reValidateMode]),mt.useEffect(()=>{e.errors&&(a._setErrors(e.errors),a._focusError())},[a,e.errors]),mt.useEffect(()=>{e.shouldUnregister&&a._subjects.state.next({values:a._getWatch()})},[a,e.shouldUnregister]),mt.useEffect(()=>{if(a._proxyFormState.isDirty){const o=a._getDirty();o!==r.isDirty&&a._subjects.state.next({isDirty:o})}},[a,r.isDirty]),mt.useEffect(()=>{e.values&&!Is(e.values,s.current)?(a._reset(e.values,a._options.resetOptions),s.current=e.values,i(o=>({...o}))):a._resetDefaultValues()},[a,e.values]),mt.useEffect(()=>{a._state.mount||(a._setValid(),a._state.mount=!0),a._state.watch&&(a._state.watch=!1,a._subjects.state.next({...a._formState})),a._removeUnmounted()}),t.current.formState=j1(r,a),t.current}/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var $1={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F1=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),K=(e,t)=>{const s=N.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:a=2,absoluteStrokeWidth:o,className:l="",children:c,...u},d)=>N.createElement("svg",{ref:d,...$1,width:i,height:i,stroke:r,strokeWidth:o?Number(a)*24/Number(i):a,className:["lucide",`lucide-${F1(e)}`,l].join(" "),...u},[...t.map(([h,f])=>N.createElement(h,f)),...Array.isArray(c)?c:[c]]));return s.displayName=`${e}`,s};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hl=K("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Td=K("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nn=K("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U1=K("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hf=K("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gi=K("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iu=K("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sn=K("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qf=K("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xo=K("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B1=K("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z1=K("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const We=K("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zg=K("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vs=K("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yo=K("CheckSquare",[["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}],["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11",key:"1jnkn4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ke=K("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wf=K("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const au=K("Crown",[["path",{d:"m2 4 3 12h14l3-12-6 7-4-7-4 7-6-7zm3 16h14",key:"zkxr6b"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tr=K("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vo=K("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ou=K("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ws=K("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pe=K("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H1=K("File",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zo=K("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hg=K("Flag",[["path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z",key:"i9b6wo"}],["line",{x1:"4",x2:"4",y1:"22",y2:"15",key:"1cm3nv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q1=K("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W1=K("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K1=K("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const di=K("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mi=K("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G1=K("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Js=K("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pd=K("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wt=K("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y1=K("MicOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M18.89 13.23A7.12 7.12 0 0 0 19 12v-2",key:"80xlxr"}],["path",{d:"M5 10v2a7 7 0 0 0 12 5",key:"p2k8kg"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kf=K("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q1=K("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qg=K("MoreVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J1=K("PhoneOff",[["path",{d:"M10.68 13.31a16 16 0 0 0 3.41 2.6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7 2 2 0 0 1 1.72 2v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.42 19.42 0 0 1-3.33-2.67m-2.67-3.34a19.79 19.79 0 0 1-3.07-8.63A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91",key:"z86iuo"}],["line",{x1:"22",x2:"2",y1:"2",y2:"22",key:"11kh81"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const br=K("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const us=K("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z1=K("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xo=K("Scale",[["path",{d:"m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"7g6ntu"}],["path",{d:"m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"ijws7r"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"M3 7h2c2 0 5-1 7-2 2 1 5 2 7 2h2",key:"3gwbw2"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dr=K("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lu=K("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ed=K("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yt=K("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X1=K("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e2=K("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t2=K("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s2=K("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wg=K("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r2=K("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bs=K("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ks=K("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mn=K("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dt=K("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const js=K("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n2=K("VideoOff",[["path",{d:"M10.66 6H14a2 2 0 0 1 2 2v2.34l1 1L22 8v8",key:"ubwiq0"}],["path",{d:"M16 16a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h2l10 10Z",key:"1l10zd"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jt=K("Video",[["path",{d:"m22 8-6 4 6 4V8Z",key:"50v9me"}],["rect",{width:"14",height:"12",x:"2",y:"6",rx:"2",ry:"2",key:"1rqjg6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ts=K("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hi=K("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),Kg=N.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),el=N.createContext({}),tl=N.createContext(null),sl=typeof document<"u",Ad=sl?N.useLayoutEffect:N.useEffect,Gg=N.createContext({strict:!1}),Dd=e=>e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),i2="framerAppearId",Yg="data-"+Dd(i2);function a2(e,t,s,r){const{visualElement:i}=N.useContext(el),a=N.useContext(Gg),o=N.useContext(tl),l=N.useContext(Kg).reducedMotion,c=N.useRef();r=r||a.renderer,!c.current&&r&&(c.current=r(e,{visualState:t,parent:i,props:s,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:l}));const u=c.current;N.useInsertionEffect(()=>{u&&u.update(s,o)});const d=N.useRef(!!(s[Yg]&&!window.HandoffComplete));return Ad(()=>{u&&(u.render(),d.current&&u.animationState&&u.animationState.animateChanges())}),N.useEffect(()=>{u&&(u.updateFeatures(),!d.current&&u.animationState&&u.animationState.animateChanges(),d.current&&(d.current=!1,window.HandoffComplete=!0))}),u}function rn(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function o2(e,t,s){return N.useCallback(r=>{r&&e.mount&&e.mount(r),t&&(r?t.mount(r):t.unmount()),s&&(typeof s=="function"?s(r):rn(s)&&(s.current=r))},[t])}function Ii(e){return typeof e=="string"||Array.isArray(e)}function rl(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const Rd=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Ld=["initial",...Rd];function nl(e){return rl(e.animate)||Ld.some(t=>Ii(e[t]))}function Qg(e){return!!(nl(e)||e.variants)}function l2(e,t){if(nl(e)){const{initial:s,animate:r}=e;return{initial:s===!1||Ii(s)?s:void 0,animate:Ii(r)?r:void 0}}return e.inherit!==!1?t:{}}function c2(e){const{initial:t,animate:s}=l2(e,N.useContext(el));return N.useMemo(()=>({initial:t,animate:s}),[Gf(t),Gf(s)])}function Gf(e){return Array.isArray(e)?e.join(" "):e}const Yf={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Oi={};for(const e in Yf)Oi[e]={isEnabled:t=>Yf[e].some(s=>!!t[s])};function u2(e){for(const t in e)Oi[t]={...Oi[t],...e[t]}}const Md=N.createContext({}),Jg=N.createContext({}),d2=Symbol.for("motionComponentSymbol");function h2({preloadedFeatures:e,createVisualElement:t,useRender:s,useVisualState:r,Component:i}){e&&u2(e);function a(l,c){let u;const d={...N.useContext(Kg),...l,layoutId:f2(l)},{isStatic:h}=d,f=c2(l),x=r(l,h);if(!h&&sl){f.visualElement=a2(i,x,d,t);const y=N.useContext(Jg),j=N.useContext(Gg).strict;f.visualElement&&(u=f.visualElement.loadFeatures(d,j,e,y))}return N.createElement(el.Provider,{value:f},u&&f.visualElement?N.createElement(u,{visualElement:f.visualElement,...d}):null,s(i,l,o2(x,f.visualElement,c),x,h,f.visualElement))}const o=N.forwardRef(a);return o[d2]=i,o}function f2({layoutId:e}){const t=N.useContext(Md).id;return t&&e!==void 0?t+"-"+e:e}function m2(e){function t(r,i={}){return h2(e(r,i))}if(typeof Proxy>"u")return t;const s=new Map;return new Proxy(t,{get:(r,i)=>(s.has(i)||s.set(i,t(i)),s.get(i))})}const p2=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Id(e){return typeof e!="string"||e.includes("-")?!1:!!(p2.indexOf(e)>-1||/[A-Z]/.test(e))}const wo={};function g2(e){Object.assign(wo,e)}const Yi=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Rr=new Set(Yi);function Zg(e,{layout:t,layoutId:s}){return Rr.has(e)||e.startsWith("origin")||(t||s!==void 0)&&(!!wo[e]||e==="opacity")}const ht=e=>!!(e&&e.getVelocity),x2={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},y2=Yi.length;function v2(e,{enableHardwareAcceleration:t=!0,allowTransformNone:s=!0},r,i){let a="";for(let o=0;o<y2;o++){const l=Yi[o];if(e[l]!==void 0){const c=x2[l]||l;a+=`${c}(${e[l]}) `}}return t&&!e.z&&(a+="translateZ(0)"),a=a.trim(),i?a=i(e,r?"":a):s&&r&&(a="none"),a}const Xg=e=>t=>typeof t=="string"&&t.startsWith(e),ex=Xg("--"),cu=Xg("var(--"),w2=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,b2=(e,t)=>t&&typeof e=="number"?t.transform(e):e,Zs=(e,t,s)=>Math.min(Math.max(s,e),t),Lr={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},fi={...Lr,transform:e=>Zs(0,1,e)},ja={...Lr,default:1},mi=e=>Math.round(e*1e5)/1e5,il=/(-)?([\d]*\.?[\d])+/g,tx=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,j2=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function Qi(e){return typeof e=="string"}const Ji=e=>({test:t=>Qi(t)&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Ts=Ji("deg"),es=Ji("%"),Q=Ji("px"),N2=Ji("vh"),S2=Ji("vw"),Qf={...es,parse:e=>es.parse(e)/100,transform:e=>es.transform(e*100)},Jf={...Lr,transform:Math.round},sx={borderWidth:Q,borderTopWidth:Q,borderRightWidth:Q,borderBottomWidth:Q,borderLeftWidth:Q,borderRadius:Q,radius:Q,borderTopLeftRadius:Q,borderTopRightRadius:Q,borderBottomRightRadius:Q,borderBottomLeftRadius:Q,width:Q,maxWidth:Q,height:Q,maxHeight:Q,size:Q,top:Q,right:Q,bottom:Q,left:Q,padding:Q,paddingTop:Q,paddingRight:Q,paddingBottom:Q,paddingLeft:Q,margin:Q,marginTop:Q,marginRight:Q,marginBottom:Q,marginLeft:Q,rotate:Ts,rotateX:Ts,rotateY:Ts,rotateZ:Ts,scale:ja,scaleX:ja,scaleY:ja,scaleZ:ja,skew:Ts,skewX:Ts,skewY:Ts,distance:Q,translateX:Q,translateY:Q,translateZ:Q,x:Q,y:Q,z:Q,perspective:Q,transformPerspective:Q,opacity:fi,originX:Qf,originY:Qf,originZ:Q,zIndex:Jf,fillOpacity:fi,strokeOpacity:fi,numOctaves:Jf};function Od(e,t,s,r){const{style:i,vars:a,transform:o,transformOrigin:l}=e;let c=!1,u=!1,d=!0;for(const h in t){const f=t[h];if(ex(h)){a[h]=f;continue}const x=sx[h],y=b2(f,x);if(Rr.has(h)){if(c=!0,o[h]=y,!d)continue;f!==(x.default||0)&&(d=!1)}else h.startsWith("origin")?(u=!0,l[h]=y):i[h]=y}if(t.transform||(c||r?i.transform=v2(e.transform,s,d,r):i.transform&&(i.transform="none")),u){const{originX:h="50%",originY:f="50%",originZ:x=0}=l;i.transformOrigin=`${h} ${f} ${x}`}}const Vd=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function rx(e,t,s){for(const r in t)!ht(t[r])&&!Zg(r,s)&&(e[r]=t[r])}function k2({transformTemplate:e},t,s){return N.useMemo(()=>{const r=Vd();return Od(r,t,{enableHardwareAcceleration:!s},e),Object.assign({},r.vars,r.style)},[t])}function _2(e,t,s){const r=e.style||{},i={};return rx(i,r,e),Object.assign(i,k2(e,t,s)),e.transformValues?e.transformValues(i):i}function C2(e,t,s){const r={},i=_2(e,t,s);return e.drag&&e.dragListener!==!1&&(r.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=i,r}const T2=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function bo(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||T2.has(e)}let nx=e=>!bo(e);function P2(e){e&&(nx=t=>t.startsWith("on")?!bo(t):e(t))}try{P2(require("@emotion/is-prop-valid").default)}catch{}function E2(e,t,s){const r={};for(const i in e)i==="values"&&typeof e.values=="object"||(nx(i)||s===!0&&bo(i)||!t&&!bo(i)||e.draggable&&i.startsWith("onDrag"))&&(r[i]=e[i]);return r}function Zf(e,t,s){return typeof e=="string"?e:Q.transform(t+s*e)}function A2(e,t,s){const r=Zf(t,e.x,e.width),i=Zf(s,e.y,e.height);return`${r} ${i}`}const D2={offset:"stroke-dashoffset",array:"stroke-dasharray"},R2={offset:"strokeDashoffset",array:"strokeDasharray"};function L2(e,t,s=1,r=0,i=!0){e.pathLength=1;const a=i?D2:R2;e[a.offset]=Q.transform(-r);const o=Q.transform(t),l=Q.transform(s);e[a.array]=`${o} ${l}`}function $d(e,{attrX:t,attrY:s,attrScale:r,originX:i,originY:a,pathLength:o,pathSpacing:l=1,pathOffset:c=0,...u},d,h,f){if(Od(e,u,d,f),h){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:x,style:y,dimensions:j}=e;x.transform&&(j&&(y.transform=x.transform),delete x.transform),j&&(i!==void 0||a!==void 0||y.transform)&&(y.transformOrigin=A2(j,i!==void 0?i:.5,a!==void 0?a:.5)),t!==void 0&&(x.x=t),s!==void 0&&(x.y=s),r!==void 0&&(x.scale=r),o!==void 0&&L2(x,o,l,c,!1)}const ix=()=>({...Vd(),attrs:{}}),Fd=e=>typeof e=="string"&&e.toLowerCase()==="svg";function M2(e,t,s,r){const i=N.useMemo(()=>{const a=ix();return $d(a,t,{enableHardwareAcceleration:!1},Fd(r),e.transformTemplate),{...a.attrs,style:{...a.style}}},[t]);if(e.style){const a={};rx(a,e.style,e),i.style={...a,...i.style}}return i}function I2(e=!1){return(s,r,i,{latestValues:a},o)=>{const c=(Id(s)?M2:C2)(r,a,o,s),d={...E2(r,typeof s=="string",e),...c,ref:i},{children:h}=r,f=N.useMemo(()=>ht(h)?h.get():h,[h]);return N.createElement(s,{...d,children:f})}}function ax(e,{style:t,vars:s},r,i){Object.assign(e.style,t,i&&i.getProjectionStyles(r));for(const a in s)e.style.setProperty(a,s[a])}const ox=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function lx(e,t,s,r){ax(e,t,void 0,r);for(const i in t.attrs)e.setAttribute(ox.has(i)?i:Dd(i),t.attrs[i])}function Ud(e,t){const{style:s}=e,r={};for(const i in s)(ht(s[i])||t.style&&ht(t.style[i])||Zg(i,e))&&(r[i]=s[i]);return r}function cx(e,t){const s=Ud(e,t);for(const r in e)if(ht(e[r])||ht(t[r])){const i=Yi.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;s[i]=e[r]}return s}function Bd(e,t,s,r={},i={}){return typeof t=="function"&&(t=t(s!==void 0?s:e.custom,r,i)),typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"&&(t=t(s!==void 0?s:e.custom,r,i)),t}function ux(e){const t=N.useRef(null);return t.current===null&&(t.current=e()),t.current}const jo=e=>Array.isArray(e),O2=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),V2=e=>jo(e)?e[e.length-1]||0:e;function $a(e){const t=ht(e)?e.get():e;return O2(t)?t.toValue():t}function $2({scrapeMotionValuesFromProps:e,createRenderState:t,onMount:s},r,i,a){const o={latestValues:F2(r,i,a,e),renderState:t()};return s&&(o.mount=l=>s(r,l,o)),o}const dx=e=>(t,s)=>{const r=N.useContext(el),i=N.useContext(tl),a=()=>$2(e,t,r,i);return s?a():ux(a)};function F2(e,t,s,r){const i={},a=r(e,{});for(const f in a)i[f]=$a(a[f]);let{initial:o,animate:l}=e;const c=nl(e),u=Qg(e);t&&u&&!c&&e.inherit!==!1&&(o===void 0&&(o=t.initial),l===void 0&&(l=t.animate));let d=s?s.initial===!1:!1;d=d||o===!1;const h=d?l:o;return h&&typeof h!="boolean"&&!rl(h)&&(Array.isArray(h)?h:[h]).forEach(x=>{const y=Bd(e,x);if(!y)return;const{transitionEnd:j,transition:w,...g}=y;for(const m in g){let p=g[m];if(Array.isArray(p)){const v=d?p.length-1:0;p=p[v]}p!==null&&(i[m]=p)}for(const m in j)i[m]=j[m]}),i}const Se=e=>e;class Xf{constructor(){this.order=[],this.scheduled=new Set}add(t){if(!this.scheduled.has(t))return this.scheduled.add(t),this.order.push(t),!0}remove(t){const s=this.order.indexOf(t);s!==-1&&(this.order.splice(s,1),this.scheduled.delete(t))}clear(){this.order.length=0,this.scheduled.clear()}}function U2(e){let t=new Xf,s=new Xf,r=0,i=!1,a=!1;const o=new WeakSet,l={schedule:(c,u=!1,d=!1)=>{const h=d&&i,f=h?t:s;return u&&o.add(c),f.add(c)&&h&&i&&(r=t.order.length),c},cancel:c=>{s.remove(c),o.delete(c)},process:c=>{if(i){a=!0;return}if(i=!0,[t,s]=[s,t],s.clear(),r=t.order.length,r)for(let u=0;u<r;u++){const d=t.order[u];d(c),o.has(d)&&(l.schedule(d),e())}i=!1,a&&(a=!1,l.process(c))}};return l}const Na=["prepare","read","update","preRender","render","postRender"],B2=40;function z2(e,t){let s=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},a=Na.reduce((h,f)=>(h[f]=U2(()=>s=!0),h),{}),o=h=>a[h].process(i),l=()=>{const h=performance.now();s=!1,i.delta=r?1e3/60:Math.max(Math.min(h-i.timestamp,B2),1),i.timestamp=h,i.isProcessing=!0,Na.forEach(o),i.isProcessing=!1,s&&t&&(r=!1,e(l))},c=()=>{s=!0,r=!0,i.isProcessing||e(l)};return{schedule:Na.reduce((h,f)=>{const x=a[f];return h[f]=(y,j=!1,w=!1)=>(s||c(),x.schedule(y,j,w)),h},{}),cancel:h=>Na.forEach(f=>a[f].cancel(h)),state:i,steps:a}}const{schedule:ue,cancel:Ns,state:He,steps:ql}=z2(typeof requestAnimationFrame<"u"?requestAnimationFrame:Se,!0),H2={useVisualState:dx({scrapeMotionValuesFromProps:cx,createRenderState:ix,onMount:(e,t,{renderState:s,latestValues:r})=>{ue.read(()=>{try{s.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{s.dimensions={x:0,y:0,width:0,height:0}}}),ue.render(()=>{$d(s,r,{enableHardwareAcceleration:!1},Fd(t.tagName),e.transformTemplate),lx(t,s)})}})},q2={useVisualState:dx({scrapeMotionValuesFromProps:Ud,createRenderState:Vd})};function W2(e,{forwardMotionProps:t=!1},s,r){return{...Id(e)?H2:q2,preloadedFeatures:s,useRender:I2(t),createVisualElement:r,Component:e}}function ds(e,t,s,r={passive:!0}){return e.addEventListener(t,s,r),()=>e.removeEventListener(t,s)}const hx=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1;function al(e,t="page"){return{point:{x:e[t+"X"],y:e[t+"Y"]}}}const K2=e=>t=>hx(t)&&e(t,al(t));function fs(e,t,s,r){return ds(e,t,K2(s),r)}const G2=(e,t)=>s=>t(e(s)),Gs=(...e)=>e.reduce(G2);function fx(e){let t=null;return()=>{const s=()=>{t=null};return t===null?(t=e,s):!1}}const em=fx("dragHorizontal"),tm=fx("dragVertical");function mx(e){let t=!1;if(e==="y")t=tm();else if(e==="x")t=em();else{const s=em(),r=tm();s&&r?t=()=>{s(),r()}:(s&&s(),r&&r())}return t}function px(){const e=mx(!0);return e?(e(),!1):!0}class nr{constructor(t){this.isMounted=!1,this.node=t}update(){}}function sm(e,t){const s="pointer"+(t?"enter":"leave"),r="onHover"+(t?"Start":"End"),i=(a,o)=>{if(a.pointerType==="touch"||px())return;const l=e.getProps();e.animationState&&l.whileHover&&e.animationState.setActive("whileHover",t),l[r]&&ue.update(()=>l[r](a,o))};return fs(e.current,s,i,{passive:!e.getProps()[r]})}class Y2 extends nr{mount(){this.unmount=Gs(sm(this.node,!0),sm(this.node,!1))}unmount(){}}class Q2 extends nr{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Gs(ds(this.node.current,"focus",()=>this.onFocus()),ds(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const gx=(e,t)=>t?e===t?!0:gx(e,t.parentElement):!1;function Wl(e,t){if(!t)return;const s=new PointerEvent("pointer"+e);t(s,al(s))}class J2 extends nr{constructor(){super(...arguments),this.removeStartListeners=Se,this.removeEndListeners=Se,this.removeAccessibleListeners=Se,this.startPointerPress=(t,s)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),a=fs(window,"pointerup",(l,c)=>{if(!this.checkPressEnd())return;const{onTap:u,onTapCancel:d,globalTapTarget:h}=this.node.getProps();ue.update(()=>{!h&&!gx(this.node.current,l.target)?d&&d(l,c):u&&u(l,c)})},{passive:!(r.onTap||r.onPointerUp)}),o=fs(window,"pointercancel",(l,c)=>this.cancelPress(l,c),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=Gs(a,o),this.startPress(t,s)},this.startAccessiblePress=()=>{const t=a=>{if(a.key!=="Enter"||this.isPressing)return;const o=l=>{l.key!=="Enter"||!this.checkPressEnd()||Wl("up",(c,u)=>{const{onTap:d}=this.node.getProps();d&&ue.update(()=>d(c,u))})};this.removeEndListeners(),this.removeEndListeners=ds(this.node.current,"keyup",o),Wl("down",(l,c)=>{this.startPress(l,c)})},s=ds(this.node.current,"keydown",t),r=()=>{this.isPressing&&Wl("cancel",(a,o)=>this.cancelPress(a,o))},i=ds(this.node.current,"blur",r);this.removeAccessibleListeners=Gs(s,i)}}startPress(t,s){this.isPressing=!0;const{onTapStart:r,whileTap:i}=this.node.getProps();i&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&ue.update(()=>r(t,s))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!px()}cancelPress(t,s){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&ue.update(()=>r(t,s))}mount(){const t=this.node.getProps(),s=fs(t.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(t.onTapStart||t.onPointerStart)}),r=ds(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=Gs(s,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const uu=new WeakMap,Kl=new WeakMap,Z2=e=>{const t=uu.get(e.target);t&&t(e)},X2=e=>{e.forEach(Z2)};function eN({root:e,...t}){const s=e||document;Kl.has(s)||Kl.set(s,{});const r=Kl.get(s),i=JSON.stringify(t);return r[i]||(r[i]=new IntersectionObserver(X2,{root:e,...t})),r[i]}function tN(e,t,s){const r=eN(t);return uu.set(e,s),r.observe(e),()=>{uu.delete(e),r.unobserve(e)}}const sN={some:0,all:1};class rN extends nr{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:s,margin:r,amount:i="some",once:a}=t,o={root:s?s.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:sN[i]},l=c=>{const{isIntersecting:u}=c;if(this.isInView===u||(this.isInView=u,a&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:h}=this.node.getProps(),f=u?d:h;f&&f(c)};return tN(this.node.current,o,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:s}=this.node;["amount","margin","root"].some(nN(t,s))&&this.startObserver()}unmount(){}}function nN({viewport:e={}},{viewport:t={}}={}){return s=>e[s]!==t[s]}const iN={inView:{Feature:rN},tap:{Feature:J2},focus:{Feature:Q2},hover:{Feature:Y2}};function xx(e,t){if(!Array.isArray(t))return!1;const s=t.length;if(s!==e.length)return!1;for(let r=0;r<s;r++)if(t[r]!==e[r])return!1;return!0}function aN(e){const t={};return e.values.forEach((s,r)=>t[r]=s.get()),t}function oN(e){const t={};return e.values.forEach((s,r)=>t[r]=s.getVelocity()),t}function ol(e,t,s){const r=e.getProps();return Bd(r,t,s!==void 0?s:r.custom,aN(e),oN(e))}let zd=Se;const jr=e=>e*1e3,ms=e=>e/1e3,lN={current:!1},yx=e=>Array.isArray(e)&&typeof e[0]=="number";function vx(e){return!!(!e||typeof e=="string"&&wx[e]||yx(e)||Array.isArray(e)&&e.every(vx))}const Yn=([e,t,s,r])=>`cubic-bezier(${e}, ${t}, ${s}, ${r})`,wx={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Yn([0,.65,.55,1]),circOut:Yn([.55,0,1,.45]),backIn:Yn([.31,.01,.66,-.59]),backOut:Yn([.33,1.53,.69,.99])};function bx(e){if(e)return yx(e)?Yn(e):Array.isArray(e)?e.map(bx):wx[e]}function cN(e,t,s,{delay:r=0,duration:i,repeat:a=0,repeatType:o="loop",ease:l,times:c}={}){const u={[t]:s};c&&(u.offset=c);const d=bx(l);return Array.isArray(d)&&(u.easing=d),e.animate(u,{delay:r,duration:i,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:a+1,direction:o==="reverse"?"alternate":"normal"})}function uN(e,{repeat:t,repeatType:s="loop"}){const r=t&&s!=="loop"&&t%2===1?0:e.length-1;return e[r]}const jx=(e,t,s)=>(((1-3*s+3*t)*e+(3*s-6*t))*e+3*t)*e,dN=1e-7,hN=12;function fN(e,t,s,r,i){let a,o,l=0;do o=t+(s-t)/2,a=jx(o,r,i)-e,a>0?s=o:t=o;while(Math.abs(a)>dN&&++l<hN);return o}function Zi(e,t,s,r){if(e===t&&s===r)return Se;const i=a=>fN(a,0,1,e,s);return a=>a===0||a===1?a:jx(i(a),t,r)}const mN=Zi(.42,0,1,1),pN=Zi(0,0,.58,1),Nx=Zi(.42,0,.58,1),gN=e=>Array.isArray(e)&&typeof e[0]!="number",Sx=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,kx=e=>t=>1-e(1-t),Hd=e=>1-Math.sin(Math.acos(e)),_x=kx(Hd),xN=Sx(Hd),Cx=Zi(.33,1.53,.69,.99),qd=kx(Cx),yN=Sx(qd),vN=e=>(e*=2)<1?.5*qd(e):.5*(2-Math.pow(2,-10*(e-1))),wN={linear:Se,easeIn:mN,easeInOut:Nx,easeOut:pN,circIn:Hd,circInOut:xN,circOut:_x,backIn:qd,backInOut:yN,backOut:Cx,anticipate:vN},rm=e=>{if(Array.isArray(e)){zd(e.length===4);const[t,s,r,i]=e;return Zi(t,s,r,i)}else if(typeof e=="string")return wN[e];return e},Wd=(e,t)=>s=>!!(Qi(s)&&j2.test(s)&&s.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(s,t)),Tx=(e,t,s)=>r=>{if(!Qi(r))return r;const[i,a,o,l]=r.match(il);return{[e]:parseFloat(i),[t]:parseFloat(a),[s]:parseFloat(o),alpha:l!==void 0?parseFloat(l):1}},bN=e=>Zs(0,255,e),Gl={...Lr,transform:e=>Math.round(bN(e))},yr={test:Wd("rgb","red"),parse:Tx("red","green","blue"),transform:({red:e,green:t,blue:s,alpha:r=1})=>"rgba("+Gl.transform(e)+", "+Gl.transform(t)+", "+Gl.transform(s)+", "+mi(fi.transform(r))+")"};function jN(e){let t="",s="",r="",i="";return e.length>5?(t=e.substring(1,3),s=e.substring(3,5),r=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),s=e.substring(2,3),r=e.substring(3,4),i=e.substring(4,5),t+=t,s+=s,r+=r,i+=i),{red:parseInt(t,16),green:parseInt(s,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const du={test:Wd("#"),parse:jN,transform:yr.transform},nn={test:Wd("hsl","hue"),parse:Tx("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:s,alpha:r=1})=>"hsla("+Math.round(e)+", "+es.transform(mi(t))+", "+es.transform(mi(s))+", "+mi(fi.transform(r))+")"},Ye={test:e=>yr.test(e)||du.test(e)||nn.test(e),parse:e=>yr.test(e)?yr.parse(e):nn.test(e)?nn.parse(e):du.parse(e),transform:e=>Qi(e)?e:e.hasOwnProperty("red")?yr.transform(e):nn.transform(e)},xe=(e,t,s)=>-s*e+s*t+e;function Yl(e,t,s){return s<0&&(s+=1),s>1&&(s-=1),s<1/6?e+(t-e)*6*s:s<1/2?t:s<2/3?e+(t-e)*(2/3-s)*6:e}function NN({hue:e,saturation:t,lightness:s,alpha:r}){e/=360,t/=100,s/=100;let i=0,a=0,o=0;if(!t)i=a=o=s;else{const l=s<.5?s*(1+t):s+t-s*t,c=2*s-l;i=Yl(c,l,e+1/3),a=Yl(c,l,e),o=Yl(c,l,e-1/3)}return{red:Math.round(i*255),green:Math.round(a*255),blue:Math.round(o*255),alpha:r}}const Ql=(e,t,s)=>{const r=e*e;return Math.sqrt(Math.max(0,s*(t*t-r)+r))},SN=[du,yr,nn],kN=e=>SN.find(t=>t.test(e));function nm(e){const t=kN(e);let s=t.parse(e);return t===nn&&(s=NN(s)),s}const Px=(e,t)=>{const s=nm(e),r=nm(t),i={...s};return a=>(i.red=Ql(s.red,r.red,a),i.green=Ql(s.green,r.green,a),i.blue=Ql(s.blue,r.blue,a),i.alpha=xe(s.alpha,r.alpha,a),yr.transform(i))};function _N(e){var t,s;return isNaN(e)&&Qi(e)&&(((t=e.match(il))===null||t===void 0?void 0:t.length)||0)+(((s=e.match(tx))===null||s===void 0?void 0:s.length)||0)>0}const Ex={regex:w2,countKey:"Vars",token:"${v}",parse:Se},Ax={regex:tx,countKey:"Colors",token:"${c}",parse:Ye.parse},Dx={regex:il,countKey:"Numbers",token:"${n}",parse:Lr.parse};function Jl(e,{regex:t,countKey:s,token:r,parse:i}){const a=e.tokenised.match(t);a&&(e["num"+s]=a.length,e.tokenised=e.tokenised.replace(t,r),e.values.push(...a.map(i)))}function No(e){const t=e.toString(),s={value:t,tokenised:t,values:[],numVars:0,numColors:0,numNumbers:0};return s.value.includes("var(--")&&Jl(s,Ex),Jl(s,Ax),Jl(s,Dx),s}function Rx(e){return No(e).values}function Lx(e){const{values:t,numColors:s,numVars:r,tokenised:i}=No(e),a=t.length;return o=>{let l=i;for(let c=0;c<a;c++)c<r?l=l.replace(Ex.token,o[c]):c<r+s?l=l.replace(Ax.token,Ye.transform(o[c])):l=l.replace(Dx.token,mi(o[c]));return l}}const CN=e=>typeof e=="number"?0:e;function TN(e){const t=Rx(e);return Lx(e)(t.map(CN))}const Xs={test:_N,parse:Rx,createTransformer:Lx,getAnimatableNone:TN},Mx=(e,t)=>s=>`${s>0?t:e}`;function Ix(e,t){return typeof e=="number"?s=>xe(e,t,s):Ye.test(e)?Px(e,t):e.startsWith("var(")?Mx(e,t):Vx(e,t)}const Ox=(e,t)=>{const s=[...e],r=s.length,i=e.map((a,o)=>Ix(a,t[o]));return a=>{for(let o=0;o<r;o++)s[o]=i[o](a);return s}},PN=(e,t)=>{const s={...e,...t},r={};for(const i in s)e[i]!==void 0&&t[i]!==void 0&&(r[i]=Ix(e[i],t[i]));return i=>{for(const a in r)s[a]=r[a](i);return s}},Vx=(e,t)=>{const s=Xs.createTransformer(t),r=No(e),i=No(t);return r.numVars===i.numVars&&r.numColors===i.numColors&&r.numNumbers>=i.numNumbers?Gs(Ox(r.values,i.values),s):Mx(e,t)},Vi=(e,t,s)=>{const r=t-e;return r===0?1:(s-e)/r},im=(e,t)=>s=>xe(e,t,s);function EN(e){return typeof e=="number"?im:typeof e=="string"?Ye.test(e)?Px:Vx:Array.isArray(e)?Ox:typeof e=="object"?PN:im}function AN(e,t,s){const r=[],i=s||EN(e[0]),a=e.length-1;for(let o=0;o<a;o++){let l=i(e[o],e[o+1]);if(t){const c=Array.isArray(t)?t[o]||Se:t;l=Gs(c,l)}r.push(l)}return r}function $x(e,t,{clamp:s=!0,ease:r,mixer:i}={}){const a=e.length;if(zd(a===t.length),a===1)return()=>t[0];e[0]>e[a-1]&&(e=[...e].reverse(),t=[...t].reverse());const o=AN(t,r,i),l=o.length,c=u=>{let d=0;if(l>1)for(;d<e.length-2&&!(u<e[d+1]);d++);const h=Vi(e[d],e[d+1],u);return o[d](h)};return s?u=>c(Zs(e[0],e[a-1],u)):c}function DN(e,t){const s=e[e.length-1];for(let r=1;r<=t;r++){const i=Vi(0,t,r);e.push(xe(s,1,i))}}function RN(e){const t=[0];return DN(t,e.length-1),t}function LN(e,t){return e.map(s=>s*t)}function MN(e,t){return e.map(()=>t||Nx).splice(0,e.length-1)}function So({duration:e=300,keyframes:t,times:s,ease:r="easeInOut"}){const i=gN(r)?r.map(rm):rm(r),a={done:!1,value:t[0]},o=LN(s&&s.length===t.length?s:RN(t),e),l=$x(o,t,{ease:Array.isArray(i)?i:MN(t,i)});return{calculatedDuration:e,next:c=>(a.value=l(c),a.done=c>=e,a)}}function Fx(e,t){return t?e*(1e3/t):0}const IN=5;function Ux(e,t,s){const r=Math.max(t-IN,0);return Fx(s-e(r),t-r)}const Zl=.001,ON=.01,VN=10,$N=.05,FN=1;function UN({duration:e=800,bounce:t=.25,velocity:s=0,mass:r=1}){let i,a,o=1-t;o=Zs($N,FN,o),e=Zs(ON,VN,ms(e)),o<1?(i=u=>{const d=u*o,h=d*e,f=d-s,x=hu(u,o),y=Math.exp(-h);return Zl-f/x*y},a=u=>{const h=u*o*e,f=h*s+s,x=Math.pow(o,2)*Math.pow(u,2)*e,y=Math.exp(-h),j=hu(Math.pow(u,2),o);return(-i(u)+Zl>0?-1:1)*((f-x)*y)/j}):(i=u=>{const d=Math.exp(-u*e),h=(u-s)*e+1;return-Zl+d*h},a=u=>{const d=Math.exp(-u*e),h=(s-u)*(e*e);return d*h});const l=5/e,c=zN(i,a,l);if(e=jr(e),isNaN(c))return{stiffness:100,damping:10,duration:e};{const u=Math.pow(c,2)*r;return{stiffness:u,damping:o*2*Math.sqrt(r*u),duration:e}}}const BN=12;function zN(e,t,s){let r=s;for(let i=1;i<BN;i++)r=r-e(r)/t(r);return r}function hu(e,t){return e*Math.sqrt(1-t*t)}const HN=["duration","bounce"],qN=["stiffness","damping","mass"];function am(e,t){return t.some(s=>e[s]!==void 0)}function WN(e){let t={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...e};if(!am(e,qN)&&am(e,HN)){const s=UN(e);t={...t,...s,mass:1},t.isResolvedFromDuration=!0}return t}function Bx({keyframes:e,restDelta:t,restSpeed:s,...r}){const i=e[0],a=e[e.length-1],o={done:!1,value:i},{stiffness:l,damping:c,mass:u,duration:d,velocity:h,isResolvedFromDuration:f}=WN({...r,velocity:-ms(r.velocity||0)}),x=h||0,y=c/(2*Math.sqrt(l*u)),j=a-i,w=ms(Math.sqrt(l/u)),g=Math.abs(j)<5;s||(s=g?.01:2),t||(t=g?.005:.5);let m;if(y<1){const p=hu(w,y);m=v=>{const b=Math.exp(-y*w*v);return a-b*((x+y*w*j)/p*Math.sin(p*v)+j*Math.cos(p*v))}}else if(y===1)m=p=>a-Math.exp(-w*p)*(j+(x+w*j)*p);else{const p=w*Math.sqrt(y*y-1);m=v=>{const b=Math.exp(-y*w*v),C=Math.min(p*v,300);return a-b*((x+y*w*j)*Math.sinh(C)+p*j*Math.cosh(C))/p}}return{calculatedDuration:f&&d||null,next:p=>{const v=m(p);if(f)o.done=p>=d;else{let b=x;p!==0&&(y<1?b=Ux(m,p,v):b=0);const C=Math.abs(b)<=s,T=Math.abs(a-v)<=t;o.done=C&&T}return o.value=o.done?a:v,o}}}function om({keyframes:e,velocity:t=0,power:s=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:a=500,modifyTarget:o,min:l,max:c,restDelta:u=.5,restSpeed:d}){const h=e[0],f={done:!1,value:h},x=D=>l!==void 0&&D<l||c!==void 0&&D>c,y=D=>l===void 0?c:c===void 0||Math.abs(l-D)<Math.abs(c-D)?l:c;let j=s*t;const w=h+j,g=o===void 0?w:o(w);g!==w&&(j=g-h);const m=D=>-j*Math.exp(-D/r),p=D=>g+m(D),v=D=>{const $=m(D),z=p(D);f.done=Math.abs($)<=u,f.value=f.done?g:z};let b,C;const T=D=>{x(f.value)&&(b=D,C=Bx({keyframes:[f.value,y(f.value)],velocity:Ux(p,D,f.value),damping:i,stiffness:a,restDelta:u,restSpeed:d}))};return T(0),{calculatedDuration:null,next:D=>{let $=!1;return!C&&b===void 0&&($=!0,v(D),T(D)),b!==void 0&&D>b?C.next(D-b):(!$&&v(D),f)}}}const KN=e=>{const t=({timestamp:s})=>e(s);return{start:()=>ue.update(t,!0),stop:()=>Ns(t),now:()=>He.isProcessing?He.timestamp:performance.now()}},lm=2e4;function cm(e){let t=0;const s=50;let r=e.next(t);for(;!r.done&&t<lm;)t+=s,r=e.next(t);return t>=lm?1/0:t}const GN={decay:om,inertia:om,tween:So,keyframes:So,spring:Bx};function ko({autoplay:e=!0,delay:t=0,driver:s=KN,keyframes:r,type:i="keyframes",repeat:a=0,repeatDelay:o=0,repeatType:l="loop",onPlay:c,onStop:u,onComplete:d,onUpdate:h,...f}){let x=1,y=!1,j,w;const g=()=>{w=new Promise(U=>{j=U})};g();let m;const p=GN[i]||So;let v;p!==So&&typeof r[0]!="number"&&(v=$x([0,100],r,{clamp:!1}),r=[0,100]);const b=p({...f,keyframes:r});let C;l==="mirror"&&(C=p({...f,keyframes:[...r].reverse(),velocity:-(f.velocity||0)}));let T="idle",D=null,$=null,z=null;b.calculatedDuration===null&&a&&(b.calculatedDuration=cm(b));const{calculatedDuration:k}=b;let O=1/0,L=1/0;k!==null&&(O=k+o,L=O*(a+1)-o);let W=0;const ee=U=>{if($===null)return;x>0&&($=Math.min($,U)),x<0&&($=Math.min(U-L/x,$)),D!==null?W=D:W=Math.round(U-$)*x;const ie=W-t*(x>=0?1:-1),ft=x>=0?ie<0:ie>L;W=Math.max(ie,0),T==="finished"&&D===null&&(W=L);let Me=W,Lt=b;if(a){const Ie=Math.min(W,L)/O;let we=Math.floor(Ie),ss=Ie%1;!ss&&Ie>=1&&(ss=1),ss===1&&we--,we=Math.min(we,a+1),!!(we%2)&&(l==="reverse"?(ss=1-ss,o&&(ss-=o/O)):l==="mirror"&&(Lt=C)),Me=Zs(0,1,ss)*O}const Ae=ft?{done:!1,value:r[0]}:Lt.next(Me);v&&(Ae.value=v(Ae.value));let{done:st}=Ae;!ft&&k!==null&&(st=x>=0?W>=L:W<=0);const Ir=D===null&&(T==="finished"||T==="running"&&st);return h&&h(Ae.value),Ir&&R(),Ae},X=()=>{m&&m.stop(),m=void 0},E=()=>{T="idle",X(),j(),g(),$=z=null},R=()=>{T="finished",d&&d(),X(),j()},M=()=>{if(y)return;m||(m=s(ee));const U=m.now();c&&c(),D!==null?$=U-D:(!$||T==="finished")&&($=U),T==="finished"&&g(),z=$,D=null,T="running",m.start()};e&&M();const H={then(U,ie){return w.then(U,ie)},get time(){return ms(W)},set time(U){U=jr(U),W=U,D!==null||!m||x===0?D=U:$=m.now()-U/x},get duration(){const U=b.calculatedDuration===null?cm(b):b.calculatedDuration;return ms(U)},get speed(){return x},set speed(U){U===x||!m||(x=U,H.time=ms(W))},get state(){return T},play:M,pause:()=>{T="paused",D=W},stop:()=>{y=!0,T!=="idle"&&(T="idle",u&&u(),E())},cancel:()=>{z!==null&&ee(z),E()},complete:()=>{T="finished"},sample:U=>($=0,ee(U))};return H}function YN(e){let t;return()=>(t===void 0&&(t=e()),t)}const QN=YN(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),JN=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),Sa=10,ZN=2e4,XN=(e,t)=>t.type==="spring"||e==="backgroundColor"||!vx(t.ease);function eS(e,t,{onUpdate:s,onComplete:r,...i}){if(!(QN()&&JN.has(t)&&!i.repeatDelay&&i.repeatType!=="mirror"&&i.damping!==0&&i.type!=="inertia"))return!1;let o=!1,l,c,u=!1;const d=()=>{c=new Promise(p=>{l=p})};d();let{keyframes:h,duration:f=300,ease:x,times:y}=i;if(XN(t,i)){const p=ko({...i,repeat:0,delay:0});let v={done:!1,value:h[0]};const b=[];let C=0;for(;!v.done&&C<ZN;)v=p.sample(C),b.push(v.value),C+=Sa;y=void 0,h=b,f=C-Sa,x="linear"}const j=cN(e.owner.current,t,h,{...i,duration:f,ease:x,times:y}),w=()=>{u=!1,j.cancel()},g=()=>{u=!0,ue.update(w),l(),d()};return j.onfinish=()=>{u||(e.set(uN(h,i)),r&&r(),g())},{then(p,v){return c.then(p,v)},attachTimeline(p){return j.timeline=p,j.onfinish=null,Se},get time(){return ms(j.currentTime||0)},set time(p){j.currentTime=jr(p)},get speed(){return j.playbackRate},set speed(p){j.playbackRate=p},get duration(){return ms(f)},play:()=>{o||(j.play(),Ns(w))},pause:()=>j.pause(),stop:()=>{if(o=!0,j.playState==="idle")return;const{currentTime:p}=j;if(p){const v=ko({...i,autoplay:!1});e.setWithVelocity(v.sample(p-Sa).value,v.sample(p).value,Sa)}g()},complete:()=>{u||j.finish()},cancel:g}}function tS({keyframes:e,delay:t,onUpdate:s,onComplete:r}){const i=()=>(s&&s(e[e.length-1]),r&&r(),{time:0,speed:1,duration:0,play:Se,pause:Se,stop:Se,then:a=>(a(),Promise.resolve()),cancel:Se,complete:Se});return t?ko({keyframes:[0,1],duration:0,delay:t,onComplete:i}):i()}const sS={type:"spring",stiffness:500,damping:25,restSpeed:10},rS=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),nS={type:"keyframes",duration:.8},iS={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},aS=(e,{keyframes:t})=>t.length>2?nS:Rr.has(e)?e.startsWith("scale")?rS(t[1]):sS:iS,fu=(e,t)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Xs.test(t)||t==="0")&&!t.startsWith("url(")),oS=new Set(["brightness","contrast","saturate","opacity"]);function lS(e){const[t,s]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=s.match(il)||[];if(!r)return e;const i=s.replace(r,"");let a=oS.has(t)?1:0;return r!==s&&(a*=100),t+"("+a+i+")"}const cS=/([a-z-]*)\(.*?\)/g,mu={...Xs,getAnimatableNone:e=>{const t=e.match(cS);return t?t.map(lS).join(" "):e}},uS={...sx,color:Ye,backgroundColor:Ye,outlineColor:Ye,fill:Ye,stroke:Ye,borderColor:Ye,borderTopColor:Ye,borderRightColor:Ye,borderBottomColor:Ye,borderLeftColor:Ye,filter:mu,WebkitFilter:mu},Kd=e=>uS[e];function zx(e,t){let s=Kd(e);return s!==mu&&(s=Xs),s.getAnimatableNone?s.getAnimatableNone(t):void 0}const Hx=e=>/^0[^.\s]+$/.test(e);function dS(e){if(typeof e=="number")return e===0;if(e!==null)return e==="none"||e==="0"||Hx(e)}function hS(e,t,s,r){const i=fu(t,s);let a;Array.isArray(s)?a=[...s]:a=[null,s];const o=r.from!==void 0?r.from:e.get();let l;const c=[];for(let u=0;u<a.length;u++)a[u]===null&&(a[u]=u===0?o:a[u-1]),dS(a[u])&&c.push(u),typeof a[u]=="string"&&a[u]!=="none"&&a[u]!=="0"&&(l=a[u]);if(i&&c.length&&l)for(let u=0;u<c.length;u++){const d=c[u];a[d]=zx(t,l)}return a}function fS({when:e,delay:t,delayChildren:s,staggerChildren:r,staggerDirection:i,repeat:a,repeatType:o,repeatDelay:l,from:c,elapsed:u,...d}){return!!Object.keys(d).length}function Gd(e,t){return e[t]||e.default||e}const mS={skipAnimations:!1},Yd=(e,t,s,r={})=>i=>{const a=Gd(r,e)||{},o=a.delay||r.delay||0;let{elapsed:l=0}=r;l=l-jr(o);const c=hS(t,e,s,a),u=c[0],d=c[c.length-1],h=fu(e,u),f=fu(e,d);let x={keyframes:c,velocity:t.getVelocity(),ease:"easeOut",...a,delay:-l,onUpdate:y=>{t.set(y),a.onUpdate&&a.onUpdate(y)},onComplete:()=>{i(),a.onComplete&&a.onComplete()}};if(fS(a)||(x={...x,...aS(e,x)}),x.duration&&(x.duration=jr(x.duration)),x.repeatDelay&&(x.repeatDelay=jr(x.repeatDelay)),!h||!f||lN.current||a.type===!1||mS.skipAnimations)return tS(x);if(!r.isHandoff&&t.owner&&t.owner.current instanceof HTMLElement&&!t.owner.getProps().onUpdate){const y=eS(t,e,x);if(y)return y}return ko(x)};function _o(e){return!!(ht(e)&&e.add)}const qx=e=>/^\-?\d*\.?\d+$/.test(e);function Qd(e,t){e.indexOf(t)===-1&&e.push(t)}function Jd(e,t){const s=e.indexOf(t);s>-1&&e.splice(s,1)}class Zd{constructor(){this.subscriptions=[]}add(t){return Qd(this.subscriptions,t),()=>Jd(this.subscriptions,t)}notify(t,s,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](t,s,r);else for(let a=0;a<i;a++){const o=this.subscriptions[a];o&&o(t,s,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const pS=e=>!isNaN(parseFloat(e));class gS{constructor(t,s={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(r,i=!0)=>{this.prev=this.current,this.current=r;const{delta:a,timestamp:o}=He;this.lastUpdated!==o&&(this.timeDelta=a,this.lastUpdated=o,ue.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>ue.postRender(this.velocityCheck),this.velocityCheck=({timestamp:r})=>{r!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=t,this.canTrackVelocity=pS(this.current),this.owner=s.owner}onChange(t){return this.on("change",t)}on(t,s){this.events[t]||(this.events[t]=new Zd);const r=this.events[t].add(s);return t==="change"?()=>{r(),ue.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,s){this.passiveEffect=t,this.stopPassiveEffect=s}set(t,s=!0){!s||!this.passiveEffect?this.updateAndNotify(t,s):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,s,r){this.set(s),this.prev=t,this.timeDelta=r}jump(t){this.updateAndNotify(t),this.prev=t,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?Fx(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(t){return this.stop(),new Promise(s=>{this.hasAnimated=!0,this.animation=t(s),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Sn(e,t){return new gS(e,t)}const Wx=e=>t=>t.test(e),xS={test:e=>e==="auto",parse:e=>e},Kx=[Lr,Q,es,Ts,S2,N2,xS],Bn=e=>Kx.find(Wx(e)),yS=[...Kx,Ye,Xs],vS=e=>yS.find(Wx(e));function wS(e,t,s){e.hasValue(t)?e.getValue(t).set(s):e.addValue(t,Sn(s))}function bS(e,t){const s=ol(e,t);let{transitionEnd:r={},transition:i={},...a}=s?e.makeTargetAnimatable(s,!1):{};a={...a,...r};for(const o in a){const l=V2(a[o]);wS(e,o,l)}}function jS(e,t,s){var r,i;const a=Object.keys(t).filter(l=>!e.hasValue(l)),o=a.length;if(o)for(let l=0;l<o;l++){const c=a[l],u=t[c];let d=null;Array.isArray(u)&&(d=u[0]),d===null&&(d=(i=(r=s[c])!==null&&r!==void 0?r:e.readValue(c))!==null&&i!==void 0?i:t[c]),d!=null&&(typeof d=="string"&&(qx(d)||Hx(d))?d=parseFloat(d):!vS(d)&&Xs.test(u)&&(d=zx(c,u)),e.addValue(c,Sn(d,{owner:e})),s[c]===void 0&&(s[c]=d),d!==null&&e.setBaseTarget(c,d))}}function NS(e,t){return t?(t[e]||t.default||t).from:void 0}function SS(e,t,s){const r={};for(const i in e){const a=NS(i,t);if(a!==void 0)r[i]=a;else{const o=s.getValue(i);o&&(r[i]=o.get())}}return r}function kS({protectedKeys:e,needsAnimating:t},s){const r=e.hasOwnProperty(s)&&t[s]!==!0;return t[s]=!1,r}function _S(e,t){const s=e.get();if(Array.isArray(t)){for(let r=0;r<t.length;r++)if(t[r]!==s)return!0}else return s!==t}function Gx(e,t,{delay:s=0,transitionOverride:r,type:i}={}){let{transition:a=e.getDefaultTransition(),transitionEnd:o,...l}=e.makeTargetAnimatable(t);const c=e.getValue("willChange");r&&(a=r);const u=[],d=i&&e.animationState&&e.animationState.getState()[i];for(const h in l){const f=e.getValue(h),x=l[h];if(!f||x===void 0||d&&kS(d,h))continue;const y={delay:s,elapsed:0,...Gd(a||{},h)};if(window.HandoffAppearAnimations){const g=e.getProps()[Yg];if(g){const m=window.HandoffAppearAnimations(g,h,f,ue);m!==null&&(y.elapsed=m,y.isHandoff=!0)}}let j=!y.isHandoff&&!_S(f,x);if(y.type==="spring"&&(f.getVelocity()||y.velocity)&&(j=!1),f.animation&&(j=!1),j)continue;f.start(Yd(h,f,x,e.shouldReduceMotion&&Rr.has(h)?{type:!1}:y));const w=f.animation;_o(c)&&(c.add(h),w.then(()=>c.remove(h))),u.push(w)}return o&&Promise.all(u).then(()=>{o&&bS(e,o)}),u}function pu(e,t,s={}){const r=ol(e,t,s.custom);let{transition:i=e.getDefaultTransition()||{}}=r||{};s.transitionOverride&&(i=s.transitionOverride);const a=r?()=>Promise.all(Gx(e,r,s)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?(c=0)=>{const{delayChildren:u=0,staggerChildren:d,staggerDirection:h}=i;return CS(e,t,u+c,d,h,s)}:()=>Promise.resolve(),{when:l}=i;if(l){const[c,u]=l==="beforeChildren"?[a,o]:[o,a];return c().then(()=>u())}else return Promise.all([a(),o(s.delay)])}function CS(e,t,s=0,r=0,i=1,a){const o=[],l=(e.variantChildren.size-1)*r,c=i===1?(u=0)=>u*r:(u=0)=>l-u*r;return Array.from(e.variantChildren).sort(TS).forEach((u,d)=>{u.notify("AnimationStart",t),o.push(pu(u,t,{...a,delay:s+c(d)}).then(()=>u.notify("AnimationComplete",t)))}),Promise.all(o)}function TS(e,t){return e.sortNodePosition(t)}function PS(e,t,s={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const i=t.map(a=>pu(e,a,s));r=Promise.all(i)}else if(typeof t=="string")r=pu(e,t,s);else{const i=typeof t=="function"?ol(e,t,s.custom):t;r=Promise.all(Gx(e,i,s))}return r.then(()=>e.notify("AnimationComplete",t))}const ES=[...Rd].reverse(),AS=Rd.length;function DS(e){return t=>Promise.all(t.map(({animation:s,options:r})=>PS(e,s,r)))}function RS(e){let t=DS(e);const s=MS();let r=!0;const i=(c,u)=>{const d=ol(e,u);if(d){const{transition:h,transitionEnd:f,...x}=d;c={...c,...x,...f}}return c};function a(c){t=c(e)}function o(c,u){const d=e.getProps(),h=e.getVariantContext(!0)||{},f=[],x=new Set;let y={},j=1/0;for(let g=0;g<AS;g++){const m=ES[g],p=s[m],v=d[m]!==void 0?d[m]:h[m],b=Ii(v),C=m===u?p.isActive:null;C===!1&&(j=g);let T=v===h[m]&&v!==d[m]&&b;if(T&&r&&e.manuallyAnimateOnMount&&(T=!1),p.protectedKeys={...y},!p.isActive&&C===null||!v&&!p.prevProp||rl(v)||typeof v=="boolean")continue;let $=LS(p.prevProp,v)||m===u&&p.isActive&&!T&&b||g>j&&b,z=!1;const k=Array.isArray(v)?v:[v];let O=k.reduce(i,{});C===!1&&(O={});const{prevResolvedValues:L={}}=p,W={...L,...O},ee=X=>{$=!0,x.has(X)&&(z=!0,x.delete(X)),p.needsAnimating[X]=!0};for(const X in W){const E=O[X],R=L[X];if(y.hasOwnProperty(X))continue;let M=!1;jo(E)&&jo(R)?M=!xx(E,R):M=E!==R,M?E!==void 0?ee(X):x.add(X):E!==void 0&&x.has(X)?ee(X):p.protectedKeys[X]=!0}p.prevProp=v,p.prevResolvedValues=O,p.isActive&&(y={...y,...O}),r&&e.blockInitialAnimation&&($=!1),$&&(!T||z)&&f.push(...k.map(X=>({animation:X,options:{type:m,...c}})))}if(x.size){const g={};x.forEach(m=>{const p=e.getBaseTarget(m);p!==void 0&&(g[m]=p)}),f.push({animation:g})}let w=!!f.length;return r&&(d.initial===!1||d.initial===d.animate)&&!e.manuallyAnimateOnMount&&(w=!1),r=!1,w?t(f):Promise.resolve()}function l(c,u,d){var h;if(s[c].isActive===u)return Promise.resolve();(h=e.variantChildren)===null||h===void 0||h.forEach(x=>{var y;return(y=x.animationState)===null||y===void 0?void 0:y.setActive(c,u)}),s[c].isActive=u;const f=o(d,c);for(const x in s)s[x].protectedKeys={};return f}return{animateChanges:o,setActive:l,setAnimateFunction:a,getState:()=>s}}function LS(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!xx(t,e):!1}function ar(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function MS(){return{animate:ar(!0),whileInView:ar(),whileHover:ar(),whileTap:ar(),whileDrag:ar(),whileFocus:ar(),exit:ar()}}class IS extends nr{constructor(t){super(t),t.animationState||(t.animationState=RS(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();this.unmount(),rl(t)&&(this.unmount=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:s}=this.node.prevProps||{};t!==s&&this.updateAnimationControlsSubscription()}unmount(){}}let OS=0;class VS extends nr{constructor(){super(...arguments),this.id=OS++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:s,custom:r}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===i)return;const a=this.node.animationState.setActive("exit",!t,{custom:r??this.node.getProps().custom});s&&!t&&a.then(()=>s(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const $S={animation:{Feature:IS},exit:{Feature:VS}},um=(e,t)=>Math.abs(e-t);function FS(e,t){const s=um(e.x,t.x),r=um(e.y,t.y);return Math.sqrt(s**2+r**2)}class Yx{constructor(t,s,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:a=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=ec(this.lastMoveEventInfo,this.history),f=this.startEvent!==null,x=FS(h.offset,{x:0,y:0})>=3;if(!f&&!x)return;const{point:y}=h,{timestamp:j}=He;this.history.push({...y,timestamp:j});const{onStart:w,onMove:g}=this.handlers;f||(w&&w(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),g&&g(this.lastMoveEvent,h)},this.handlePointerMove=(h,f)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=Xl(f,this.transformPagePoint),ue.update(this.updatePoint,!0)},this.handlePointerUp=(h,f)=>{this.end();const{onEnd:x,onSessionEnd:y,resumeAnimation:j}=this.handlers;if(this.dragSnapToOrigin&&j&&j(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const w=ec(h.type==="pointercancel"?this.lastMoveEventInfo:Xl(f,this.transformPagePoint),this.history);this.startEvent&&x&&x(h,w),y&&y(h,w)},!hx(t))return;this.dragSnapToOrigin=a,this.handlers=s,this.transformPagePoint=r,this.contextWindow=i||window;const o=al(t),l=Xl(o,this.transformPagePoint),{point:c}=l,{timestamp:u}=He;this.history=[{...c,timestamp:u}];const{onSessionStart:d}=s;d&&d(t,ec(l,this.history)),this.removeListeners=Gs(fs(this.contextWindow,"pointermove",this.handlePointerMove),fs(this.contextWindow,"pointerup",this.handlePointerUp),fs(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Ns(this.updatePoint)}}function Xl(e,t){return t?{point:t(e.point)}:e}function dm(e,t){return{x:e.x-t.x,y:e.y-t.y}}function ec({point:e},t){return{point:e,delta:dm(e,Qx(t)),offset:dm(e,US(t)),velocity:BS(t,.1)}}function US(e){return e[0]}function Qx(e){return e[e.length-1]}function BS(e,t){if(e.length<2)return{x:0,y:0};let s=e.length-1,r=null;const i=Qx(e);for(;s>=0&&(r=e[s],!(i.timestamp-r.timestamp>jr(t)));)s--;if(!r)return{x:0,y:0};const a=ms(i.timestamp-r.timestamp);if(a===0)return{x:0,y:0};const o={x:(i.x-r.x)/a,y:(i.y-r.y)/a};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function bt(e){return e.max-e.min}function gu(e,t=0,s=.01){return Math.abs(e-t)<=s}function hm(e,t,s,r=.5){e.origin=r,e.originPoint=xe(t.min,t.max,e.origin),e.scale=bt(s)/bt(t),(gu(e.scale,1,1e-4)||isNaN(e.scale))&&(e.scale=1),e.translate=xe(s.min,s.max,e.origin)-e.originPoint,(gu(e.translate)||isNaN(e.translate))&&(e.translate=0)}function pi(e,t,s,r){hm(e.x,t.x,s.x,r?r.originX:void 0),hm(e.y,t.y,s.y,r?r.originY:void 0)}function fm(e,t,s){e.min=s.min+t.min,e.max=e.min+bt(t)}function zS(e,t,s){fm(e.x,t.x,s.x),fm(e.y,t.y,s.y)}function mm(e,t,s){e.min=t.min-s.min,e.max=e.min+bt(t)}function gi(e,t,s){mm(e.x,t.x,s.x),mm(e.y,t.y,s.y)}function HS(e,{min:t,max:s},r){return t!==void 0&&e<t?e=r?xe(t,e,r.min):Math.max(e,t):s!==void 0&&e>s&&(e=r?xe(s,e,r.max):Math.min(e,s)),e}function pm(e,t,s){return{min:t!==void 0?e.min+t:void 0,max:s!==void 0?e.max+s-(e.max-e.min):void 0}}function qS(e,{top:t,left:s,bottom:r,right:i}){return{x:pm(e.x,s,i),y:pm(e.y,t,r)}}function gm(e,t){let s=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([s,r]=[r,s]),{min:s,max:r}}function WS(e,t){return{x:gm(e.x,t.x),y:gm(e.y,t.y)}}function KS(e,t){let s=.5;const r=bt(e),i=bt(t);return i>r?s=Vi(t.min,t.max-r,e.min):r>i&&(s=Vi(e.min,e.max-i,t.min)),Zs(0,1,s)}function GS(e,t){const s={};return t.min!==void 0&&(s.min=t.min-e.min),t.max!==void 0&&(s.max=t.max-e.min),s}const xu=.35;function YS(e=xu){return e===!1?e=0:e===!0&&(e=xu),{x:xm(e,"left","right"),y:xm(e,"top","bottom")}}function xm(e,t,s){return{min:ym(e,t),max:ym(e,s)}}function ym(e,t){return typeof e=="number"?e:e[t]||0}const vm=()=>({translate:0,scale:1,origin:0,originPoint:0}),an=()=>({x:vm(),y:vm()}),wm=()=>({min:0,max:0}),Ce=()=>({x:wm(),y:wm()});function _t(e){return[e("x"),e("y")]}function Jx({top:e,left:t,right:s,bottom:r}){return{x:{min:t,max:s},y:{min:e,max:r}}}function QS({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function JS(e,t){if(!t)return e;const s=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:s.y,left:s.x,bottom:r.y,right:r.x}}function tc(e){return e===void 0||e===1}function yu({scale:e,scaleX:t,scaleY:s}){return!tc(e)||!tc(t)||!tc(s)}function ur(e){return yu(e)||Zx(e)||e.z||e.rotate||e.rotateX||e.rotateY}function Zx(e){return bm(e.x)||bm(e.y)}function bm(e){return e&&e!=="0%"}function Co(e,t,s){const r=e-s,i=t*r;return s+i}function jm(e,t,s,r,i){return i!==void 0&&(e=Co(e,i,r)),Co(e,s,r)+t}function vu(e,t=0,s=1,r,i){e.min=jm(e.min,t,s,r,i),e.max=jm(e.max,t,s,r,i)}function Xx(e,{x:t,y:s}){vu(e.x,t.translate,t.scale,t.originPoint),vu(e.y,s.translate,s.scale,s.originPoint)}function ZS(e,t,s,r=!1){const i=s.length;if(!i)return;t.x=t.y=1;let a,o;for(let l=0;l<i;l++){a=s[l],o=a.projectionDelta;const c=a.instance;c&&c.style&&c.style.display==="contents"||(r&&a.options.layoutScroll&&a.scroll&&a!==a.root&&on(e,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,Xx(e,o)),r&&ur(a.latestValues)&&on(e,a.latestValues))}t.x=Nm(t.x),t.y=Nm(t.y)}function Nm(e){return Number.isInteger(e)||e>1.0000000000001||e<.999999999999?e:1}function Ds(e,t){e.min=e.min+t,e.max=e.max+t}function Sm(e,t,[s,r,i]){const a=t[i]!==void 0?t[i]:.5,o=xe(e.min,e.max,a);vu(e,t[s],t[r],o,t.scale)}const XS=["x","scaleX","originX"],ek=["y","scaleY","originY"];function on(e,t){Sm(e.x,t,XS),Sm(e.y,t,ek)}function ey(e,t){return Jx(JS(e.getBoundingClientRect(),t))}function tk(e,t,s){const r=ey(e,s),{scroll:i}=t;return i&&(Ds(r.x,i.offset.x),Ds(r.y,i.offset.y)),r}const ty=({current:e})=>e?e.ownerDocument.defaultView:null,sk=new WeakMap;class rk{constructor(t){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ce(),this.visualElement=t}start(t,{snapToCursor:s=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=d=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),s&&this.snapToCursor(al(d,"page").point)},a=(d,h)=>{const{drag:f,dragPropagation:x,onDragStart:y}=this.getProps();if(f&&!x&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=mx(f),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),_t(w=>{let g=this.getAxisMotionValue(w).get()||0;if(es.test(g)){const{projection:m}=this.visualElement;if(m&&m.layout){const p=m.layout.layoutBox[w];p&&(g=bt(p)*(parseFloat(g)/100))}}this.originPoint[w]=g}),y&&ue.update(()=>y(d,h),!1,!0);const{animationState:j}=this.visualElement;j&&j.setActive("whileDrag",!0)},o=(d,h)=>{const{dragPropagation:f,dragDirectionLock:x,onDirectionLock:y,onDrag:j}=this.getProps();if(!f&&!this.openGlobalLock)return;const{offset:w}=h;if(x&&this.currentDirection===null){this.currentDirection=nk(w),this.currentDirection!==null&&y&&y(this.currentDirection);return}this.updateAxis("x",h.point,w),this.updateAxis("y",h.point,w),this.visualElement.render(),j&&j(d,h)},l=(d,h)=>this.stop(d,h),c=()=>_t(d=>{var h;return this.getAnimationState(d)==="paused"&&((h=this.getAxisMotionValue(d).animation)===null||h===void 0?void 0:h.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new Yx(t,{onSessionStart:i,onStart:a,onMove:o,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:ty(this.visualElement)})}stop(t,s){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=s;this.startAnimation(i);const{onDragEnd:a}=this.getProps();a&&ue.update(()=>a(t,s))}cancel(){this.isDragging=!1;const{projection:t,animationState:s}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),s&&s.setActive("whileDrag",!1)}updateAxis(t,s,r){const{drag:i}=this.getProps();if(!r||!ka(t,i,this.currentDirection))return;const a=this.getAxisMotionValue(t);let o=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(o=HS(o,this.constraints[t],this.elastic[t])),a.set(o)}resolveConstraints(){var t;const{dragConstraints:s,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,a=this.constraints;s&&rn(s)?this.constraints||(this.constraints=this.resolveRefConstraints()):s&&i?this.constraints=qS(i.layoutBox,s):this.constraints=!1,this.elastic=YS(r),a!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&_t(o=>{this.getAxisMotionValue(o)&&(this.constraints[o]=GS(i.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:s}=this.getProps();if(!t||!rn(t))return!1;const r=t.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const a=tk(r,i.root,this.visualElement.getTransformPagePoint());let o=WS(i.layout.layoutBox,a);if(s){const l=s(QS(o));this.hasMutatedConstraints=!!l,l&&(o=Jx(l))}return o}startAnimation(t){const{drag:s,dragMomentum:r,dragElastic:i,dragTransition:a,dragSnapToOrigin:o,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},u=_t(d=>{if(!ka(d,s,this.currentDirection))return;let h=c&&c[d]||{};o&&(h={min:0,max:0});const f=i?200:1e6,x=i?40:1e7,y={type:"inertia",velocity:r?t[d]:0,bounceStiffness:f,bounceDamping:x,timeConstant:750,restDelta:1,restSpeed:10,...a,...h};return this.startAxisValueAnimation(d,y)});return Promise.all(u).then(l)}startAxisValueAnimation(t,s){const r=this.getAxisMotionValue(t);return r.start(Yd(t,r,0,s))}stopAnimation(){_t(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){_t(t=>{var s;return(s=this.getAxisMotionValue(t).animation)===null||s===void 0?void 0:s.pause()})}getAnimationState(t){var s;return(s=this.getAxisMotionValue(t).animation)===null||s===void 0?void 0:s.state}getAxisMotionValue(t){const s="_drag"+t.toUpperCase(),r=this.visualElement.getProps(),i=r[s];return i||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){_t(s=>{const{drag:r}=this.getProps();if(!ka(s,r,this.currentDirection))return;const{projection:i}=this.visualElement,a=this.getAxisMotionValue(s);if(i&&i.layout){const{min:o,max:l}=i.layout.layoutBox[s];a.set(t[s]-xe(o,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:s}=this.getProps(),{projection:r}=this.visualElement;if(!rn(s)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};_t(o=>{const l=this.getAxisMotionValue(o);if(l){const c=l.get();i[o]=KS({min:c,max:c},this.constraints[o])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),_t(o=>{if(!ka(o,t,null))return;const l=this.getAxisMotionValue(o),{min:c,max:u}=this.constraints[o];l.set(xe(c,u,i[o]))})}addListeners(){if(!this.visualElement.current)return;sk.set(this.visualElement,this);const t=this.visualElement.current,s=fs(t,"pointerdown",c=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(c)}),r=()=>{const{dragConstraints:c}=this.getProps();rn(c)&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,a=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),r();const o=ds(window,"resize",()=>this.scalePositionWithinConstraints()),l=i.addEventListener("didUpdate",({delta:c,hasLayoutChanged:u})=>{this.isDragging&&u&&(_t(d=>{const h=this.getAxisMotionValue(d);h&&(this.originPoint[d]+=c[d].translate,h.set(h.get()+c[d].translate))}),this.visualElement.render())});return()=>{o(),s(),a(),l&&l()}}getProps(){const t=this.visualElement.getProps(),{drag:s=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:a=!1,dragElastic:o=xu,dragMomentum:l=!0}=t;return{...t,drag:s,dragDirectionLock:r,dragPropagation:i,dragConstraints:a,dragElastic:o,dragMomentum:l}}}function ka(e,t,s){return(t===!0||t===e)&&(s===null||s===e)}function nk(e,t=10){let s=null;return Math.abs(e.y)>t?s="y":Math.abs(e.x)>t&&(s="x"),s}class ik extends nr{constructor(t){super(t),this.removeGroupControls=Se,this.removeListeners=Se,this.controls=new rk(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Se}unmount(){this.removeGroupControls(),this.removeListeners()}}const km=e=>(t,s)=>{e&&ue.update(()=>e(t,s))};class ak extends nr{constructor(){super(...arguments),this.removePointerDownListener=Se}onPointerDown(t){this.session=new Yx(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:ty(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:s,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:km(t),onStart:km(s),onMove:r,onEnd:(a,o)=>{delete this.session,i&&ue.update(()=>i(a,o))}}}mount(){this.removePointerDownListener=fs(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function ok(){const e=N.useContext(tl);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:s,register:r}=e,i=N.useId();return N.useEffect(()=>r(i),[]),!t&&s?[!1,()=>s&&s(i)]:[!0]}const Fa={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function _m(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const zn={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(Q.test(e))e=parseFloat(e);else return e;const s=_m(e,t.target.x),r=_m(e,t.target.y);return`${s}% ${r}%`}},lk={correct:(e,{treeScale:t,projectionDelta:s})=>{const r=e,i=Xs.parse(e);if(i.length>5)return r;const a=Xs.createTransformer(e),o=typeof i[0]!="number"?1:0,l=s.x.scale*t.x,c=s.y.scale*t.y;i[0+o]/=l,i[1+o]/=c;const u=xe(l,c,.5);return typeof i[2+o]=="number"&&(i[2+o]/=u),typeof i[3+o]=="number"&&(i[3+o]/=u),a(i)}};class ck extends mt.Component{componentDidMount(){const{visualElement:t,layoutGroup:s,switchLayoutGroup:r,layoutId:i}=this.props,{projection:a}=t;g2(uk),a&&(s.group&&s.group.add(a),r&&r.register&&i&&r.register(a),a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),Fa.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:s,visualElement:r,drag:i,isPresent:a}=this.props,o=r.projection;return o&&(o.isPresent=a,i||t.layoutDependency!==s||s===void 0?o.willUpdate():this.safeToRemove(),t.isPresent!==a&&(a?o.promote():o.relegate()||ue.postRender(()=>{const l=o.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),queueMicrotask(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:s,switchLayoutGroup:r}=this.props,{projection:i}=t;i&&(i.scheduleCheckAfterUnmount(),s&&s.group&&s.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function sy(e){const[t,s]=ok(),r=N.useContext(Md);return mt.createElement(ck,{...e,layoutGroup:r,switchLayoutGroup:N.useContext(Jg),isPresent:t,safeToRemove:s})}const uk={borderRadius:{...zn,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:zn,borderTopRightRadius:zn,borderBottomLeftRadius:zn,borderBottomRightRadius:zn,boxShadow:lk},ry=["TopLeft","TopRight","BottomLeft","BottomRight"],dk=ry.length,Cm=e=>typeof e=="string"?parseFloat(e):e,Tm=e=>typeof e=="number"||Q.test(e);function hk(e,t,s,r,i,a){i?(e.opacity=xe(0,s.opacity!==void 0?s.opacity:1,fk(r)),e.opacityExit=xe(t.opacity!==void 0?t.opacity:1,0,mk(r))):a&&(e.opacity=xe(t.opacity!==void 0?t.opacity:1,s.opacity!==void 0?s.opacity:1,r));for(let o=0;o<dk;o++){const l=`border${ry[o]}Radius`;let c=Pm(t,l),u=Pm(s,l);if(c===void 0&&u===void 0)continue;c||(c=0),u||(u=0),c===0||u===0||Tm(c)===Tm(u)?(e[l]=Math.max(xe(Cm(c),Cm(u),r),0),(es.test(u)||es.test(c))&&(e[l]+="%")):e[l]=u}(t.rotate||s.rotate)&&(e.rotate=xe(t.rotate||0,s.rotate||0,r))}function Pm(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const fk=ny(0,.5,_x),mk=ny(.5,.95,Se);function ny(e,t,s){return r=>r<e?0:r>t?1:s(Vi(e,t,r))}function Em(e,t){e.min=t.min,e.max=t.max}function kt(e,t){Em(e.x,t.x),Em(e.y,t.y)}function Am(e,t,s,r,i){return e-=t,e=Co(e,1/s,r),i!==void 0&&(e=Co(e,1/i,r)),e}function pk(e,t=0,s=1,r=.5,i,a=e,o=e){if(es.test(t)&&(t=parseFloat(t),t=xe(o.min,o.max,t/100)-o.min),typeof t!="number")return;let l=xe(a.min,a.max,r);e===a&&(l-=t),e.min=Am(e.min,t,s,l,i),e.max=Am(e.max,t,s,l,i)}function Dm(e,t,[s,r,i],a,o){pk(e,t[s],t[r],t[i],t.scale,a,o)}const gk=["x","scaleX","originX"],xk=["y","scaleY","originY"];function Rm(e,t,s,r){Dm(e.x,t,gk,s?s.x:void 0,r?r.x:void 0),Dm(e.y,t,xk,s?s.y:void 0,r?r.y:void 0)}function Lm(e){return e.translate===0&&e.scale===1}function iy(e){return Lm(e.x)&&Lm(e.y)}function yk(e,t){return e.x.min===t.x.min&&e.x.max===t.x.max&&e.y.min===t.y.min&&e.y.max===t.y.max}function ay(e,t){return Math.round(e.x.min)===Math.round(t.x.min)&&Math.round(e.x.max)===Math.round(t.x.max)&&Math.round(e.y.min)===Math.round(t.y.min)&&Math.round(e.y.max)===Math.round(t.y.max)}function Mm(e){return bt(e.x)/bt(e.y)}class vk{constructor(){this.members=[]}add(t){Qd(this.members,t),t.scheduleRender()}remove(t){if(Jd(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const s=this.members[this.members.length-1];s&&this.promote(s)}}relegate(t){const s=this.members.findIndex(i=>t===i);if(s===0)return!1;let r;for(let i=s;i>=0;i--){const a=this.members[i];if(a.isPresent!==!1){r=a;break}}return r?(this.promote(r),!0):!1}promote(t,s){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,s&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:i}=t.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:s,resumingFrom:r}=t;s.onExitComplete&&s.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Im(e,t,s){let r="";const i=e.x.translate/t.x,a=e.y.translate/t.y;if((i||a)&&(r=`translate3d(${i}px, ${a}px, 0) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),s){const{rotate:c,rotateX:u,rotateY:d}=s;c&&(r+=`rotate(${c}deg) `),u&&(r+=`rotateX(${u}deg) `),d&&(r+=`rotateY(${d}deg) `)}const o=e.x.scale*t.x,l=e.y.scale*t.y;return(o!==1||l!==1)&&(r+=`scale(${o}, ${l})`),r||"none"}const wk=(e,t)=>e.depth-t.depth;class bk{constructor(){this.children=[],this.isDirty=!1}add(t){Qd(this.children,t),this.isDirty=!0}remove(t){Jd(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(wk),this.isDirty=!1,this.children.forEach(t)}}function jk(e,t){const s=performance.now(),r=({timestamp:i})=>{const a=i-s;a>=t&&(Ns(r),e(a-t))};return ue.read(r,!0),()=>Ns(r)}function Nk(e){window.MotionDebug&&window.MotionDebug.record(e)}function Sk(e){return e instanceof SVGElement&&e.tagName!=="svg"}function kk(e,t,s){const r=ht(e)?e:Sn(e);return r.start(Yd("",r,t,s)),r.animation}const Om=["","X","Y","Z"],_k={visibility:"hidden"},Vm=1e3;let Ck=0;const dr={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function oy({attachResizeListener:e,defaultParent:t,measureScroll:s,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(o={},l=t==null?void 0:t()){this.id=Ck++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,dr.totalNodes=dr.resolvedTargetDeltas=dr.recalculatedProjection=0,this.nodes.forEach(Ek),this.nodes.forEach(Mk),this.nodes.forEach(Ik),this.nodes.forEach(Ak),Nk(dr)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new bk)}addEventListener(o,l){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new Zd),this.eventHandlers.get(o).add(l)}notifyListeners(o,...l){const c=this.eventHandlers.get(o);c&&c.notify(...l)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,l=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=Sk(o),this.instance=o;const{layoutId:c,layout:u,visualElement:d}=this.options;if(d&&!d.current&&d.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),l&&(u||c)&&(this.isLayoutDirty=!0),e){let h;const f=()=>this.root.updateBlockedByResize=!1;e(o,()=>{this.root.updateBlockedByResize=!0,h&&h(),h=jk(f,250),Fa.hasAnimatedSinceResize&&(Fa.hasAnimatedSinceResize=!1,this.nodes.forEach(Fm))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&d&&(c||u)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:f,hasRelativeTargetChanged:x,layout:y})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const j=this.options.transition||d.getDefaultTransition()||Uk,{onLayoutAnimationStart:w,onLayoutAnimationComplete:g}=d.getProps(),m=!this.targetLayout||!ay(this.targetLayout,y)||x,p=!f&&x;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||p||f&&(m||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(h,p);const v={...Gd(j,"layout"),onPlay:w,onComplete:g};(d.shouldReduceMotion||this.options.layoutRoot)&&(v.delay=0,v.type=!1),this.startAnimation(v)}else f||Fm(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=y})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Ns(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Ok),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const h=this.path[d];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach($m);return}this.isUpdating||this.nodes.forEach(Rk),this.isUpdating=!1,this.nodes.forEach(Lk),this.nodes.forEach(Tk),this.nodes.forEach(Pk),this.clearAllSnapshots();const l=performance.now();He.delta=Zs(0,1e3/60,l-He.timestamp),He.timestamp=l,He.isProcessing=!0,ql.update.process(He),ql.preRender.process(He),ql.render.process(He),He.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(Dk),this.sharedNodes.forEach(Vk)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ue.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ue.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Ce(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let l=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(l=!1),l&&(this.scroll={animationId:this.root.animationId,phase:o,isRoot:r(this.instance),offset:s(this.instance)})}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform,l=this.projectionDelta&&!iy(this.projectionDelta),c=this.getTransformTemplate(),u=c?c(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;o&&(l||ur(this.latestValues)||d)&&(i(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return o&&(c=this.removeTransform(c)),Bk(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return Ce();const l=o.measureViewportBox(),{scroll:c}=this.root;return c&&(Ds(l.x,c.offset.x),Ds(l.y,c.offset.y)),l}removeElementScroll(o){const l=Ce();kt(l,o);for(let c=0;c<this.path.length;c++){const u=this.path[c],{scroll:d,options:h}=u;if(u!==this.root&&d&&h.layoutScroll){if(d.isRoot){kt(l,o);const{scroll:f}=this.root;f&&(Ds(l.x,-f.offset.x),Ds(l.y,-f.offset.y))}Ds(l.x,d.offset.x),Ds(l.y,d.offset.y)}}return l}applyTransform(o,l=!1){const c=Ce();kt(c,o);for(let u=0;u<this.path.length;u++){const d=this.path[u];!l&&d.options.layoutScroll&&d.scroll&&d!==d.root&&on(c,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),ur(d.latestValues)&&on(c,d.latestValues)}return ur(this.latestValues)&&on(c,this.latestValues),c}removeTransform(o){const l=Ce();kt(l,o);for(let c=0;c<this.path.length;c++){const u=this.path[c];if(!u.instance||!ur(u.latestValues))continue;yu(u.latestValues)&&u.updateSnapshot();const d=Ce(),h=u.measurePageBox();kt(d,h),Rm(l,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return ur(this.latestValues)&&Rm(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==He.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var l;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==c;if(!(o||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:h,layoutId:f}=this.options;if(!(!this.layout||!(h||f))){if(this.resolvedRelativeTargetAt=He.timestamp,!this.targetDelta&&!this.relativeTarget){const x=this.getClosestProjectingParent();x&&x.layout&&this.animationProgress!==1?(this.relativeParent=x,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ce(),this.relativeTargetOrigin=Ce(),gi(this.relativeTargetOrigin,this.layout.layoutBox,x.layout.layoutBox),kt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Ce(),this.targetWithTransforms=Ce()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),zS(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):kt(this.target,this.layout.layoutBox),Xx(this.target,this.targetDelta)):kt(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const x=this.getClosestProjectingParent();x&&!!x.resumingFrom==!!this.resumingFrom&&!x.options.layoutScroll&&x.target&&this.animationProgress!==1?(this.relativeParent=x,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ce(),this.relativeTargetOrigin=Ce(),gi(this.relativeTargetOrigin,this.target,x.target),kt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}dr.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||yu(this.parent.latestValues)||Zx(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const l=this.getLead(),c=!!this.resumingFrom||this!==l;let u=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(u=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===He.timestamp&&(u=!1),u)return;const{layout:d,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||h))return;kt(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,x=this.treeScale.y;ZS(this.layoutCorrected,this.treeScale,this.path,c),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox);const{target:y}=l;if(!y){this.projectionTransform&&(this.projectionDelta=an(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=an(),this.projectionDeltaWithTransform=an());const j=this.projectionTransform;pi(this.projectionDelta,this.layoutCorrected,y,this.latestValues),this.projectionTransform=Im(this.projectionDelta,this.treeScale),(this.projectionTransform!==j||this.treeScale.x!==f||this.treeScale.y!==x)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",y)),dr.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(o,l=!1){const c=this.snapshot,u=c?c.latestValues:{},d={...this.latestValues},h=an();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const f=Ce(),x=c?c.source:void 0,y=this.layout?this.layout.source:void 0,j=x!==y,w=this.getStack(),g=!w||w.members.length<=1,m=!!(j&&!g&&this.options.crossfade===!0&&!this.path.some(Fk));this.animationProgress=0;let p;this.mixTargetDelta=v=>{const b=v/1e3;Um(h.x,o.x,b),Um(h.y,o.y,b),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(gi(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),$k(this.relativeTarget,this.relativeTargetOrigin,f,b),p&&yk(this.relativeTarget,p)&&(this.isProjectionDirty=!1),p||(p=Ce()),kt(p,this.relativeTarget)),j&&(this.animationValues=d,hk(d,u,this.latestValues,b,m,g)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=b},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Ns(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ue.update(()=>{Fa.hasAnimatedSinceResize=!0,this.currentAnimation=kk(0,Vm,{...o,onUpdate:l=>{this.mixTargetDelta(l),o.onUpdate&&o.onUpdate(l)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Vm),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:l,target:c,layout:u,latestValues:d}=o;if(!(!l||!c||!u)){if(this!==o&&this.layout&&u&&ly(this.options.animationType,this.layout.layoutBox,u.layoutBox)){c=this.target||Ce();const h=bt(this.layout.layoutBox.x);c.x.min=o.target.x.min,c.x.max=c.x.min+h;const f=bt(this.layout.layoutBox.y);c.y.min=o.target.y.min,c.y.max=c.y.min+f}kt(l,c),on(l,d),pi(this.projectionDeltaWithTransform,this.layoutCorrected,l,d)}}registerSharedNode(o,l){this.sharedNodes.has(o)||this.sharedNodes.set(o,new vk),this.sharedNodes.get(o).add(l);const u=l.options.initialPromotionConfig;l.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(l):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:l}=this.options;return l?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:l}=this.options;return l?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:l,preserveFollowOpacity:c}={}){const u=this.getStack();u&&u.promote(this,c),o&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetRotation(){const{visualElement:o}=this.options;if(!o)return;let l=!1;const{latestValues:c}=o;if((c.rotate||c.rotateX||c.rotateY||c.rotateZ)&&(l=!0),!l)return;const u={};for(let d=0;d<Om.length;d++){const h="rotate"+Om[d];c[h]&&(u[h]=c[h],o.setStaticValue(h,0))}o.render();for(const d in u)o.setStaticValue(d,u[d]);o.scheduleRender()}getProjectionStyles(o){var l,c;if(!this.instance||this.isSVG)return;if(!this.isVisible)return _k;const u={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=$a(o==null?void 0:o.pointerEvents)||"",u.transform=d?d(this.latestValues,""):"none",u;const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){const j={};return this.options.layoutId&&(j.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,j.pointerEvents=$a(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!ur(this.latestValues)&&(j.transform=d?d({},""):"none",this.hasProjected=!1),j}const f=h.animationValues||h.latestValues;this.applyTransformsToTarget(),u.transform=Im(this.projectionDeltaWithTransform,this.treeScale,f),d&&(u.transform=d(f,u.transform));const{x,y}=this.projectionDelta;u.transformOrigin=`${x.origin*100}% ${y.origin*100}% 0`,h.animationValues?u.opacity=h===this?(c=(l=f.opacity)!==null&&l!==void 0?l:this.latestValues.opacity)!==null&&c!==void 0?c:1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:u.opacity=h===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const j in wo){if(f[j]===void 0)continue;const{correct:w,applyTo:g}=wo[j],m=u.transform==="none"?f[j]:w(f[j],h);if(g){const p=g.length;for(let v=0;v<p;v++)u[g[v]]=m}else u[j]=m}return this.options.layoutId&&(u.pointerEvents=h===this?$a(o==null?void 0:o.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var l;return(l=o.currentAnimation)===null||l===void 0?void 0:l.stop()}),this.root.nodes.forEach($m),this.root.sharedNodes.clear()}}}function Tk(e){e.updateLayout()}function Pk(e){var t;const s=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&s&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=e.layout,{animationType:a}=e.options,o=s.source!==e.layout.source;a==="size"?_t(h=>{const f=o?s.measuredBox[h]:s.layoutBox[h],x=bt(f);f.min=r[h].min,f.max=f.min+x}):ly(a,s.layoutBox,r)&&_t(h=>{const f=o?s.measuredBox[h]:s.layoutBox[h],x=bt(r[h]);f.max=f.min+x,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[h].max=e.relativeTarget[h].min+x)});const l=an();pi(l,r,s.layoutBox);const c=an();o?pi(c,e.applyTransform(i,!0),s.measuredBox):pi(c,r,s.layoutBox);const u=!iy(l);let d=!1;if(!e.resumeFrom){const h=e.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:f,layout:x}=h;if(f&&x){const y=Ce();gi(y,s.layoutBox,f.layoutBox);const j=Ce();gi(j,r,x.layoutBox),ay(y,j)||(d=!0),h.options.layoutRoot&&(e.relativeTarget=j,e.relativeTargetOrigin=y,e.relativeParent=h)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:s,delta:c,layoutDelta:l,hasLayoutChanged:u,hasRelativeTargetChanged:d})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function Ek(e){dr.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function Ak(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function Dk(e){e.clearSnapshot()}function $m(e){e.clearMeasurements()}function Rk(e){e.isLayoutDirty=!1}function Lk(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function Fm(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function Mk(e){e.resolveTargetDelta()}function Ik(e){e.calcProjection()}function Ok(e){e.resetRotation()}function Vk(e){e.removeLeadSnapshot()}function Um(e,t,s){e.translate=xe(t.translate,0,s),e.scale=xe(t.scale,1,s),e.origin=t.origin,e.originPoint=t.originPoint}function Bm(e,t,s,r){e.min=xe(t.min,s.min,r),e.max=xe(t.max,s.max,r)}function $k(e,t,s,r){Bm(e.x,t.x,s.x,r),Bm(e.y,t.y,s.y,r)}function Fk(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const Uk={duration:.45,ease:[.4,0,.1,1]},zm=e=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(e),Hm=zm("applewebkit/")&&!zm("chrome/")?Math.round:Se;function qm(e){e.min=Hm(e.min),e.max=Hm(e.max)}function Bk(e){qm(e.x),qm(e.y)}function ly(e,t,s){return e==="position"||e==="preserve-aspect"&&!gu(Mm(t),Mm(s),.2)}const zk=oy({attachResizeListener:(e,t)=>ds(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),sc={current:void 0},cy=oy({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!sc.current){const e=new zk({});e.mount(window),e.setOptions({layoutScroll:!0}),sc.current=e}return sc.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),Hk={pan:{Feature:ak},drag:{Feature:ik,ProjectionNode:cy,MeasureLayout:sy}},qk=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function Wk(e){const t=qk.exec(e);if(!t)return[,];const[,s,r]=t;return[s,r]}function wu(e,t,s=1){const[r,i]=Wk(e);if(!r)return;const a=window.getComputedStyle(t).getPropertyValue(r);if(a){const o=a.trim();return qx(o)?parseFloat(o):o}else return cu(i)?wu(i,t,s+1):i}function Kk(e,{...t},s){const r=e.current;if(!(r instanceof Element))return{target:t,transitionEnd:s};s&&(s={...s}),e.values.forEach(i=>{const a=i.get();if(!cu(a))return;const o=wu(a,r);o&&i.set(o)});for(const i in t){const a=t[i];if(!cu(a))continue;const o=wu(a,r);o&&(t[i]=o,s||(s={}),s[i]===void 0&&(s[i]=a))}return{target:t,transitionEnd:s}}const Gk=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),uy=e=>Gk.has(e),Yk=e=>Object.keys(e).some(uy),Wm=e=>e===Lr||e===Q,Km=(e,t)=>parseFloat(e.split(", ")[t]),Gm=(e,t)=>(s,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/);if(i)return Km(i[1],t);{const a=r.match(/^matrix\((.+)\)$/);return a?Km(a[1],e):0}},Qk=new Set(["x","y","z"]),Jk=Yi.filter(e=>!Qk.has(e));function Zk(e){const t=[];return Jk.forEach(s=>{const r=e.getValue(s);r!==void 0&&(t.push([s,r.get()]),r.set(s.startsWith("scale")?1:0))}),t.length&&e.render(),t}const kn={width:({x:e},{paddingLeft:t="0",paddingRight:s="0"})=>e.max-e.min-parseFloat(t)-parseFloat(s),height:({y:e},{paddingTop:t="0",paddingBottom:s="0"})=>e.max-e.min-parseFloat(t)-parseFloat(s),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:Gm(4,13),y:Gm(5,14)};kn.translateX=kn.x;kn.translateY=kn.y;const Xk=(e,t,s)=>{const r=t.measureViewportBox(),i=t.current,a=getComputedStyle(i),{display:o}=a,l={};o==="none"&&t.setStaticValue("display",e.display||"block"),s.forEach(u=>{l[u]=kn[u](r,a)}),t.render();const c=t.measureViewportBox();return s.forEach(u=>{const d=t.getValue(u);d&&d.jump(l[u]),e[u]=kn[u](c,a)}),e},e_=(e,t,s={},r={})=>{t={...t},r={...r};const i=Object.keys(t).filter(uy);let a=[],o=!1;const l=[];if(i.forEach(c=>{const u=e.getValue(c);if(!e.hasValue(c))return;let d=s[c],h=Bn(d);const f=t[c];let x;if(jo(f)){const y=f.length,j=f[0]===null?1:0;d=f[j],h=Bn(d);for(let w=j;w<y&&f[w]!==null;w++)x?zd(Bn(f[w])===x):x=Bn(f[w])}else x=Bn(f);if(h!==x)if(Wm(h)&&Wm(x)){const y=u.get();typeof y=="string"&&u.set(parseFloat(y)),typeof f=="string"?t[c]=parseFloat(f):Array.isArray(f)&&x===Q&&(t[c]=f.map(parseFloat))}else h!=null&&h.transform&&(x!=null&&x.transform)&&(d===0||f===0)?d===0?u.set(x.transform(d)):t[c]=h.transform(f):(o||(a=Zk(e),o=!0),l.push(c),r[c]=r[c]!==void 0?r[c]:t[c],u.jump(f))}),l.length){const c=l.indexOf("height")>=0?window.pageYOffset:null,u=Xk(t,e,l);return a.length&&a.forEach(([d,h])=>{e.getValue(d).set(h)}),e.render(),sl&&c!==null&&window.scrollTo({top:c}),{target:u,transitionEnd:r}}else return{target:t,transitionEnd:r}};function t_(e,t,s,r){return Yk(t)?e_(e,t,s,r):{target:t,transitionEnd:r}}const s_=(e,t,s,r)=>{const i=Kk(e,t,r);return t=i.target,r=i.transitionEnd,t_(e,t,s,r)},bu={current:null},dy={current:!1};function r_(){if(dy.current=!0,!!sl)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>bu.current=e.matches;e.addListener(t),t()}else bu.current=!1}function n_(e,t,s){const{willChange:r}=t;for(const i in t){const a=t[i],o=s[i];if(ht(a))e.addValue(i,a),_o(r)&&r.add(i);else if(ht(o))e.addValue(i,Sn(a,{owner:e})),_o(r)&&r.remove(i);else if(o!==a)if(e.hasValue(i)){const l=e.getValue(i);!l.hasAnimated&&l.set(a)}else{const l=e.getStaticValue(i);e.addValue(i,Sn(l!==void 0?l:a,{owner:e}))}}for(const i in s)t[i]===void 0&&e.removeValue(i);return t}const Ym=new WeakMap,hy=Object.keys(Oi),i_=hy.length,Qm=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],a_=Ld.length;class o_{constructor({parent:t,props:s,presenceContext:r,reducedMotionConfig:i,visualState:a},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>ue.render(this.render,!1,!0);const{latestValues:l,renderState:c}=a;this.latestValues=l,this.baseTarget={...l},this.initialValues=s.initial?{...l}:{},this.renderState=c,this.parent=t,this.props=s,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=i,this.options=o,this.isControllingVariants=nl(s),this.isVariantNode=Qg(s),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:u,...d}=this.scrapeMotionValuesFromProps(s,{});for(const h in d){const f=d[h];l[h]!==void 0&&ht(f)&&(f.set(l[h],!1),_o(u)&&u.add(h))}}scrapeMotionValuesFromProps(t,s){return{}}mount(t){this.current=t,Ym.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((s,r)=>this.bindToMotionValue(r,s)),dy.current||r_(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:bu.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){Ym.delete(this.current),this.projection&&this.projection.unmount(),Ns(this.notifyUpdate),Ns(this.render),this.valueSubscriptions.forEach(t=>t()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features)this.features[t].unmount();this.current=null}bindToMotionValue(t,s){const r=Rr.has(t),i=s.on("change",o=>{this.latestValues[t]=o,this.props.onUpdate&&ue.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),a=s.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(t,()=>{i(),a()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}loadFeatures({children:t,...s},r,i,a){let o,l;for(let c=0;c<i_;c++){const u=hy[c],{isEnabled:d,Feature:h,ProjectionNode:f,MeasureLayout:x}=Oi[u];f&&(o=f),d(s)&&(!this.features[u]&&h&&(this.features[u]=new h(this)),x&&(l=x))}if((this.type==="html"||this.type==="svg")&&!this.projection&&o){this.projection=new o(this.latestValues,this.parent&&this.parent.projection);const{layoutId:c,layout:u,drag:d,dragConstraints:h,layoutScroll:f,layoutRoot:x}=s;this.projection.setOptions({layoutId:c,layout:u,alwaysMeasureLayout:!!d||h&&rn(h),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof u=="string"?u:"both",initialPromotionConfig:a,layoutScroll:f,layoutRoot:x})}return l}updateFeatures(){for(const t in this.features){const s=this.features[t];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ce()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,s){this.latestValues[t]=s}makeTargetAnimatable(t,s=!0){return this.makeTargetAnimatableFromInstance(t,this.props,s)}update(t,s){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=s;for(let r=0;r<Qm.length;r++){const i=Qm[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const a=t["on"+i];a&&(this.propEventSubscriptions[i]=this.on(i,a))}this.prevMotionValues=n_(this,this.scrapeMotionValuesFromProps(t,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(t=!1){if(t)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const s={};for(let r=0;r<a_;r++){const i=Ld[r],a=this.props[i];(Ii(a)||a===!1)&&(s[i]=a)}return s}addVariantChild(t){const s=this.getClosestVariantNode();if(s)return s.variantChildren&&s.variantChildren.add(t),()=>s.variantChildren.delete(t)}addValue(t,s){s!==this.values.get(t)&&(this.removeValue(t),this.bindToMotionValue(t,s)),this.values.set(t,s),this.latestValues[t]=s.get()}removeValue(t){this.values.delete(t);const s=this.valueSubscriptions.get(t);s&&(s(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,s){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&s!==void 0&&(r=Sn(s,{owner:this}),this.addValue(t,r)),r}readValue(t){var s;return this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(s=this.getBaseTargetFromProps(this.props,t))!==null&&s!==void 0?s:this.readValueFromInstance(this.current,t,this.options)}setBaseTarget(t,s){this.baseTarget[t]=s}getBaseTarget(t){var s;const{initial:r}=this.props,i=typeof r=="string"||typeof r=="object"?(s=Bd(this.props,r))===null||s===void 0?void 0:s[t]:void 0;if(r&&i!==void 0)return i;const a=this.getBaseTargetFromProps(this.props,t);return a!==void 0&&!ht(a)?a:this.initialValues[t]!==void 0&&i===void 0?void 0:this.baseTarget[t]}on(t,s){return this.events[t]||(this.events[t]=new Zd),this.events[t].add(s)}notify(t,...s){this.events[t]&&this.events[t].notify(...s)}}class fy extends o_{sortInstanceNodePosition(t,s){return t.compareDocumentPosition(s)&2?1:-1}getBaseTargetFromProps(t,s){return t.style?t.style[s]:void 0}removeValueFromRenderState(t,{vars:s,style:r}){delete s[t],delete r[t]}makeTargetAnimatableFromInstance({transition:t,transitionEnd:s,...r},{transformValues:i},a){let o=SS(r,t||{},this);if(i&&(s&&(s=i(s)),r&&(r=i(r)),o&&(o=i(o))),a){jS(this,r,o);const l=s_(this,r,o,s);s=l.transitionEnd,r=l.target}return{transition:t,transitionEnd:s,...r}}}function l_(e){return window.getComputedStyle(e)}class c_ extends fy{constructor(){super(...arguments),this.type="html"}readValueFromInstance(t,s){if(Rr.has(s)){const r=Kd(s);return r&&r.default||0}else{const r=l_(t),i=(ex(s)?r.getPropertyValue(s):r[s])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(t,{transformPagePoint:s}){return ey(t,s)}build(t,s,r,i){Od(t,s,r,i.transformTemplate)}scrapeMotionValuesFromProps(t,s){return Ud(t,s)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;ht(t)&&(this.childSubscription=t.on("change",s=>{this.current&&(this.current.textContent=`${s}`)}))}renderInstance(t,s,r,i){ax(t,s,r,i)}}class u_ extends fy{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(t,s){return t[s]}readValueFromInstance(t,s){if(Rr.has(s)){const r=Kd(s);return r&&r.default||0}return s=ox.has(s)?s:Dd(s),t.getAttribute(s)}measureInstanceViewportBox(){return Ce()}scrapeMotionValuesFromProps(t,s){return cx(t,s)}build(t,s,r,i){$d(t,s,r,this.isSVGTag,i.transformTemplate)}renderInstance(t,s,r,i){lx(t,s,r,i)}mount(t){this.isSVGTag=Fd(t.tagName),super.mount(t)}}const d_=(e,t)=>Id(e)?new u_(t,{enableHardwareAcceleration:!1}):new c_(t,{enableHardwareAcceleration:!0}),h_={layout:{ProjectionNode:cy,MeasureLayout:sy}},f_={...$S,...iN,...Hk,...h_},_=m2((e,t)=>W2(e,t,f_,d_));function my(){const e=N.useRef(!1);return Ad(()=>(e.current=!0,()=>{e.current=!1}),[]),e}function m_(){const e=my(),[t,s]=N.useState(0),r=N.useCallback(()=>{e.current&&s(t+1)},[t]);return[N.useCallback(()=>ue.postRender(r),[r]),t]}class p_ extends N.Component{getSnapshotBeforeUpdate(t){const s=this.props.childRef.current;if(s&&t.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=s.offsetHeight||0,r.width=s.offsetWidth||0,r.top=s.offsetTop,r.left=s.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function g_({children:e,isPresent:t}){const s=N.useId(),r=N.useRef(null),i=N.useRef({width:0,height:0,top:0,left:0});return N.useInsertionEffect(()=>{const{width:a,height:o,top:l,left:c}=i.current;if(t||!r.current||!a||!o)return;r.current.dataset.motionPopId=s;const u=document.createElement("style");return document.head.appendChild(u),u.sheet&&u.sheet.insertRule(`
          [data-motion-pop-id="${s}"] {
            position: absolute !important;
            width: ${a}px !important;
            height: ${o}px !important;
            top: ${l}px !important;
            left: ${c}px !important;
          }
        `),()=>{document.head.removeChild(u)}},[t]),N.createElement(p_,{isPresent:t,childRef:r,sizeRef:i},N.cloneElement(e,{ref:r}))}const rc=({children:e,initial:t,isPresent:s,onExitComplete:r,custom:i,presenceAffectsLayout:a,mode:o})=>{const l=ux(x_),c=N.useId(),u=N.useMemo(()=>({id:c,initial:t,isPresent:s,custom:i,onExitComplete:d=>{l.set(d,!0);for(const h of l.values())if(!h)return;r&&r()},register:d=>(l.set(d,!1),()=>l.delete(d))}),a?void 0:[s]);return N.useMemo(()=>{l.forEach((d,h)=>l.set(h,!1))},[s]),N.useEffect(()=>{!s&&!l.size&&r&&r()},[s]),o==="popLayout"&&(e=N.createElement(g_,{isPresent:s},e)),N.createElement(tl.Provider,{value:u},e)};function x_(){return new Map}function y_(e){return N.useEffect(()=>()=>e(),[])}const hr=e=>e.key||"";function v_(e,t){e.forEach(s=>{const r=hr(s);t.set(r,s)})}function w_(e){const t=[];return N.Children.forEach(e,s=>{N.isValidElement(s)&&t.push(s)}),t}const Mr=({children:e,custom:t,initial:s=!0,onExitComplete:r,exitBeforeEnter:i,presenceAffectsLayout:a=!0,mode:o="sync"})=>{const l=N.useContext(Md).forceRender||m_()[0],c=my(),u=w_(e);let d=u;const h=N.useRef(new Map).current,f=N.useRef(d),x=N.useRef(new Map).current,y=N.useRef(!0);if(Ad(()=>{y.current=!1,v_(u,x),f.current=d}),y_(()=>{y.current=!0,x.clear(),h.clear()}),y.current)return N.createElement(N.Fragment,null,d.map(m=>N.createElement(rc,{key:hr(m),isPresent:!0,initial:s?void 0:!1,presenceAffectsLayout:a,mode:o},m)));d=[...d];const j=f.current.map(hr),w=u.map(hr),g=j.length;for(let m=0;m<g;m++){const p=j[m];w.indexOf(p)===-1&&!h.has(p)&&h.set(p,void 0)}return o==="wait"&&h.size&&(d=[]),h.forEach((m,p)=>{if(w.indexOf(p)!==-1)return;const v=x.get(p);if(!v)return;const b=j.indexOf(p);let C=m;if(!C){const T=()=>{h.delete(p);const D=Array.from(x.keys()).filter($=>!w.includes($));if(D.forEach($=>x.delete($)),f.current=u.filter($=>{const z=hr($);return z===p||D.includes(z)}),!h.size){if(c.current===!1)return;l(),r&&r()}};C=N.createElement(rc,{key:hr(v),isPresent:!1,onExitComplete:T,custom:t,presenceAffectsLayout:a,mode:o},v),h.set(p,C)}d.splice(b,0,C)}),d=d.map(m=>{const p=m.key;return h.has(p)?m:N.createElement(rc,{key:hr(m),isPresent:!0,presenceAffectsLayout:a,mode:o},m)}),N.createElement(N.Fragment,null,h.size?d:d.map(m=>N.cloneElement(m)))},b_=({onToggleMode:e,onForgotPassword:t})=>{const[s,r]=N.useState(!1),[i,a]=N.useState(!1),[o,l]=N.useState(""),{register:c,handleSubmit:u,formState:{errors:d}}=Cd(),h=async f=>{try{a(!0),l("");const{data:x,error:y}=await bd.signIn(f.email,f.password);if(y){l(y.message);return}if(x.user){const{data:j}=await Z.from("user_profiles").select("*").eq("user_id",x.user.id).maybeSingle();if(!j){const{error:w}=await Z.from("user_profiles").insert({user_id:x.user.id,role:"client",first_name:"User",last_name:"Account",email:x.user.email||"",is_active:!0});w&&console.error("Error creating user profile:",w)}}}catch{l("An unexpected error occurred")}finally{a(!1)}};return n.jsxs(_.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"w-full max-w-md mx-auto",children:[n.jsxs("div",{className:"text-center mb-8",children:[n.jsx(Xo,{className:"h-12 w-12 text-blue-900 mx-auto mb-4"}),n.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:"Welcome Back"}),n.jsx("p",{className:"text-gray-600 mt-2",children:"Sign in to your secure legal portal"})]}),n.jsxs("div",{className:"mb-6 p-4 bg-amber-50 border border-amber-200 rounded-lg",children:[n.jsx("h3",{className:"text-sm font-medium text-amber-900 mb-2",children:"Getting Started:"}),n.jsxs("div",{className:"space-y-2 text-xs text-amber-700",children:[n.jsx("p",{children:n.jsx("strong",{children:"Demo Account Access:"})}),n.jsxs("div",{className:"text-xs",children:[n.jsxs("p",{children:[" ",n.jsx("strong",{children:"Admin:"})," admin@legalportal.com / Admin123!"]}),n.jsxs("p",{children:[" ",n.jsx("strong",{children:"Client:"})," client@example.com / Client123!"]}),n.jsx("p",{children:' Or create a new account with the "Sign up" link below'})]})]})]}),n.jsxs("form",{onSubmit:u(h),className:"space-y-6",children:[o&&n.jsx(_.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg",children:o}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),n.jsxs("div",{className:"relative",children:[n.jsx(Js,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),n.jsx("input",{...c("email",{required:"Email is required",pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"Invalid email address"}}),type:"email",className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",placeholder:"Enter your email"})]}),d.email&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:d.email.message})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),n.jsxs("div",{className:"relative",children:[n.jsx(Mi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),n.jsx("input",{...c("password",{required:"Password is required",minLength:{value:8,message:"Password must be at least 8 characters"}}),type:s?"text":"password",className:"w-full pl-10 pr-12 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",placeholder:"Enter your password"}),n.jsx("button",{type:"button",onClick:()=>r(!s),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:s?n.jsx(ou,{className:"h-5 w-5"}):n.jsx(ws,{className:"h-5 w-5"})})]}),d.password&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:d.password.message})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("label",{className:"flex items-center",children:[n.jsx("input",{type:"checkbox",className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),n.jsx("span",{className:"ml-2 text-sm text-gray-600",children:"Remember me"})]}),n.jsx("button",{type:"button",onClick:t,className:"text-sm text-blue-600 hover:text-blue-500 font-medium",children:"Forgot password?"})]}),n.jsx(_.button,{whileHover:{scale:1.02},whileTap:{scale:.98},type:"submit",disabled:i,className:"w-full bg-blue-900 text-white py-3 px-4 rounded-lg font-medium hover:bg-blue-800 focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:i?"Signing In...":"Sign In"})]}),n.jsx("div",{className:"mt-6 text-center",children:n.jsxs("p",{className:"text-gray-600",children:["Don't have an account?"," ",n.jsx("button",{onClick:e,className:"text-blue-600 hover:text-blue-500 font-medium",children:"Sign up"})]})})]})},j_=({onToggleMode:e})=>{const[t,s]=N.useState(!1),[r,i]=N.useState(!1),[a,o]=N.useState(!1),[l,c]=N.useState(""),[u,d]=N.useState(!1),{register:h,handleSubmit:f,watch:x,formState:{errors:y}}=Cd(),j=x("password"),w=m=>m.length<8?"Password must be at least 8 characters":/(?=.*[a-z])/.test(m)?/(?=.*[A-Z])/.test(m)?/(?=.*\d)/.test(m)?/(?=.*[@$!%*?&])/.test(m)?!0:"Password must contain at least one special character":"Password must contain at least one number":"Password must contain at least one uppercase letter":"Password must contain at least one lowercase letter",g=async m=>{try{o(!0),c("");const{data:p,error:v}=await bd.signUp(m.email,m.password,{first_name:m.firstName,last_name:m.lastName,phone:m.phone,address:m.address});if(v){c(v.message);return}if(p.user){const{error:b}=await Z.from("user_profiles").insert({user_id:p.user.id,role:m.role,first_name:m.firstName,last_name:m.lastName,email:m.email,phone:m.phone,address:m.address,is_active:!0});if(b&&console.error("Error creating user profile:",b),m.role==="client"){const{error:C}=await Z.from("clients").insert({user_id:p.user.id,first_name:m.firstName,last_name:m.lastName,email:m.email,phone:m.phone,address:m.address,role:"client"});C&&console.error("Error creating client record:",C)}}d(!0)}catch{c("An unexpected error occurred")}finally{o(!1)}};return u?n.jsx(_.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"w-full max-w-md mx-auto text-center",children:n.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-6",children:[n.jsx("div",{className:"h-12 w-12 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:n.jsx(Js,{className:"h-6 w-6 text-green-600"})}),n.jsx("h3",{className:"text-lg font-semibold text-green-900 mb-2",children:"Check Your Email"}),n.jsx("p",{className:"text-green-700 mb-4",children:"We've sent you a verification link. Please check your email and click the link to activate your account."}),n.jsx("button",{onClick:e,className:"text-blue-600 hover:text-blue-500 font-medium",children:"Back to Sign In"})]})}):n.jsxs(_.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"w-full max-w-md mx-auto",children:[n.jsxs("div",{className:"text-center mb-8",children:[n.jsx(Xo,{className:"h-12 w-12 text-blue-900 mx-auto mb-4"}),n.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:"Create Account"}),n.jsx("p",{className:"text-gray-600 mt-2",children:"Join our secure legal platform"})]}),n.jsxs("form",{onSubmit:f(g),className:"space-y-6",children:[l&&n.jsx(_.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg",children:l}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Account Type"}),n.jsxs("div",{className:"relative",children:[n.jsx(yt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),n.jsxs("select",{...h("role",{required:"Please select an account type"}),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[n.jsx("option",{value:"client",children:"Client Account"}),n.jsx("option",{value:"admin",children:"Admin Account"})]})]}),y.role&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:y.role.message})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"First Name"}),n.jsxs("div",{className:"relative",children:[n.jsx(dt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),n.jsx("input",{...h("firstName",{required:"First name is required"}),type:"text",className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",placeholder:"First name"})]}),y.firstName&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:y.firstName.message})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Last Name"}),n.jsxs("div",{className:"relative",children:[n.jsx(dt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),n.jsx("input",{...h("lastName",{required:"Last name is required"}),type:"text",className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",placeholder:"Last name"})]}),y.lastName&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:y.lastName.message})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),n.jsxs("div",{className:"relative",children:[n.jsx(Js,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),n.jsx("input",{...h("email",{required:"Email is required",pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"Invalid email address"}}),type:"email",className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",placeholder:"Enter your email"})]}),y.email&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:y.email.message})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number"}),n.jsxs("div",{className:"relative",children:[n.jsx(br,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),n.jsx("input",{...h("phone",{required:"Phone number is required"}),type:"tel",className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",placeholder:"Your phone number"})]}),y.phone&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:y.phone.message})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Address"}),n.jsxs("div",{className:"relative",children:[n.jsx(Pd,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),n.jsx("input",{...h("address",{required:"Address is required"}),type:"text",className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",placeholder:"Your address"})]}),y.address&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:y.address.message})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),n.jsxs("div",{className:"relative",children:[n.jsx(Mi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),n.jsx("input",{...h("password",{required:"Password is required",validate:w}),type:t?"text":"password",className:"w-full pl-10 pr-12 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",placeholder:"Create a strong password"}),n.jsx("button",{type:"button",onClick:()=>s(!t),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:t?n.jsx(ou,{className:"h-5 w-5"}):n.jsx(ws,{className:"h-5 w-5"})})]}),y.password&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:y.password.message})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirm Password"}),n.jsxs("div",{className:"relative",children:[n.jsx(Mi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),n.jsx("input",{...h("confirmPassword",{required:"Please confirm your password",validate:m=>m===j||"Passwords do not match"}),type:r?"text":"password",className:"w-full pl-10 pr-12 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",placeholder:"Confirm your password"}),n.jsx("button",{type:"button",onClick:()=>i(!r),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:r?n.jsx(ou,{className:"h-5 w-5"}):n.jsx(ws,{className:"h-5 w-5"})})]}),y.confirmPassword&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:y.confirmPassword.message})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"flex items-start",children:[n.jsx("input",{...h("acceptTerms",{required:"You must accept the terms and conditions"}),type:"checkbox",className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500 mt-1"}),n.jsxs("span",{className:"ml-2 text-sm text-gray-600",children:["I agree to the"," ",n.jsx("a",{href:"#",className:"text-blue-600 hover:text-blue-500",children:"Terms of Service"})," ","and"," ",n.jsx("a",{href:"#",className:"text-blue-600 hover:text-blue-500",children:"Privacy Policy"})]})]}),y.acceptTerms&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:y.acceptTerms.message})]}),n.jsx(_.button,{whileHover:{scale:1.02},whileTap:{scale:.98},type:"submit",disabled:a,className:"w-full bg-blue-900 text-white py-3 px-4 rounded-lg font-medium hover:bg-blue-800 focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:a?"Creating Account...":"Create Account"})]}),n.jsx("div",{className:"mt-6 text-center",children:n.jsxs("p",{className:"text-gray-600",children:["Already have an account?"," ",n.jsx("button",{onClick:e,className:"text-blue-600 hover:text-blue-500 font-medium",children:"Sign in"})]})})]})},N_=({onBack:e})=>{const[t,s]=N.useState(!1),[r,i]=N.useState(""),[a,o]=N.useState(!1),{register:l,handleSubmit:c,formState:{errors:u}}=Cd(),d=async h=>{try{s(!0),i("");const{error:f}=await bd.resetPassword(h.email);f?i(f.message):o(!0)}catch{i("An unexpected error occurred")}finally{s(!1)}};return a?n.jsx(_.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"text-center",children:n.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-6",children:[n.jsx("div",{className:"h-12 w-12 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:n.jsx(Js,{className:"h-6 w-6 text-green-600"})}),n.jsx("h3",{className:"text-lg font-semibold text-green-900 mb-2",children:"Reset Link Sent"}),n.jsx("p",{className:"text-green-700 mb-4",children:"If an account with that email exists, we've sent you a password reset link."}),n.jsxs("button",{onClick:e,className:"text-blue-600 hover:text-blue-500 font-medium flex items-center justify-center mx-auto",children:[n.jsx(Hf,{className:"h-4 w-4 mr-1"}),"Back to Sign In"]})]})}):n.jsxs(_.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:[n.jsxs("div",{className:"text-center mb-8",children:[n.jsx(Xo,{className:"h-12 w-12 text-blue-900 mx-auto mb-4"}),n.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:"Reset Password"}),n.jsx("p",{className:"text-gray-600 mt-2",children:"Enter your email to receive a reset link"})]}),n.jsxs("form",{onSubmit:c(d),className:"space-y-6",children:[r&&n.jsx(_.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg",children:r}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),n.jsxs("div",{className:"relative",children:[n.jsx(Js,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),n.jsx("input",{...l("email",{required:"Email is required",pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"Invalid email address"}}),type:"email",className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",placeholder:"Enter your email"})]}),u.email&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:u.email.message})]}),n.jsx(_.button,{whileHover:{scale:1.02},whileTap:{scale:.98},type:"submit",disabled:t,className:"w-full bg-blue-900 text-white py-3 px-4 rounded-lg font-medium hover:bg-blue-800 focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:t?"Sending Reset Link...":"Send Reset Link"})]}),n.jsx("div",{className:"mt-6 text-center",children:n.jsxs("button",{onClick:e,className:"text-blue-600 hover:text-blue-500 font-medium flex items-center justify-center mx-auto",children:[n.jsx(Hf,{className:"h-4 w-4 mr-1"}),"Back to Sign In"]})})]})},S_=()=>{const[e,t]=N.useState("login");return n.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-gray-50 flex items-center justify-center p-4",children:n.jsx(_.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"w-full max-w-md",children:n.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:[e==="login"&&n.jsx(b_,{onToggleMode:()=>t("register"),onForgotPassword:()=>t("forgot")}),e==="register"&&n.jsx(j_,{onToggleMode:()=>t("login")}),e==="forgot"&&n.jsx(N_,{onBack:()=>t("login")})]})})})},Xd=()=>{const{user:e,userProfile:t,loading:s}=tt(),[r,i]=N.useState(null),[a,o]=N.useState([]),[l,c]=N.useState(!0);N.useEffect(()=>{let w=!0,g;return(async()=>{if(!s){if(g=setTimeout(()=>{w&&(console.log("Permissions fetch timeout, setting loading to false"),c(!1))},3e3),!e){i(null),o([]),c(!1);return}try{console.log("Fetching permissions for user:",e.id);let p=t==null?void 0:t.role;if(!p){const{data:C}=await Z.from("user_profiles").select("role").eq("user_id",e.id).maybeSingle();p=C==null?void 0:C.role}e.email==="admin@legalportal.com"&&(p="admin"),p||(console.log("No role found, defaulting to client"),p="client"),console.log("User role:",p),i(p);const{data:v}=await Z.from("role_permissions").select(`
            permissions (
              name
            )
          `).eq("role",p),b=(v==null?void 0:v.map(C=>C.permissions.name))||[];if(p==="admin"){const{data:C}=await Z.from("permissions").select("name"),T=(C==null?void 0:C.map(D=>D.name))||[];o(T),console.log("Admin permissions granted:",T.length,"permissions")}else o(b),console.log("User permissions:",b);g&&clearTimeout(g)}catch(p){console.error("Error fetching user permissions:",p),i("client"),o([])}finally{w&&c(!1)}}})(),()=>{w=!1,g&&clearTimeout(g)}},[e,t,s]);const u=w=>a.includes(w);return{userRole:r,permissions:a,loading:l||s,hasPermission:u,canAccess:(w,g)=>u(`${w}.${g}`),isAdmin:()=>r==="admin",isAttorney:()=>r==="attorney",isParalegal:()=>r==="paralegal",isClient:()=>r==="client",isStaff:()=>["admin","attorney","paralegal"].includes(r||""),refetch:()=>{c(!0)}}},py=({currentImage:e,onImageChange:t,size:s="md"})=>{const[r,i]=N.useState(!1),[a,o]=N.useState(e||null),[l,c]=N.useState(!1),u=N.useRef(null),d={sm:"w-16 h-16",md:"w-24 h-24",lg:"w-32 h-32"},h=w=>{var m;const g=(m=w.target.files)==null?void 0:m[0];g&&f(g)},f=async w=>{if(!w.type.startsWith("image/")){alert("Please select an image file");return}if(w.size>5*1024*1024){alert("File size must be less than 5MB");return}i(!0);try{const g=new FileReader;g.onload=m=>{var v;const p=(v=m.target)==null?void 0:v.result;o(p),t(p)},g.readAsDataURL(w),await new Promise(m=>setTimeout(m,1500)),c(!1)}catch(g){console.error("Error uploading image:",g),alert("Failed to upload image. Please try again.")}finally{i(!1)}},x=w=>{w.preventDefault();const g=w.dataTransfer.files[0];g&&f(g)},y=w=>{w.preventDefault()},j=()=>{o(null),t(""),u.current&&(u.current.value="")};return n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"relative",children:[n.jsxs("div",{className:`${d[s]} relative rounded-full overflow-hidden bg-gray-100 border-2 border-gray-200`,children:[a?n.jsx("img",{src:a,alt:"Profile",className:"w-full h-full object-cover"}):n.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gray-100",children:n.jsx(dt,{className:"w-1/2 h-1/2 text-gray-400"})}),n.jsx(_.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>c(!0),className:"absolute inset-0 bg-black bg-opacity-50 flex items-center justify-center opacity-0 hover:opacity-100 transition-opacity",children:n.jsx(zg,{className:"w-6 h-6 text-white"})})]}),a&&n.jsx(_.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:j,className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full p-1 hover:bg-red-600 transition-colors",children:n.jsx(ts,{className:"w-3 h-3"})})]}),l&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:n.jsxs(_.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-white rounded-lg shadow-xl w-full max-w-md",children:[n.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Upload Profile Picture"}),n.jsx("button",{onClick:()=>c(!1),className:"text-gray-400 hover:text-gray-600 transition-colors",children:n.jsx(ts,{className:"h-5 w-5"})})]}),n.jsxs("div",{className:"p-6",children:[n.jsxs("div",{onDrop:x,onDragOver:y,className:"border-2 border-dashed border-gray-300 rounded-lg p-8 text-center hover:border-blue-400 transition-colors",children:[n.jsx(Ks,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),n.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-2",children:"Upload Image"}),n.jsx("p",{className:"text-gray-600 mb-4",children:"Drag and drop an image here, or click to select"}),n.jsx("input",{ref:u,type:"file",accept:"image/*",onChange:h,className:"hidden",id:"image-upload"}),n.jsx(_.label,{whileHover:{scale:1.02},whileTap:{scale:.98},htmlFor:"image-upload",className:"bg-blue-600 text-white px-6 py-3 rounded-lg font-medium hover:bg-blue-700 transition-colors cursor-pointer inline-block",children:r?"Uploading...":"Choose File"})]}),n.jsxs("div",{className:"mt-4 text-sm text-gray-500",children:[n.jsx("p",{children:" Supported formats: JPG, PNG, GIF"}),n.jsx("p",{children:" Maximum file size: 5MB"}),n.jsx("p",{children:" Recommended size: 400x400 pixels"})]}),r&&n.jsxs("div",{className:"mt-4",children:[n.jsx("div",{className:"bg-gray-200 rounded-full h-2",children:n.jsx("div",{className:"bg-blue-600 h-2 rounded-full animate-pulse",style:{width:"60%"}})}),n.jsx("p",{className:"text-sm text-gray-600 mt-2 text-center",children:"Uploading image..."})]})]})]})})]})},k_=()=>{const{user:e,userProfile:t,signOut:s,loading:r}=tt(),{userRole:i,isStaff:a,isAdmin:o}=Xd(),[l,c]=N.useState(!1),u=async()=>{if(!(l||r))try{c(!0),console.log("Header: Starting sign out..."),await s(),console.log("Header: Sign out completed")}catch(x){console.error("Header: Error during sign out:",x)}finally{c(!1)}},d=x=>{switch(x){case"admin":return"text-purple-600 bg-purple-50 border-purple-200";case"attorney":return"text-blue-600 bg-blue-50 border-blue-200";case"paralegal":return"text-green-600 bg-green-50 border-green-200";case"client":return"text-gray-600 bg-gray-50 border-gray-200";default:return"text-gray-600 bg-gray-50 border-gray-200"}},h=()=>{switch(i){case"admin":return"Admin Portal";case"attorney":return"Attorney Portal";case"paralegal":return"Paralegal Portal";case"client":return"Client Portal";default:return"Legal Portal"}},f=()=>o()?n.jsx(au,{className:"h-5 w-5 text-purple-600"}):a()?n.jsx(js,{className:"h-5 w-5 text-blue-600"}):n.jsx(dt,{className:"h-5 w-5 text-gray-600"});return n.jsx(_.header,{initial:{y:-20,opacity:0},animate:{y:0,opacity:1},className:"bg-white border-b border-gray-200 px-6 py-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(Xo,{className:"h-8 w-8 text-blue-900"}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"LegalPortal Pro"}),n.jsxs("div",{className:"flex items-center space-x-2",children:[f(),n.jsx("p",{className:"text-sm text-gray-500",children:h()})]})]})]}),o()&&n.jsxs("div",{className:"flex items-center space-x-2 px-3 py-1 bg-purple-50 border border-purple-200 rounded-full",children:[n.jsx(au,{className:"h-4 w-4 text-purple-600"}),n.jsx("span",{className:"text-sm font-medium text-purple-600",children:"Administrator"})]}),a()&&!o()&&n.jsxs("div",{className:"flex items-center space-x-2 px-3 py-1 bg-blue-50 border border-blue-200 rounded-full",children:[n.jsx(js,{className:"h-4 w-4 text-blue-600"}),n.jsx("span",{className:"text-sm font-medium text-blue-600",children:"Staff Access"})]})]}),n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsxs(_.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"p-2 text-gray-500 hover:text-gray-700 relative",children:[n.jsx(sn,{className:"h-5 w-5"}),n.jsx("span",{className:"absolute top-0 right-0 h-2 w-2 bg-red-500 rounded-full"})]}),n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(py,{currentImage:(t==null?void 0:t.profile_image_url)||"",onImageChange:()=>{},size:"sm"}),n.jsxs("div",{className:"hidden md:block",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("p",{className:"text-sm font-medium text-gray-900",children:t?`${t.first_name} ${t.last_name}`:e==null?void 0:e.email}),i&&n.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium border ${d(i)}`,children:i.charAt(0).toUpperCase()+i.slice(1)})]}),n.jsx("p",{className:"text-xs text-gray-500",children:e==null?void 0:e.email})]})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(_.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"p-2 text-gray-500 hover:text-gray-700 transition-colors",title:"Settings",children:n.jsx(Ed,{className:"h-5 w-5"})}),n.jsx(_.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"p-2 text-gray-500 hover:text-gray-700 transition-colors",title:"Security",children:n.jsx(yt,{className:"h-5 w-5"})}),n.jsx(_.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:u,disabled:r||l,className:`p-2 transition-colors ${r||l?"text-gray-300 cursor-not-allowed":"text-gray-500 hover:text-red-600"}`,title:"Sign Out",children:r||l?n.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-gray-400"}):n.jsx(G1,{className:"h-5 w-5"})})]})]})]})})},__=({activeTab:e,setActiveTab:t})=>{const{userRole:s,isStaff:r,isAdmin:i,loading:a}=Xd();if(console.log("Sidebar render - loading:",a,"userRole:",s,"isAdmin:",i()),a)return n.jsx("aside",{className:"w-64 bg-gray-50 border-r border-gray-200 h-full overflow-y-auto",children:n.jsx("nav",{className:"p-6",children:n.jsx("div",{className:"animate-pulse space-y-3",children:[1,2,3,4,5].map(c=>n.jsx("div",{className:"h-10 bg-gray-200 rounded"},c))})})});const l=(()=>{const c=[{id:"dashboard",label:"Dashboard",icon:W1,roles:["admin","attorney","paralegal","client"]}],u=[{id:"cases",label:"My Cases",icon:pe,roles:["client"]},{id:"tasks",label:"Tasks",icon:yo,roles:["client"]},{id:"messages",label:"Messages",icon:wt,roles:["client"]},{id:"documents",label:"Documents",icon:Ks,roles:["client"]},{id:"video",label:"Video Calls",icon:Jt,roles:["client"]},{id:"billing",label:"Billing",icon:Tr,roles:["client"]},{id:"analytics",label:"Analytics",icon:iu,roles:["client"]},{id:"transparency",label:"Transparency",icon:ws,badge:"NEW",roles:["client"]},{id:"proactive",label:"Smart Alerts",icon:hi,badge:"AI",roles:["client"]},{id:"value-added",label:"Resources",icon:Gi,roles:["client"]},{id:"ai",label:"AI Assistant",icon:xo,roles:["client"]}],d=[{id:"cases",label:"Cases",icon:pe,roles:["admin","attorney","paralegal"]},{id:"clients",label:"Clients",icon:js,roles:["admin","attorney","paralegal"]},{id:"tasks",label:"Tasks",icon:yo,roles:["admin","attorney","paralegal"]},{id:"messages",label:"Messages",icon:wt,roles:["admin","attorney","paralegal"]},{id:"documents",label:"Documents",icon:Ks,roles:["admin","attorney","paralegal"]},{id:"video",label:"Video Calls",icon:Jt,roles:["admin","attorney","paralegal"]},{id:"calendar",label:"Calendar",icon:We,roles:["admin","attorney","paralegal"]},{id:"time-tracking",label:"Time Tracking",icon:Ke,roles:["admin","attorney","paralegal"]},{id:"billing",label:"Billing",icon:Tr,roles:["admin","attorney"]},{id:"analytics",label:"Analytics",icon:iu,roles:["admin","attorney"]},{id:"reports",label:"Reports",icon:bs,roles:["admin","attorney"]},{id:"ai",label:"AI Assistant",icon:xo,roles:["admin","attorney","paralegal"]}],h=[{id:"user-management",label:"User Management",icon:mn,roles:["admin"],badge:"ADMIN"},{id:"firm-settings",label:"Firm Settings",icon:z1,roles:["admin"],badge:"ADMIN"}],f=[{id:"settings",label:"Settings",icon:Ed,roles:["admin","attorney","paralegal","client"]},{id:"security",label:"Security",icon:yt,roles:["admin","attorney","paralegal","client"]}];let x=[...c];r()?x=[...x,...d]:x=[...x,...u],i()&&(x=[...x,...h]),x=[...x,...f];const y=s||"client";return x.filter(j=>j.roles.includes(y))})();return n.jsx(_.aside,{initial:{x:-20,opacity:0},animate:{x:0,opacity:1},className:"w-64 bg-gray-50 border-r border-gray-200 h-full overflow-y-auto",children:n.jsxs("nav",{className:"p-6",children:[n.jsxs("div",{className:"mb-6 p-3 bg-gradient-to-r from-blue-50 to-purple-50 rounded-lg border border-blue-200",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("div",{className:`w-3 h-3 rounded-full ${s==="admin"?"bg-purple-500":s==="attorney"?"bg-blue-500":s==="paralegal"?"bg-green-500":"bg-gray-500"}`}),n.jsxs("span",{className:"text-sm font-medium text-gray-700 capitalize flex items-center space-x-1",children:[i()&&n.jsx(au,{className:"h-3 w-3 text-purple-600"}),n.jsxs("span",{children:[s||"Client"," Portal"]})]})]}),i()&&n.jsx("div",{className:"mt-2 text-xs text-purple-600 font-medium",children:"Full System Access"})]}),n.jsx("ul",{className:"space-y-2",children:l.map(c=>{const u=c.icon,d=e===c.id;return n.jsx("li",{children:n.jsxs(_.button,{whileHover:{x:4},whileTap:{scale:.98},onClick:()=>t(c.id),className:`w-full flex items-center space-x-3 px-4 py-3 rounded-lg text-left transition-all duration-200 ${d?"bg-blue-900 text-white shadow-lg":"text-gray-700 hover:bg-gray-100"}`,children:[n.jsx(u,{className:"h-5 w-5"}),n.jsx("span",{className:"font-medium",children:c.label}),c.badge&&n.jsx("span",{className:`text-xs px-2 py-1 rounded-full font-bold ${c.badge==="NEW"?"bg-green-500 text-white":c.badge==="AI"?"bg-gradient-to-r from-purple-400 to-pink-400 text-white":c.badge==="ADMIN"?"bg-purple-500 text-white":"bg-blue-500 text-white"}`,children:c.badge})]})},c.id)})})]})})},gy=({isOpen:e,onClose:t,caseId:s,caseName:r})=>{const{user:i}=tt(),[a,o]=N.useState(""),[l,c]=N.useState(""),[u,d]=N.useState(!1),[h,f]=N.useState(!1),x=async()=>{if(!(!a.trim()||!i)){d(!0);try{const{error:y}=await Z.from("messages").insert({case_id:s,sender_id:i.id,content:`Subject: ${l}

${a}`});if(y)throw y;f(!0),setTimeout(()=>{f(!1),t(),o(""),c("")},2e3)}catch(y){console.error("Error sending message:",y)}finally{d(!1)}}};return n.jsx(Mr,{children:e&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:n.jsxs(_.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-white rounded-lg shadow-xl w-full max-w-md",children:[n.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(wt,{className:"h-6 w-6 text-blue-600"}),n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Send Message"})]}),n.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 transition-colors",children:n.jsx(ts,{className:"h-5 w-5"})})]}),h?n.jsxs("div",{className:"p-6 text-center",children:[n.jsx("div",{className:"bg-green-100 rounded-full w-16 h-16 flex items-center justify-center mx-auto mb-4",children:n.jsx(lu,{className:"h-8 w-8 text-green-600"})}),n.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Message Sent!"}),n.jsx("p",{className:"text-gray-600",children:"Your message has been sent to your legal team."})]}):n.jsxs("div",{className:"p-6 space-y-4",children:[r&&n.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:n.jsxs("p",{className:"text-sm text-blue-800",children:[n.jsx("strong",{children:"Case:"})," ",r]})}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Subject"}),n.jsx("input",{type:"text",value:l,onChange:y=>c(y.target.value),placeholder:"Enter message subject",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Message"}),n.jsx("textarea",{value:a,onChange:y=>o(y.target.value),placeholder:"Type your message here...",rows:6,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 resize-none"})]}),n.jsxs("div",{className:"flex space-x-3 pt-4",children:[n.jsx("button",{onClick:t,className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),n.jsxs(_.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:x,disabled:u||!a.trim(),className:"flex-1 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center space-x-2",children:[n.jsx(lu,{className:"h-4 w-4"}),n.jsx("span",{children:u?"Sending...":"Send Message"})]})]})]})]})})})},xy=({isOpen:e,onClose:t,caseId:s,caseName:r})=>{const{user:i}=tt(),[a,o]=N.useState([]),[l,c]=N.useState(!1),[u,d]=N.useState(!1),h=N.useCallback(m=>{m.preventDefault(),m.stopPropagation(),m.type==="dragenter"||m.type==="dragover"?c(!0):m.type==="dragleave"&&c(!1)},[]),f=N.useCallback(m=>{m.preventDefault(),m.stopPropagation(),c(!1),m.dataTransfer.files&&m.dataTransfer.files[0]&&x(Array.from(m.dataTransfer.files))},[]),x=m=>{const p=m.map(v=>({file:v,id:Math.random().toString(36).substr(2,9),progress:0,status:"pending"}));o(v=>[...v,...p])},y=m=>{o(p=>p.filter(v=>v.id!==m))},j=async()=>{if(!(!i||a.length===0)){d(!0);for(const m of a)if(m.status==="pending")try{o(v=>v.map(b=>b.id===m.id?{...b,status:"uploading",progress:0}:b));for(let v=0;v<=100;v+=10)await new Promise(b=>setTimeout(b,100)),o(b=>b.map(C=>C.id===m.id?{...C,progress:v}:C));const{error:p}=await Z.from("documents").insert({case_id:s,name:m.file.name,file_path:`/uploads/${m.file.name}`,file_size:m.file.size,mime_type:m.file.type,uploaded_by:i.id});if(p)throw p;o(v=>v.map(b=>b.id===m.id?{...b,status:"success",progress:100}:b))}catch{o(v=>v.map(b=>b.id===m.id?{...b,status:"error",error:"Upload failed"}:b))}d(!1),setTimeout(()=>{a.every(m=>m.status==="success")&&(t(),o([]))},2e3)}},w=m=>m.includes("pdf")?"":m.includes("image")?"":m.includes("word")||m.includes("document")?"":"",g=m=>{if(m===0)return"0 Bytes";const p=1024,v=["Bytes","KB","MB","GB"],b=Math.floor(Math.log(m)/Math.log(p));return parseFloat((m/Math.pow(p,b)).toFixed(2))+" "+v[b]};return n.jsx(Mr,{children:e&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:n.jsxs(_.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-white rounded-lg shadow-xl w-full max-w-2xl max-h-[90vh] overflow-hidden",children:[n.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(Ks,{className:"h-6 w-6 text-blue-600"}),n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Upload Documents"})]}),n.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 transition-colors",children:n.jsx(ts,{className:"h-5 w-5"})})]}),n.jsxs("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-140px)]",children:[r&&n.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3 mb-6",children:n.jsxs("p",{className:"text-sm text-blue-800",children:[n.jsx("strong",{children:"Case:"})," ",r]})}),n.jsxs("div",{className:`border-2 border-dashed rounded-lg p-8 text-center transition-colors mb-6 ${l?"border-blue-500 bg-blue-50":"border-gray-300 bg-gray-50"}`,onDragEnter:h,onDragLeave:h,onDragOver:h,onDrop:f,children:[n.jsx(Ks,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),n.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-2",children:"Upload Documents"}),n.jsx("p",{className:"text-gray-600 mb-4",children:"Drag and drop files here, or click to select"}),n.jsx("input",{type:"file",multiple:!0,onChange:m=>m.target.files&&x(Array.from(m.target.files)),className:"hidden",id:"file-upload"}),n.jsx("label",{htmlFor:"file-upload",className:"bg-white border border-gray-300 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-50 transition-colors cursor-pointer inline-block",children:"Choose Files"})]}),a.length>0&&n.jsxs("div",{className:"space-y-3",children:[n.jsx("h4",{className:"font-medium text-gray-900",children:"Files to Upload"}),a.map(m=>n.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("span",{className:"text-2xl",children:w(m.file.type)}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-gray-900",children:m.file.name}),n.jsx("p",{className:"text-sm text-gray-500",children:g(m.file.size)})]})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[m.status==="success"&&n.jsx(vs,{className:"h-5 w-5 text-green-500"}),m.status==="error"&&n.jsx(Td,{className:"h-5 w-5 text-red-500"}),m.status==="pending"&&n.jsx("button",{onClick:()=>y(m.id),className:"text-gray-400 hover:text-red-500 transition-colors",children:n.jsx(ts,{className:"h-4 w-4"})})]})]}),m.status==="uploading"&&n.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:n.jsx("div",{className:"bg-blue-500 h-2 rounded-full transition-all duration-300",style:{width:`${m.progress}%`}})}),m.status==="error"&&m.error&&n.jsx("p",{className:"text-sm text-red-600 mt-1",children:m.error})]},m.id))]}),n.jsxs("div",{className:"flex space-x-3 pt-6 border-t border-gray-200 mt-6",children:[n.jsx("button",{onClick:t,className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),n.jsxs(_.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:j,disabled:u||a.length===0||a.every(m=>m.status!=="pending"),className:"flex-1 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center space-x-2",children:[n.jsx(Ks,{className:"h-4 w-4"}),n.jsx("span",{children:u?"Uploading...":"Upload Files"})]})]})]})]})})})},eh=({isOpen:e,onClose:t,caseId:s,caseName:r})=>{const[i,a]=N.useState("video"),[o,l]=N.useState(""),[c,u]=N.useState(""),[d,h]=N.useState("30"),[f,x]=N.useState(""),[y,j]=N.useState(""),[w,g]=N.useState(!1),[m,p]=N.useState(!1),v=async()=>{if(!(!o||!c||!f.trim())){g(!0);try{await new Promise(T=>setTimeout(T,1500)),p(!0),setTimeout(()=>{p(!1),t(),l(""),u(""),x(""),j(""),a("video"),h("30")},2e3)}catch(T){console.error("Error scheduling meeting:",T)}finally{g(!1)}}},b=T=>{switch(T){case"video":return n.jsx(Jt,{className:"h-5 w-5"});case"phone":return n.jsx(wt,{className:"h-5 w-5"});case"in-person":return n.jsx(dt,{className:"h-5 w-5"});default:return n.jsx(We,{className:"h-5 w-5"})}},C=()=>new Date().toISOString().split("T")[0];return n.jsx(Mr,{children:e&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:n.jsxs(_.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-white rounded-lg shadow-xl w-full max-w-md max-h-[90vh] overflow-hidden",children:[n.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(We,{className:"h-6 w-6 text-blue-600"}),n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Schedule Consultation"})]}),n.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 transition-colors",children:n.jsx(ts,{className:"h-5 w-5"})})]}),m?n.jsxs("div",{className:"p-6 text-center",children:[n.jsx("div",{className:"bg-green-100 rounded-full w-16 h-16 flex items-center justify-center mx-auto mb-4",children:n.jsx(We,{className:"h-8 w-8 text-green-600"})}),n.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Meeting Scheduled!"}),n.jsx("p",{className:"text-gray-600",children:"Your consultation has been scheduled. You'll receive a confirmation email shortly."})]}):n.jsxs("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-140px)] space-y-4",children:[r&&n.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:n.jsxs("p",{className:"text-sm text-blue-800",children:[n.jsx("strong",{children:"Case:"})," ",r]})}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Meeting Type"}),n.jsx("div",{className:"grid grid-cols-3 gap-2",children:[{value:"video",label:"Video Call",icon:Jt},{value:"phone",label:"Phone Call",icon:wt},{value:"in-person",label:"In Person",icon:dt}].map(({value:T,label:D,icon:$})=>n.jsxs("button",{onClick:()=>a(T),className:`p-3 rounded-lg border-2 transition-colors ${i===T?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-200 hover:border-gray-300"}`,children:[n.jsx($,{className:"h-5 w-5 mx-auto mb-1"}),n.jsx("span",{className:"text-xs font-medium",children:D})]},T))})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Date"}),n.jsx("input",{type:"date",value:o,onChange:T=>l(T.target.value),min:C(),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Time"}),n.jsx("input",{type:"time",value:c,onChange:T=>u(T.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Duration"}),n.jsxs("select",{value:d,onChange:T=>h(T.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[n.jsx("option",{value:"15",children:"15 minutes"}),n.jsx("option",{value:"30",children:"30 minutes"}),n.jsx("option",{value:"45",children:"45 minutes"}),n.jsx("option",{value:"60",children:"1 hour"}),n.jsx("option",{value:"90",children:"1.5 hours"}),n.jsx("option",{value:"120",children:"2 hours"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Meeting Topic *"}),n.jsx("input",{type:"text",value:f,onChange:T=>x(T.target.value),placeholder:"What would you like to discuss?",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Additional Notes"}),n.jsx("textarea",{value:y,onChange:T=>j(T.target.value),placeholder:"Any additional information or questions...",rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 resize-none"})]}),n.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-3",children:n.jsxs("p",{className:"text-sm text-yellow-800",children:[n.jsx("strong",{children:"Note:"})," Meeting requests are subject to attorney availability. You'll receive confirmation within 24 hours."]})}),n.jsxs("div",{className:"flex space-x-3 pt-4",children:[n.jsx("button",{onClick:t,className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),n.jsxs(_.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:v,disabled:w||!o||!c||!f.trim(),className:"flex-1 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center space-x-2",children:[b(i),n.jsx("span",{children:w?"Scheduling...":"Schedule Meeting"})]})]})]})]})})})},Jm=()=>{const{user:e}=tt(),[t,s]=N.useState({activeCases:0,unreadMessages:0,pendingDocuments:0,upcomingDeadlines:0}),[r,i]=N.useState([]),[a,o]=N.useState([]),[l,c]=N.useState(!1),[u,d]=N.useState(!1),[h,f]=N.useState(!1);N.useEffect(()=>{x()},[e]);const x=async()=>{if(e)try{const{data:m}=await Z.from("clients").select("id").eq("user_id",e.id).single();if(m){const{count:p}=await Z.from("cases").select("*",{count:"exact",head:!0}).eq("client_id",m.id).eq("status","active"),{count:v}=await Z.from("messages").select("*",{count:"exact",head:!0}).is("read_at",null).neq("sender_id",e.id);s({activeCases:p||0,unreadMessages:v||0,pendingDocuments:3,upcomingDeadlines:2});const{data:b}=await Z.from("cases").select("*").eq("client_id",m.id).order("updated_at",{ascending:!1}).limit(5);i(b||[]),o([{id:"1",type:"transparency",title:"Billing Transparency Available",description:"View detailed breakdown of all legal costs and time spent on your matters.",action:"View Transparency Dashboard",priority:"medium"},{id:"2",type:"proactive",title:"Contract Renewal Alert",description:"Your employment contract expires in 30 days. Early action recommended.",action:"View Smart Alerts",priority:"high"},{id:"3",type:"value-added",title:"New Legal Resources Available",description:"Access exclusive guides and templates for business growth.",action:"Explore Resources",priority:"low"}])}}catch(m){console.error("Error fetching dashboard data:",m)}},y=m=>{switch(m){case"transparency":return n.jsx(ws,{className:"h-5 w-5"});case"proactive":return n.jsx(hi,{className:"h-5 w-5"});case"value-added":return n.jsx(Gi,{className:"h-5 w-5"});default:return n.jsx(vs,{className:"h-5 w-5"})}},j=m=>{switch(m){case"transparency":return"text-blue-600 bg-blue-50";case"proactive":return"text-yellow-600 bg-yellow-50";case"value-added":return"text-purple-600 bg-purple-50";default:return"text-gray-600 bg-gray-50"}},w=m=>{switch(m){case"high":return"border-l-red-500";case"medium":return"border-l-yellow-500";case"low":return"border-l-green-500";default:return"border-l-gray-500"}},g=[{title:"Active Cases",value:t.activeCases,icon:pe,color:"bg-blue-500",textColor:"text-blue-600"},{title:"Unread Messages",value:t.unreadMessages,icon:wt,color:"bg-green-500",textColor:"text-green-600"},{title:"Pending Documents",value:t.pendingDocuments,icon:Ke,color:"bg-yellow-500",textColor:"text-yellow-600"},{title:"Upcoming Deadlines",value:t.upcomingDeadlines,icon:Nn,color:"bg-red-500",textColor:"text-red-600"}];return n.jsxs("div",{className:"p-6",children:[n.jsxs(_.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-8",children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Welcome back"}),n.jsx("p",{className:"text-gray-600",children:"Here's an overview of your legal matters"})]}),n.jsx(_.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-8 bg-gradient-to-r from-blue-600 to-purple-600 rounded-lg p-6 text-white",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-xl font-bold mb-2",children:" Next-Generation Legal Services"}),n.jsx("p",{className:"text-blue-100",children:"Experience 100% transparent billing, AI-powered insights, and exclusive client resources"})]}),n.jsx("div",{className:"flex space-x-2",children:n.jsx(_.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"bg-white bg-opacity-20 text-white px-4 py-2 rounded-lg hover:bg-opacity-30 transition-colors",children:"Learn More"})})]})}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:g.map((m,p)=>{const v=m.icon;return n.jsx(_.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:p*.1},className:"bg-white rounded-lg p-6 shadow-sm border border-gray-200 hover:shadow-md transition-shadow",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:m.title}),n.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:m.value})]}),n.jsx("div",{className:`${m.color} p-3 rounded-lg`,children:n.jsx(v,{className:"h-6 w-6 text-white"})})]})},m.title)})}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[n.jsxs(_.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:"lg:col-span-2 bg-white rounded-lg p-6 shadow-sm border border-gray-200",children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Smart Insights"}),n.jsx("div",{className:"space-y-4",children:a.map(m=>n.jsx("div",{className:`border-l-4 ${w(m.priority)} bg-gray-50 p-4 rounded-r-lg`,children:n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{className:"flex items-start space-x-3",children:[n.jsx("div",{className:`p-2 rounded-lg ${j(m.type)}`,children:y(m.type)}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-medium text-gray-900",children:m.title}),n.jsx("p",{className:"text-sm text-gray-600 mt-1",children:m.description})]})]}),n.jsx(_.button,{whileHover:{scale:1.02},whileTap:{scale:.98},className:"bg-blue-600 text-white px-3 py-1 rounded text-sm hover:bg-blue-700 transition-colors",children:m.action})]})},m.id))})]}),n.jsxs(_.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"bg-white rounded-lg p-6 shadow-sm border border-gray-200",children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Quick Actions"}),n.jsxs("div",{className:"space-y-3",children:[n.jsx(_.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>c(!0),className:"w-full bg-blue-50 text-blue-700 p-4 rounded-lg text-left hover:bg-blue-100 transition-colors",children:n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(wt,{className:"h-5 w-5"}),n.jsx("span",{className:"font-medium",children:"Send a Message"})]})}),n.jsx(_.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>d(!0),className:"w-full bg-green-50 text-green-700 p-4 rounded-lg text-left hover:bg-green-100 transition-colors",children:n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(pe,{className:"h-5 w-5"}),n.jsx("span",{className:"font-medium",children:"Upload Document"})]})}),n.jsx(_.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>f(!0),className:"w-full bg-purple-50 text-purple-700 p-4 rounded-lg text-left hover:bg-purple-100 transition-colors",children:n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(Ke,{className:"h-5 w-5"}),n.jsx("span",{className:"font-medium",children:"Schedule Consultation"})]})})]})]})]}),n.jsxs(_.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mt-6 bg-white rounded-lg p-6 shadow-sm border border-gray-200",children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Recent Activity"}),n.jsx("div",{className:"space-y-4",children:r.length>0?r.map((m,p)=>n.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-50 rounded-lg",children:[n.jsx("div",{className:"flex-shrink-0",children:n.jsx(vs,{className:"h-5 w-5 text-green-500"})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("p",{className:"text-sm font-medium text-gray-900",children:m.title}),n.jsx("p",{className:"text-sm text-gray-500",children:m.description})]}),n.jsx("div",{className:"text-sm text-gray-400",children:new Date(m.updated_at).toLocaleDateString()})]},m.id)):n.jsx("p",{className:"text-gray-500 text-center py-4",children:"No recent activity"})})]}),n.jsx(gy,{isOpen:l,onClose:()=>c(!1)}),n.jsx(xy,{isOpen:u,onClose:()=>d(!1)}),n.jsx(eh,{isOpen:h,onClose:()=>f(!1)})]})},C_=({caseId:e,events:t})=>{const s=(i,a)=>{const o=a==="completed"?"text-green-500":a==="overdue"?"text-red-500":"text-yellow-500";switch(i){case"milestone":return n.jsx(vs,{className:`h-5 w-5 ${o}`});case"document":return n.jsx(pe,{className:`h-5 w-5 ${o}`});case"meeting":return n.jsx(wt,{className:`h-5 w-5 ${o}`});case"deadline":return n.jsx(Ke,{className:`h-5 w-5 ${o}`});case"payment":return n.jsx(We,{className:`h-5 w-5 ${o}`});default:return n.jsx(Nn,{className:`h-5 w-5 ${o}`})}},r=i=>{switch(i){case"completed":return"bg-green-100 border-green-200";case"overdue":return"bg-red-100 border-red-200";case"pending":return"bg-yellow-100 border-yellow-200";default:return"bg-gray-100 border-gray-200"}};return n.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Case Timeline"}),n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"absolute left-6 top-0 bottom-0 w-0.5 bg-gray-200"}),n.jsx("div",{className:"space-y-6",children:t.map((i,a)=>n.jsxs(_.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:a*.1},className:"relative flex items-start space-x-4",children:[n.jsx("div",{className:`relative z-10 flex items-center justify-center w-12 h-12 rounded-full border-2 ${r(i.status)}`,children:s(i.type,i.status)}),n.jsx("div",{className:"flex-1 min-w-0",children:n.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4 shadow-sm",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("h4",{className:"font-medium text-gray-900",children:i.title}),n.jsx("span",{className:"text-sm text-gray-500",children:new Date(i.date).toLocaleDateString()})]}),n.jsx("p",{className:"text-sm text-gray-600 mb-2",children:i.description}),i.details&&n.jsx("div",{className:"mt-3 p-3 bg-gray-50 rounded-lg",children:n.jsx("div",{className:"text-xs text-gray-500 space-y-1",children:Object.entries(i.details).map(([o,l])=>n.jsxs("div",{className:"flex justify-between",children:[n.jsxs("span",{className:"capitalize",children:[o.replace("_"," "),":"]}),n.jsx("span",{className:"font-medium",children:String(l)})]},o))})})]})})]},i.id))})]})]})},T_=()=>{const{user:e}=tt(),[t,s]=N.useState([]),[r,i]=N.useState(null),[a,o]=N.useState([]),[l,c]=N.useState(!0),[u,d]=N.useState(""),[h,f]=N.useState("all"),[x,y]=N.useState(!1),[j,w]=N.useState(!1),[g,m]=N.useState(!1),[p,v]=N.useState(!1);N.useEffect(()=>{b()},[e]);const b=async()=>{if(e)try{const{data:k}=await Z.from("user_profiles").select("role").eq("user_id",e.id).maybeSingle();if(!k||k.role!=="client"){s([]),c(!1);return}const{data:O}=await Z.from("clients").select("id").eq("user_id",e.id).maybeSingle();if(O){const{data:L,error:W}=await Z.from("cases").select("*").eq("client_id",O.id).order("updated_at",{ascending:!1});if(W)console.error("Error fetching cases:",W);else{const ee=(L||[]).map(X=>({...X,progress:Math.floor(Math.random()*100),nextDeadline:new Date(Date.now()+Math.random()*30*24*60*60*1e3).toISOString(),assignedLawyer:"Attorney Smith"}));s(ee)}}}catch(k){console.error("Error fetching cases:",k)}finally{c(!1)}},C=k=>{o([{id:"1",title:"Case Initiated",description:"Initial consultation completed and case opened",date:"2024-01-10",type:"milestone",status:"completed",details:{lawyer:"Attorney Smith",duration:"60 minutes"}},{id:"2",title:"Document Review",description:"Contract documents submitted and under review",date:"2024-01-15",type:"document",status:"completed",details:{documents:5,pages:45}},{id:"3",title:"Client Meeting",description:"Strategy discussion and case planning session",date:"2024-01-20",type:"meeting",status:"completed",details:{attendees:3,location:"Video Conference"}},{id:"4",title:"Discovery Deadline",description:"Submit all discovery materials to opposing counsel",date:"2024-02-01",type:"deadline",status:"pending",details:{priority:"High",estimated_hours:8}},{id:"5",title:"Retainer Payment",description:"Monthly retainer payment due",date:"2024-02-05",type:"payment",status:"pending",details:{amount:"$2,500",method:"Auto-pay"}}])},T=k=>{switch(k){case"active":return n.jsx(vs,{className:"h-5 w-5 text-green-500"});case"pending":return n.jsx(Ke,{className:"h-5 w-5 text-yellow-500"});case"closed":return n.jsx(Td,{className:"h-5 w-5 text-gray-500"});default:return n.jsx(pe,{className:"h-5 w-5 text-blue-500"})}},D=k=>{switch(k){case"active":return"bg-green-100 text-green-800";case"pending":return"bg-yellow-100 text-yellow-800";case"closed":return"bg-gray-100 text-gray-800";default:return"bg-blue-100 text-blue-800"}},$=k=>{i(k),C(k.id),y(!0)},z=t.filter(k=>{const O=k.title.toLowerCase().includes(u.toLowerCase())||k.description.toLowerCase().includes(u.toLowerCase()),L=h==="all"||k.status===h;return O&&L});return l?n.jsx("div",{className:"p-6",children:n.jsxs("div",{className:"animate-pulse space-y-4",children:[n.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/4"}),n.jsx("div",{className:"space-y-3",children:[1,2,3].map(k=>n.jsx("div",{className:"h-24 bg-gray-200 rounded"},k))})]})}):x&&r?n.jsxs("div",{className:"p-6",children:[n.jsxs("div",{className:"mb-6",children:[n.jsx(_.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>y(!1),className:"text-blue-600 hover:text-blue-800 font-medium mb-4",children:" Back to Cases"}),n.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:r.title}),n.jsx("p",{className:"text-gray-600",children:r.description})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[n.jsxs("div",{className:"lg:col-span-1",children:[n.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6 mb-6",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Case Details"}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Status:"}),n.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${D(r.status)}`,children:r.status.charAt(0).toUpperCase()+r.status.slice(1)})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Progress:"}),n.jsxs("span",{className:"font-medium",children:[r.progress,"%"]})]}),n.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:n.jsx("div",{className:"bg-blue-500 h-2 rounded-full transition-all duration-500",style:{width:`${r.progress}%`}})}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Assigned Lawyer:"}),n.jsx("span",{className:"font-medium",children:r.assignedLawyer})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Next Deadline:"}),n.jsx("span",{className:"font-medium",children:r.nextDeadline?new Date(r.nextDeadline).toLocaleDateString():"None"})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Created:"}),n.jsx("span",{className:"font-medium",children:new Date(r.created_at).toLocaleDateString()})]})]})]}),n.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Quick Actions"}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs(_.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>w(!0),className:"w-full bg-blue-50 text-blue-700 p-3 rounded-lg text-left hover:bg-blue-100 transition-colors flex items-center space-x-2",children:[n.jsx(wt,{className:"h-4 w-4"}),n.jsx("span",{children:"Send Message"})]}),n.jsxs(_.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>m(!0),className:"w-full bg-green-50 text-green-700 p-3 rounded-lg text-left hover:bg-green-100 transition-colors flex items-center space-x-2",children:[n.jsx(pe,{className:"h-4 w-4"}),n.jsx("span",{children:"Upload Document"})]}),n.jsxs(_.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>v(!0),className:"w-full bg-purple-50 text-purple-700 p-3 rounded-lg text-left hover:bg-purple-100 transition-colors flex items-center space-x-2",children:[n.jsx(We,{className:"h-4 w-4"}),n.jsx("span",{children:"Schedule Meeting"})]})]})]})]}),n.jsx("div",{className:"lg:col-span-2",children:n.jsx(C_,{caseId:r.id,events:a})})]}),n.jsx(gy,{isOpen:j,onClose:()=>w(!1),caseId:r.id,caseName:r.title}),n.jsx(xy,{isOpen:g,onClose:()=>m(!1),caseId:r.id,caseName:r.title}),n.jsx(eh,{isOpen:p,onClose:()=>v(!1),caseId:r.id,caseName:r.title})]}):n.jsxs("div",{className:"p-6",children:[n.jsxs(_.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-8",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"My Cases"}),n.jsx("p",{className:"text-gray-600 mt-1",children:"Track and manage your legal matters"})]}),n.jsxs(_.button,{whileHover:{scale:1.02},whileTap:{scale:.98},className:"bg-blue-900 text-white px-4 py-2 rounded-lg font-medium hover:bg-blue-800 transition-colors flex items-center space-x-2",children:[n.jsx(us,{className:"h-4 w-4"}),n.jsx("span",{children:"New Case Request"})]})]}),n.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-6",children:[n.jsxs("div",{className:"relative flex-1",children:[n.jsx(Dr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),n.jsx("input",{type:"text",placeholder:"Search cases...",value:u,onChange:k=>d(k.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),n.jsxs("div",{className:"relative",children:[n.jsx(Zo,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),n.jsxs("select",{value:h,onChange:k=>f(k.target.value),className:"pl-10 pr-8 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white",children:[n.jsx("option",{value:"all",children:"All Status"}),n.jsx("option",{value:"active",children:"Active"}),n.jsx("option",{value:"pending",children:"Pending"}),n.jsx("option",{value:"closed",children:"Closed"})]})]})]})]}),z.length===0?n.jsxs(_.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center py-12",children:[n.jsx(pe,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No cases found"}),n.jsx("p",{className:"text-gray-500 mb-6",children:u||h!=="all"?"Try adjusting your search or filter criteria":"You don't have any cases yet. Contact your legal team to get started."})]}):n.jsx("div",{className:"grid gap-6",children:z.map((k,O)=>n.jsx(_.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:O*.1},className:"bg-white rounded-lg border border-gray-200 p-6 hover:shadow-md transition-shadow cursor-pointer",onClick:()=>$(k),children:n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[T(k.status),n.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:k.title}),n.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${D(k.status)}`,children:k.status.charAt(0).toUpperCase()+k.status.slice(1)})]}),n.jsx("p",{className:"text-gray-600 mb-4 line-clamp-2",children:k.description}),n.jsxs("div",{className:"mb-4",children:[n.jsxs("div",{className:"flex justify-between text-sm text-gray-600 mb-1",children:[n.jsx("span",{children:"Progress"}),n.jsxs("span",{children:[k.progress,"%"]})]}),n.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:n.jsx("div",{className:"bg-blue-500 h-2 rounded-full transition-all duration-500",style:{width:`${k.progress}%`}})})]}),n.jsxs("div",{className:"flex items-center space-x-6 text-sm text-gray-500",children:[n.jsxs("div",{className:"flex items-center space-x-1",children:[n.jsx(We,{className:"h-4 w-4"}),n.jsxs("span",{children:["Created: ",new Date(k.created_at).toLocaleDateString()]})]}),n.jsxs("div",{className:"flex items-center space-x-1",children:[n.jsx(Ke,{className:"h-4 w-4"}),n.jsxs("span",{children:["Updated: ",new Date(k.updated_at).toLocaleDateString()]})]}),n.jsxs("div",{className:"flex items-center space-x-1",children:[n.jsx(js,{className:"h-4 w-4"}),n.jsx("span",{children:k.assignedLawyer})]})]})]}),n.jsx("div",{className:"flex items-center space-x-2",children:n.jsx(_.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:L=>{L.stopPropagation(),$(k)},className:"text-blue-600 hover:text-blue-800 font-medium",children:"View Timeline"})})]})},k.id))})]})},P_=()=>{var u,d;const[e,t]=N.useState(null),[s,r]=N.useState(""),[i,a]=N.useState(""),o=[{id:"1",caseName:"Contract Review - ABC Corp",lastMessage:"I've reviewed the contract and have some questions...",timestamp:"2 hours ago",unread:2,messages:[{id:"1",sender:"client",content:"Hi, I have some questions about the contract terms.",timestamp:"10:30 AM"},{id:"2",sender:"lawyer",content:"Of course! I'd be happy to help clarify any terms for you.",timestamp:"10:45 AM"}]},{id:"2",caseName:"Employment Dispute",lastMessage:"Thank you for the update on the case status.",timestamp:"1 day ago",unread:0,messages:[{id:"1",sender:"lawyer",content:"I wanted to update you on the progress of your case.",timestamp:"Yesterday 2:15 PM"}]}],l=()=>{s.trim()&&(console.log("Sending message:",s),r(""))},c=o.filter(h=>h.caseName.toLowerCase().includes(i.toLowerCase()));return n.jsxs("div",{className:"p-6 h-full",children:[n.jsxs(_.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-6",children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Messages"}),n.jsx("p",{className:"text-gray-600",children:"Secure communication with your legal team"})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 h-[calc(100vh-200px)]",children:[n.jsxs("div",{className:"lg:col-span-1 bg-white rounded-lg border border-gray-200 overflow-hidden",children:[n.jsx("div",{className:"p-4 border-b border-gray-200",children:n.jsxs("div",{className:"relative",children:[n.jsx(Dr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),n.jsx("input",{type:"text",placeholder:"Search conversations...",value:i,onChange:h=>a(h.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})}),n.jsx("div",{className:"overflow-y-auto h-full",children:c.map(h=>n.jsxs(_.div,{whileHover:{backgroundColor:"#f9fafb"},onClick:()=>t(h.id),className:`p-4 border-b border-gray-100 cursor-pointer transition-colors ${e===h.id?"bg-blue-50 border-blue-200":""}`,children:[n.jsxs("div",{className:"flex items-start justify-between mb-2",children:[n.jsx("h3",{className:"font-medium text-gray-900 text-sm",children:h.caseName}),h.unread>0&&n.jsx("span",{className:"bg-blue-500 text-white text-xs rounded-full px-2 py-1 min-w-[20px] text-center",children:h.unread})]}),n.jsx("p",{className:"text-sm text-gray-600 line-clamp-2 mb-1",children:h.lastMessage}),n.jsx("p",{className:"text-xs text-gray-400",children:h.timestamp})]},h.id))})]}),n.jsx("div",{className:"lg:col-span-2 bg-white rounded-lg border border-gray-200 flex flex-col",children:e?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"p-4 border-b border-gray-200",children:n.jsx("h2",{className:"font-semibold text-gray-900",children:(u=o.find(h=>h.id===e))==null?void 0:u.caseName})}),n.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:(d=o.find(h=>h.id===e))==null?void 0:d.messages.map(h=>n.jsx("div",{className:`flex ${h.sender==="client"?"justify-end":"justify-start"}`,children:n.jsxs("div",{className:`max-w-xs lg:max-w-md px-4 py-2 rounded-lg ${h.sender==="client"?"bg-blue-500 text-white":"bg-gray-100 text-gray-900"}`,children:[n.jsx("p",{className:"text-sm",children:h.content}),n.jsx("p",{className:`text-xs mt-1 ${h.sender==="client"?"text-blue-100":"text-gray-500"}`,children:h.timestamp})]})},h.id))}),n.jsx("div",{className:"p-4 border-t border-gray-200",children:n.jsxs("div",{className:"flex space-x-2",children:[n.jsx("input",{type:"text",value:s,onChange:h=>r(h.target.value),onKeyPress:h=>h.key==="Enter"&&l(),placeholder:"Type your message...",className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}),n.jsx(_.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:l,className:"bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600 transition-colors",children:n.jsx(lu,{className:"h-4 w-4"})})]})})]}):n.jsx("div",{className:"flex-1 flex items-center justify-center",children:n.jsxs("div",{className:"text-center",children:[n.jsx(wt,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Select a conversation"}),n.jsx("p",{className:"text-gray-500",children:"Choose a conversation from the list to start messaging"})]})})})]})]})},E_=()=>{const{user:e}=tt(),[t,s]=N.useState([]),[r,i]=N.useState([]),[a,o]=N.useState(!0),[l,c]=N.useState(""),[u,d]=N.useState("all"),[h,f]=N.useState(!1),[x,y]=N.useState("none"),[j,w]=N.useState([]);N.useEffect(()=>{g(),m()},[e]);const g=async()=>{if(e)try{const{data:E,error:R}=await Z.from("documents").select(`
          *,
          cases (
            title
          )
        `).eq("uploaded_by",e.id).order("created_at",{ascending:!1});if(R)console.error("Error fetching documents:",R);else{const M=(E||[]).map(H=>{var U;return{...H,case_name:(U=H.cases)==null?void 0:U.title,status:"ready"}});s(M)}}catch(E){console.error("Error fetching documents:",E)}finally{o(!1)}},m=async()=>{if(e)try{const{data:E}=await Z.from("clients").select("id").eq("user_id",e.id).single();if(E){const{data:R,error:M}=await Z.from("cases").select("id, title").eq("client_id",E.id);!M&&R&&w(R)}}catch(E){console.error("Error fetching cases:",E)}},p=N.useCallback(E=>{E.preventDefault(),E.stopPropagation(),E.type==="dragenter"||E.type==="dragover"?f(!0):E.type==="dragleave"&&f(!1)},[]),v=N.useCallback(E=>{E.preventDefault(),E.stopPropagation(),f(!1),E.dataTransfer.files&&E.dataTransfer.files.length>0&&D(Array.from(E.dataTransfer.files))},[]),b=E=>{E.target.files&&E.target.files.length>0&&D(Array.from(E.target.files))},C=E=>E.size>50*1024*1024?"File size must be less than 50MB":["application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.ms-excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","text/plain","image/jpeg","image/png","image/gif","application/zip","application/x-zip-compressed"].includes(E.type)?null:"File type not supported. Please upload PDF, Word, Excel, text, image, or ZIP files.",T=E=>new Promise(R=>{if(E.type.startsWith("image/")){const M=new FileReader;M.onload=H=>{var U;return R((U=H.target)==null?void 0:U.result)},M.onerror=()=>R(null),M.readAsDataURL(E)}else R(null)}),D=async E=>{const R=[];for(const M of E){const H=C(M);if(H){const ft={id:Math.random().toString(36).substr(2,9),file:M,progress:0,status:"error",error:H};i(Me=>[...Me,ft]);continue}const U=await T(M),ie={id:Math.random().toString(36).substr(2,9),file:M,progress:0,status:"uploading",preview:U};R.push(ie)}if(R.length>0){i(M=>[...M,...R]);for(const M of R)$(M)}},$=async E=>{var R;try{const{file:M}=E,H=M.name.split(".").pop(),U=`${Date.now()}-${Math.random().toString(36).substr(2,9)}.${H}`,ie=`documents/${e.id}/${U}`;i(Ie=>Ie.map(we=>we.id===E.id?{...we,progress:10}:we));const{data:ft,error:Me}=await Z.storage.from("documents").upload(ie,M,{cacheControl:"3600",upsert:!1});if(Me)throw Me;i(Ie=>Ie.map(we=>we.id===E.id?{...we,progress:70}:we));const Lt={name:M.name,file_path:ie,file_size:M.size,mime_type:M.type,uploaded_by:e.id,case_id:x!=="none"?x:null},{data:Ae,error:st}=await Z.from("documents").insert(Lt).select(`
          *,
          cases (
            title
          )
        `).single();if(st)throw st;i(Ie=>Ie.map(we=>we.id===E.id?{...we,progress:100,status:"success"}:we));const Ir={...Ae,case_name:(R=Ae.cases)==null?void 0:R.title,status:"ready"};s(Ie=>[Ir,...Ie]),setTimeout(()=>{i(Ie=>Ie.filter(we=>we.id!==E.id))},2e3)}catch(M){console.error("Error uploading file:",M),i(H=>H.map(U=>U.id===E.id?{...U,status:"error",error:M instanceof Error?M.message:"Upload failed"}:U))}},z=E=>{i(R=>R.filter(M=>M.id!==E))},k=async E=>{try{const{data:R,error:M}=await Z.storage.from("documents").download(E.file_path);if(M)throw M;const H=URL.createObjectURL(R),U=E.createElement("a");U.href=H,U.download=E.name,E.body.appendChild(U),U.click(),E.body.removeChild(U),URL.revokeObjectURL(H)}catch(R){console.error("Error downloading document:",R)}},O=async E=>{if(confirm("Are you sure you want to delete this document?"))try{const{error:R}=await Z.storage.from("documents").remove([E.file_path]);R&&console.error("Error deleting from storage:",R);const{error:M}=await Z.from("documents").delete().eq("id",E.id);if(M)throw M;s(H=>H.filter(U=>U.id!==E.id))}catch(R){console.error("Error deleting document:",R)}},L=E=>E.includes("pdf")?n.jsx(pe,{className:"h-8 w-8 text-red-500"}):E.includes("word")||E.includes("document")?n.jsx(H1,{className:"h-8 w-8 text-blue-500"}):E.includes("image")?n.jsx(K1,{className:"h-8 w-8 text-green-500"}):E.includes("zip")?n.jsx(U1,{className:"h-8 w-8 text-purple-500"}):n.jsx(pe,{className:"h-8 w-8 text-gray-500"}),W=E=>{if(E===0)return"0 Bytes";const R=1024,M=["Bytes","KB","MB","GB"],H=Math.floor(Math.log(E)/Math.log(R));return parseFloat((E/Math.pow(R,H)).toFixed(2))+" "+M[H]},ee=E=>{switch(E){case"ready":return"bg-green-100 text-green-800";case"processing":return"bg-yellow-100 text-yellow-800";case"uploading":return"bg-blue-100 text-blue-800";case"error":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},X=t.filter(E=>{const R=E.name.toLowerCase().includes(l.toLowerCase())||E.case_name&&E.case_name.toLowerCase().includes(l.toLowerCase()),M=u==="all"||E.mime_type.includes(u);return R&&M});return a?n.jsx("div",{className:"p-6",children:n.jsxs("div",{className:"animate-pulse space-y-4",children:[n.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/4"}),n.jsx("div",{className:"h-32 bg-gray-200 rounded"}),n.jsx("div",{className:"space-y-3",children:[1,2,3].map(E=>n.jsx("div",{className:"h-24 bg-gray-200 rounded"},E))})]})}):n.jsxs("div",{className:"p-6",children:[n.jsxs(_.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-8",children:[n.jsx("div",{className:"flex items-center justify-between mb-6",children:n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Documents"}),n.jsx("p",{className:"text-gray-600 mt-1",children:"Manage and access your legal documents securely"})]})}),n.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-6",children:[n.jsxs("div",{className:"relative flex-1",children:[n.jsx(Dr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),n.jsx("input",{type:"text",placeholder:"Search documents...",value:l,onChange:E=>c(E.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),n.jsxs("div",{className:"relative",children:[n.jsx(Zo,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),n.jsxs("select",{value:u,onChange:E=>d(E.target.value),className:"pl-10 pr-8 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white",children:[n.jsx("option",{value:"all",children:"All Types"}),n.jsx("option",{value:"pdf",children:"PDF"}),n.jsx("option",{value:"word",children:"Word"}),n.jsx("option",{value:"image",children:"Images"}),n.jsx("option",{value:"zip",children:"Archives"})]})]})]})]}),n.jsx(_.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-8",children:n.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[n.jsxs("div",{className:"mb-4",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Upload Documents"}),n.jsx("div",{className:"flex items-center space-x-4",children:n.jsxs("div",{className:"flex-1",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Associate with Case (Optional)"}),n.jsxs("select",{value:x,onChange:E=>y(E.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[n.jsx("option",{value:"none",children:"No specific case"}),j.map(E=>n.jsx("option",{value:E.id,children:E.title},E.id))]})]})})]}),n.jsxs("div",{className:`border-2 border-dashed rounded-lg p-8 text-center transition-colors ${h?"border-blue-500 bg-blue-50":"border-gray-300 bg-gray-50"}`,onDragEnter:p,onDragLeave:p,onDragOver:p,onDrop:v,children:[n.jsx(Ks,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),n.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-2",children:"Upload Documents"}),n.jsx("p",{className:"text-gray-600 mb-4",children:"Drag and drop files here, or click to select files"}),n.jsx("input",{type:"file",multiple:!0,onChange:b,className:"hidden",id:"file-upload",accept:".pdf,.doc,.docx,.xls,.xlsx,.txt,.jpg,.jpeg,.png,.gif,.zip"}),n.jsx(_.label,{whileHover:{scale:1.02},whileTap:{scale:.98},htmlFor:"file-upload",className:"bg-blue-600 text-white px-6 py-3 rounded-lg font-medium hover:bg-blue-700 transition-colors cursor-pointer inline-block",children:"Choose Files"}),n.jsxs("div",{className:"mt-4 text-sm text-gray-500",children:[n.jsx("p",{children:" Supported formats: PDF, Word, Excel, Text, Images, ZIP"}),n.jsx("p",{children:" Maximum file size: 50MB per file"}),n.jsx("p",{children:" Multiple files can be uploaded at once"})]})]})]})}),n.jsx(Mr,{children:r.length>0&&n.jsx(_.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"mb-8",children:n.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Uploading Files"}),n.jsx("div",{className:"space-y-3",children:r.map(E=>n.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[E.preview?n.jsx("img",{src:E.preview,alt:"",className:"w-10 h-10 object-cover rounded"}):L(E.file.type),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-gray-900",children:E.file.name}),n.jsx("p",{className:"text-sm text-gray-500",children:W(E.file.size)})]})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[E.status==="success"&&n.jsx(vs,{className:"h-5 w-5 text-green-500"}),E.status==="error"&&n.jsx(Td,{className:"h-5 w-5 text-red-500"}),n.jsx("button",{onClick:()=>z(E.id),className:"text-gray-400 hover:text-red-500 transition-colors",children:n.jsx(ts,{className:"h-4 w-4"})})]})]}),E.status==="uploading"&&n.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:n.jsx("div",{className:"bg-blue-500 h-2 rounded-full transition-all duration-300",style:{width:`${E.progress}%`}})}),E.status==="error"&&E.error&&n.jsx("p",{className:"text-sm text-red-600 mt-1",children:E.error}),E.status==="success"&&n.jsx("p",{className:"text-sm text-green-600 mt-1",children:"Upload completed successfully!"})]},E.id))})]})})}),X.length===0?n.jsxs(_.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center py-12",children:[n.jsx(pe,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No documents found"}),n.jsx("p",{className:"text-gray-500",children:l||u!=="all"?"Try adjusting your search or filter criteria":"Upload your first document to get started"})]}):n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:X.map((E,R)=>n.jsxs(_.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:R*.1},className:"bg-white rounded-lg border border-gray-200 p-6 hover:shadow-md transition-shadow",children:[n.jsxs("div",{className:"flex items-start justify-between mb-4",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[L(E.mime_type),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("h3",{className:"font-medium text-gray-900 truncate",children:E.name}),n.jsx("p",{className:"text-sm text-gray-500",children:W(E.file_size)})]})]}),n.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${ee(E.status)}`,children:E.status.charAt(0).toUpperCase()+E.status.slice(1)})]}),n.jsxs("div",{className:"mb-4",children:[E.case_name&&n.jsxs("p",{className:"text-sm text-gray-600 mb-1",children:["Case: ",E.case_name]}),n.jsxs("p",{className:"text-sm text-gray-500",children:["Uploaded: ",new Date(E.created_at).toLocaleDateString()]})]}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsxs(_.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>k(E),className:"flex-1 bg-blue-50 text-blue-700 py-2 px-3 rounded-lg text-sm font-medium hover:bg-blue-100 transition-colors flex items-center justify-center space-x-1",children:[n.jsx(vo,{className:"h-4 w-4"}),n.jsx("span",{children:"Download"})]}),n.jsx(_.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"bg-gray-50 text-gray-700 py-2 px-3 rounded-lg text-sm font-medium hover:bg-gray-100 transition-colors flex items-center justify-center",children:n.jsx(ws,{className:"h-4 w-4"})}),n.jsx(_.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>O(E),className:"bg-red-50 text-red-700 py-2 px-3 rounded-lg text-sm font-medium hover:bg-red-100 transition-colors flex items-center justify-center",children:n.jsx(r2,{className:"h-4 w-4"})})]})]},E.id))})]})},A_=()=>{const{user:e}=tt(),[t,s]=N.useState("profile"),[r,i]=N.useState(!1),[a,o]=N.useState(""),[l,c]=N.useState({firstName:"John",lastName:"Doe",email:(e==null?void 0:e.email)||"",phone:"+1 (555) 123-4567",address:"123 Main St, City, State 12345",profileImage:"",bio:"Legal professional with 10+ years of experience in corporate law.",timezone:"America/New_York",language:"en"}),[u,d]=N.useState({emailNotifications:!0,smsNotifications:!1,caseUpdates:!0,messageAlerts:!0,documentAlerts:!0,meetingReminders:!0,weeklyDigest:!0}),[h,f]=N.useState({profileVisibility:"private",dataSharing:!1,analyticsOptOut:!0,twoFactorAuth:!1}),x=async()=>{i(!0);try{await new Promise(v=>setTimeout(v,1e3)),o("Profile updated successfully!"),setTimeout(()=>o(""),3e3)}catch(v){console.error("Error saving profile:",v)}finally{i(!1)}},y=v=>{c({...l,profileImage:v})},j=[{id:"profile",label:"Profile",icon:dt},{id:"notifications",label:"Notifications",icon:sn},{id:"privacy",label:"Privacy",icon:yt},{id:"security",label:"Security",icon:ws}],w=()=>n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 rounded-lg p-6",children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Profile Picture"}),n.jsxs("div",{className:"flex items-center space-x-6",children:[n.jsx(py,{currentImage:l.profileImage,onImageChange:y,size:"lg"}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Upload a new picture"}),n.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Your profile picture helps your legal team recognize you in meetings and communications."}),n.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-500",children:[n.jsx(zg,{className:"h-4 w-4"}),n.jsx("span",{children:"Click on the image to upload or change"})]})]})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Personal Information"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"First Name"}),n.jsxs("div",{className:"relative",children:[n.jsx(dt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),n.jsx("input",{type:"text",value:l.firstName,onChange:v=>c({...l,firstName:v.target.value}),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Last Name"}),n.jsxs("div",{className:"relative",children:[n.jsx(dt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),n.jsx("input",{type:"text",value:l.lastName,onChange:v=>c({...l,lastName:v.target.value}),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),n.jsxs("div",{className:"relative",children:[n.jsx(Js,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),n.jsx("input",{type:"email",value:l.email,onChange:v=>c({...l,email:v.target.value}),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number"}),n.jsxs("div",{className:"relative",children:[n.jsx(br,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),n.jsx("input",{type:"tel",value:l.phone,onChange:v=>c({...l,phone:v.target.value}),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})]}),n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Address"}),n.jsxs("div",{className:"relative",children:[n.jsx(Pd,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),n.jsx("input",{type:"text",value:l.address,onChange:v=>c({...l,address:v.target.value}),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})]})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Bio"}),n.jsx("textarea",{value:l.bio,onChange:v=>c({...l,bio:v.target.value}),placeholder:"Tell us a bit about yourself...",rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 resize-none"})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Preferences"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Timezone"}),n.jsxs("select",{value:l.timezone,onChange:v=>c({...l,timezone:v.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[n.jsx("option",{value:"America/New_York",children:"Eastern Time (ET)"}),n.jsx("option",{value:"America/Chicago",children:"Central Time (CT)"}),n.jsx("option",{value:"America/Denver",children:"Mountain Time (MT)"}),n.jsx("option",{value:"America/Los_Angeles",children:"Pacific Time (PT)"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Language"}),n.jsxs("select",{value:l.language,onChange:v=>c({...l,language:v.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[n.jsx("option",{value:"en",children:"English"}),n.jsx("option",{value:"es",children:"Spanish"}),n.jsx("option",{value:"fr",children:"French"}),n.jsx("option",{value:"de",children:"German"})]})]})]})]}),n.jsx("div",{className:"flex justify-end",children:n.jsxs(_.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:x,disabled:r,className:"bg-blue-900 text-white px-6 py-3 rounded-lg font-medium hover:bg-blue-800 transition-colors disabled:opacity-50 flex items-center space-x-2",children:[n.jsx(Z1,{className:"h-4 w-4"}),n.jsx("span",{children:r?"Saving...":"Save Changes"})]})})]}),g=()=>n.jsx("div",{className:"space-y-6",children:n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Notification Preferences"}),n.jsx("div",{className:"space-y-4",children:Object.entries(u).map(([v,b])=>n.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100 last:border-b-0",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium text-gray-900",children:v.replace(/([A-Z])/g," $1").replace(/^./,C=>C.toUpperCase())}),n.jsxs("p",{className:"text-sm text-gray-500",children:[v==="emailNotifications"&&"Receive notifications via email",v==="smsNotifications"&&"Receive notifications via SMS",v==="caseUpdates"&&"Get notified about case status changes",v==="messageAlerts"&&"Get notified about new messages",v==="documentAlerts"&&"Get notified about document updates",v==="meetingReminders"&&"Receive reminders for upcoming meetings",v==="weeklyDigest"&&"Receive weekly summary of activities"]})]}),n.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[n.jsx("input",{type:"checkbox",checked:b,onChange:C=>d({...u,[v]:C.target.checked}),className:"sr-only peer"}),n.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]},v))})]})}),m=()=>n.jsx("div",{className:"space-y-6",children:n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Privacy Settings"}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Profile Visibility"}),n.jsxs("select",{value:h.profileVisibility,onChange:v=>f({...h,profileVisibility:v.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[n.jsx("option",{value:"private",children:"Private - Only visible to your legal team"}),n.jsx("option",{value:"limited",children:"Limited - Visible to authorized personnel"}),n.jsx("option",{value:"public",children:"Public - Visible in directory"})]})]}),n.jsxs("div",{className:"flex items-center justify-between py-3",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium text-gray-900",children:"Data Sharing"}),n.jsx("p",{className:"text-sm text-gray-500",children:"Allow sharing of anonymized data for legal research"})]}),n.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[n.jsx("input",{type:"checkbox",checked:h.dataSharing,onChange:v=>f({...h,dataSharing:v.target.checked}),className:"sr-only peer"}),n.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),n.jsxs("div",{className:"flex items-center justify-between py-3",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium text-gray-900",children:"Analytics Opt-out"}),n.jsx("p",{className:"text-sm text-gray-500",children:"Opt out of usage analytics collection"})]}),n.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[n.jsx("input",{type:"checkbox",checked:h.analyticsOptOut,onChange:v=>f({...h,analyticsOptOut:v.target.checked}),className:"sr-only peer"}),n.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]})]})]})}),p=()=>n.jsx("div",{className:"space-y-6",children:n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Security Settings"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:[n.jsx("h4",{className:"font-medium text-yellow-800 mb-2",children:"Password Security"}),n.jsx("p",{className:"text-sm text-yellow-700 mb-3",children:"Your password was last changed 30 days ago. We recommend changing it regularly."}),n.jsx(_.button,{whileHover:{scale:1.02},whileTap:{scale:.98},className:"bg-yellow-600 text-white px-4 py-2 rounded-lg text-sm font-medium hover:bg-yellow-700 transition-colors",children:"Change Password"})]}),n.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium text-green-800 mb-2",children:"Two-Factor Authentication"}),n.jsx("p",{className:"text-sm text-green-700 mb-3",children:"Add an extra layer of security to your account with 2FA."})]}),n.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[n.jsx("input",{type:"checkbox",checked:h.twoFactorAuth,onChange:v=>f({...h,twoFactorAuth:v.target.checked}),className:"sr-only peer"}),n.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-green-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-green-600"})]})]})}),n.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[n.jsx("h4",{className:"font-medium text-blue-800 mb-2",children:"Login Activity"}),n.jsx("p",{className:"text-sm text-blue-700 mb-3",children:"Monitor your recent login activity and active sessions."}),n.jsx(_.button,{whileHover:{scale:1.02},whileTap:{scale:.98},className:"bg-blue-600 text-white px-4 py-2 rounded-lg text-sm font-medium hover:bg-blue-700 transition-colors",children:"View Activity"})]})]})]})});return n.jsxs("div",{className:"p-6",children:[n.jsxs(_.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-8",children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Settings"}),n.jsx("p",{className:"text-gray-600",children:"Manage your account preferences and security settings"})]}),a&&n.jsx(_.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"mb-6 bg-green-50 border border-green-200 text-green-700 px-4 py-3 rounded-lg",children:a}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[n.jsx("div",{className:"lg:col-span-1",children:n.jsx("nav",{className:"space-y-1",children:j.map(v=>{const b=v.icon;return n.jsxs(_.button,{whileHover:{x:4},onClick:()=>s(v.id),className:`w-full flex items-center space-x-3 px-4 py-3 rounded-lg text-left transition-colors ${t===v.id?"bg-blue-900 text-white":"text-gray-700 hover:bg-gray-100"}`,children:[n.jsx(b,{className:"h-5 w-5"}),n.jsx("span",{className:"font-medium",children:v.label})]},v.id)})})}),n.jsx("div",{className:"lg:col-span-3",children:n.jsxs(_.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"bg-white rounded-lg border border-gray-200 p-6",children:[t==="profile"&&w(),t==="notifications"&&g(),t==="privacy"&&m(),t==="security"&&p()]},t)})]})]})},D_=()=>{const{user:e}=tt(),[t,s]=N.useState([]),[r,i]=N.useState(!0),[a,o]=N.useState(85);N.useEffect(()=>{l()},[e]);const l=async()=>{if(e)try{const{data:f,error:x}=await Z.from("audit_logs").select("*").eq("user_id",e.id).order("created_at",{ascending:!1}).limit(10);x?console.error("Error fetching audit logs:",x):s(f||[])}catch(f){console.error("Error fetching audit logs:",f)}finally{i(!1)}},c=f=>{switch(f){case"sign_in":return n.jsx(ws,{className:"h-4 w-4 text-green-500"});case"sign_out":return n.jsx(Mi,{className:"h-4 w-4 text-gray-500"});case"password_change":return n.jsx(yt,{className:"h-4 w-4 text-blue-500"});default:return n.jsx(Hl,{className:"h-4 w-4 text-gray-500"})}},u=(f,x)=>{switch(f){case"sign_in":return`Signed in from ${(x==null?void 0:x.email)||"unknown location"}`;case"sign_out":return"Signed out of account";case"password_change":return"Password was changed";case"profile_update":return"Profile information updated";case"document_upload":return`Uploaded document: ${(x==null?void 0:x.filename)||"Unknown file"}`;case"message_sent":return"Sent a message";default:return f.replace(/_/g," ").replace(/\b\w/g,y=>y.toUpperCase())}},d=[{id:1,title:"Enable Two-Factor Authentication",description:"Add an extra layer of security to your account",status:"pending",priority:"high"},{id:2,title:"Update Password",description:"Your password is over 90 days old",status:"pending",priority:"medium"},{id:3,title:"Review Login Activity",description:"Check for any suspicious login attempts",status:"completed",priority:"low"},{id:4,title:"Verify Email Address",description:"Ensure your email is verified for security notifications",status:"completed",priority:"medium"}],h=f=>{switch(f){case"high":return"text-red-600 bg-red-50 border-red-200";case"medium":return"text-yellow-600 bg-yellow-50 border-yellow-200";case"low":return"text-green-600 bg-green-50 border-green-200";default:return"text-gray-600 bg-gray-50 border-gray-200"}};return n.jsxs("div",{className:"p-6",children:[n.jsxs(_.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-8",children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Security Center"}),n.jsx("p",{className:"text-gray-600",children:"Monitor your account security and activity"})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-8",children:[n.jsxs(_.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-white rounded-lg border border-gray-200 p-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Security Score"}),n.jsx(yt,{className:"h-6 w-6 text-blue-500"})]}),n.jsxs("div",{className:"text-center",children:[n.jsxs("div",{className:"relative inline-flex items-center justify-center w-24 h-24 mb-4",children:[n.jsxs("svg",{className:"w-24 h-24 transform -rotate-90",viewBox:"0 0 36 36",children:[n.jsx("path",{className:"text-gray-200",stroke:"currentColor",strokeWidth:"3",fill:"none",d:"M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831"}),n.jsx("path",{className:"text-blue-500",stroke:"currentColor",strokeWidth:"3",strokeDasharray:`${a}, 100`,strokeLinecap:"round",fill:"none",d:"M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831"})]}),n.jsx("span",{className:"absolute text-2xl font-bold text-gray-900",children:a})]}),n.jsx("p",{className:"text-sm text-gray-600",children:"Your account security is good"})]})]}),n.jsxs(_.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{delay:.1},className:"bg-white rounded-lg border border-gray-200 p-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Recent Activity"}),n.jsx(Hl,{className:"h-6 w-6 text-green-500"})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-sm text-gray-600",children:"Last Login"}),n.jsx("span",{className:"text-sm font-medium text-gray-900",children:"2 hours ago"})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-sm text-gray-600",children:"Active Sessions"}),n.jsx("span",{className:"text-sm font-medium text-gray-900",children:"1"})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-sm text-gray-600",children:"Failed Attempts"}),n.jsx("span",{className:"text-sm font-medium text-gray-900",children:"0"})]})]})]}),n.jsxs(_.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{delay:.2},className:"bg-white rounded-lg border border-gray-200 p-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Security Features"}),n.jsx(Mi,{className:"h-6 w-6 text-purple-500"})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(X1,{className:"h-4 w-4 text-gray-400"}),n.jsx("span",{className:"text-sm text-gray-600",children:"2FA"})]}),n.jsx("span",{className:"text-sm text-red-600",children:"Disabled"})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(q1,{className:"h-4 w-4 text-gray-400"}),n.jsx("span",{className:"text-sm text-gray-600",children:"SSL"})]}),n.jsx("span",{className:"text-sm text-green-600",children:"Enabled"})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(yt,{className:"h-4 w-4 text-gray-400"}),n.jsx("span",{className:"text-sm text-gray-600",children:"Encryption"})]}),n.jsx("span",{className:"text-sm text-green-600",children:"Active"})]})]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsxs(_.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:"bg-white rounded-lg border border-gray-200 p-6",children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Security Recommendations"}),n.jsx("div",{className:"space-y-4",children:d.map(f=>n.jsxs("div",{className:`p-4 rounded-lg border ${h(f.priority)}`,children:[n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[n.jsx("h3",{className:"font-medium",children:f.title}),f.status==="completed"?n.jsx(vs,{className:"h-4 w-4 text-green-500"}):n.jsx(Nn,{className:"h-4 w-4 text-yellow-500"})]}),n.jsx("p",{className:"text-sm opacity-80",children:f.description})]}),n.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${f.priority==="high"?"bg-red-100 text-red-800":f.priority==="medium"?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"}`,children:f.priority})]}),f.status==="pending"&&n.jsx(_.button,{whileHover:{scale:1.02},whileTap:{scale:.98},className:"mt-3 bg-white bg-opacity-50 hover:bg-opacity-75 px-3 py-1 rounded text-sm font-medium transition-colors",children:"Take Action"})]},f.id))})]}),n.jsxs(_.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"bg-white rounded-lg border border-gray-200 p-6",children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Recent Activity"}),r?n.jsx("div",{className:"space-y-3",children:[1,2,3,4,5].map(f=>n.jsxs("div",{className:"animate-pulse flex space-x-3",children:[n.jsx("div",{className:"w-8 h-8 bg-gray-200 rounded-full"}),n.jsxs("div",{className:"flex-1 space-y-2",children:[n.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4"}),n.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/2"})]})]},f))}):t.length===0?n.jsxs("div",{className:"text-center py-8",children:[n.jsx(Hl,{className:"h-12 w-12 text-gray-300 mx-auto mb-3"}),n.jsx("p",{className:"text-gray-500",children:"No recent activity"})]}):n.jsx("div",{className:"space-y-4",children:t.map(f=>n.jsxs("div",{className:"flex items-start space-x-3 p-3 bg-gray-50 rounded-lg",children:[n.jsx("div",{className:"flex-shrink-0 mt-1",children:c(f.action)}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("p",{className:"text-sm font-medium text-gray-900",children:u(f.action,f.details)}),n.jsx("p",{className:"text-xs text-gray-500",children:new Date(f.created_at).toLocaleString()})]})]},f.id))})]})]})]})},R_=()=>{const{user:e}=tt(),[t,s]=N.useState("overview"),[r,i]=N.useState([]),[a,o]=N.useState([]),[l,c]=N.useState(!0);N.useEffect(()=>{const p=[{id:"1",number:"INV-2024-001",date:"2024-01-15",dueDate:"2024-02-15",amount:2500,status:"paid",description:"Legal services for Contract Review - ABC Corp",items:[{id:"1",description:"Contract review and analysis",hours:8,rate:250,amount:2e3,date:"2024-01-10"},{id:"2",description:"Client consultation",hours:2,rate:250,amount:500,date:"2024-01-12"}]},{id:"2",number:"INV-2024-002",date:"2024-01-20",dueDate:"2024-02-20",amount:1800,status:"pending",description:"Employment dispute consultation",items:[{id:"3",description:"Case research and preparation",hours:6,rate:250,amount:1500,date:"2024-01-18"},{id:"4",description:"Document preparation",hours:1.2,rate:250,amount:300,date:"2024-01-19"}]}],v=[{id:"1",date:"2024-01-25",description:"Research case precedents",hours:3.5,rate:250,billable:!0,caseId:"1",caseName:"Contract Review - ABC Corp"},{id:"2",date:"2024-01-24",description:"Client phone call",hours:.5,rate:250,billable:!0,caseId:"2",caseName:"Employment Dispute"}];i(p),o(v),c(!1)},[]);const u=p=>{switch(p){case"paid":return"bg-green-100 text-green-800";case"pending":return"bg-yellow-100 text-yellow-800";case"overdue":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},d=r.reduce((p,v)=>p+v.amount,0),h=r.filter(p=>p.status==="paid").reduce((p,v)=>p+v.amount,0),f=r.filter(p=>p.status==="pending").reduce((p,v)=>p+v.amount,0),x=a.filter(p=>p.billable).reduce((p,v)=>p+v.hours,0),y=a.filter(p=>p.billable).reduce((p,v)=>p+v.hours*v.rate,0),j=()=>n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[n.jsx(_.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-lg border border-gray-200 p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Billed"}),n.jsxs("p",{className:"text-3xl font-bold text-gray-900",children:["$",d.toLocaleString()]})]}),n.jsx("div",{className:"bg-blue-500 p-3 rounded-lg",children:n.jsx(Tr,{className:"h-6 w-6 text-white"})})]})}),n.jsx(_.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white rounded-lg border border-gray-200 p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Paid"}),n.jsxs("p",{className:"text-3xl font-bold text-green-600",children:["$",h.toLocaleString()]})]}),n.jsx("div",{className:"bg-green-500 p-3 rounded-lg",children:n.jsx(bs,{className:"h-6 w-6 text-white"})})]})}),n.jsx(_.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white rounded-lg border border-gray-200 p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Pending"}),n.jsxs("p",{className:"text-3xl font-bold text-yellow-600",children:["$",f.toLocaleString()]})]}),n.jsx("div",{className:"bg-yellow-500 p-3 rounded-lg",children:n.jsx(Ke,{className:"h-6 w-6 text-white"})})]})}),n.jsx(_.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-white rounded-lg border border-gray-200 p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Unbilled"}),n.jsxs("p",{className:"text-3xl font-bold text-purple-600",children:["$",y.toLocaleString()]}),n.jsxs("p",{className:"text-xs text-gray-500",children:[x," hours"]})]}),n.jsx("div",{className:"bg-purple-500 p-3 rounded-lg",children:n.jsx(pe,{className:"h-6 w-6 text-white"})})]})})]}),n.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Recent Invoices"}),n.jsx(_.button,{whileHover:{scale:1.02},whileTap:{scale:.98},className:"text-blue-600 hover:text-blue-800 font-medium",children:"View All"})]}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"border-b border-gray-200",children:[n.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-900",children:"Invoice"}),n.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-900",children:"Date"}),n.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-900",children:"Amount"}),n.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-900",children:"Status"}),n.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-900",children:"Actions"})]})}),n.jsx("tbody",{children:r.slice(0,5).map(p=>n.jsxs("tr",{className:"border-b border-gray-100",children:[n.jsx("td",{className:"py-3 px-4",children:n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-gray-900",children:p.number}),n.jsx("p",{className:"text-sm text-gray-500",children:p.description})]})}),n.jsx("td",{className:"py-3 px-4 text-gray-600",children:new Date(p.date).toLocaleDateString()}),n.jsxs("td",{className:"py-3 px-4 font-medium text-gray-900",children:["$",p.amount.toLocaleString()]}),n.jsx("td",{className:"py-3 px-4",children:n.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${u(p.status)}`,children:p.status.charAt(0).toUpperCase()+p.status.slice(1)})}),n.jsx("td",{className:"py-3 px-4",children:n.jsxs("div",{className:"flex space-x-2",children:[n.jsx(_.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"text-blue-600 hover:text-blue-800",children:n.jsx(vo,{className:"h-4 w-4"})}),p.status==="pending"&&n.jsx(_.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"text-green-600 hover:text-green-800",children:n.jsx(Wf,{className:"h-4 w-4"})})]})})]},p.id))})]})})]})]}),w=()=>n.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"All Invoices"}),n.jsx("div",{className:"flex space-x-2",children:n.jsxs("select",{className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[n.jsx("option",{value:"all",children:"All Status"}),n.jsx("option",{value:"paid",children:"Paid"}),n.jsx("option",{value:"pending",children:"Pending"}),n.jsx("option",{value:"overdue",children:"Overdue"})]})})]}),n.jsx("div",{className:"space-y-4",children:r.map(p=>n.jsxs(_.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow",children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium text-gray-900",children:p.number}),n.jsx("p",{className:"text-sm text-gray-500",children:p.description})]}),n.jsxs("div",{className:"text-right",children:[n.jsxs("p",{className:"text-lg font-bold text-gray-900",children:["$",p.amount.toLocaleString()]}),n.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${u(p.status)}`,children:p.status.charAt(0).toUpperCase()+p.status.slice(1)})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm text-gray-600 mb-3",children:[n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",children:"Date:"})," ",new Date(p.date).toLocaleDateString()]}),n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",children:"Due:"})," ",new Date(p.dueDate).toLocaleDateString()]})]}),n.jsxs("div",{className:"border-t border-gray-100 pt-3",children:[n.jsx("h5",{className:"font-medium text-gray-900 mb-2",children:"Items:"}),n.jsx("div",{className:"space-y-1",children:p.items.map(v=>n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsxs("span",{className:"text-gray-600",children:[v.description," ",v.hours&&`(${v.hours}h @ $${v.rate}/h)`]}),n.jsxs("span",{className:"font-medium",children:["$",v.amount.toLocaleString()]})]},v.id))})]}),n.jsxs("div",{className:"flex justify-end space-x-2 mt-4",children:[n.jsxs(_.button,{whileHover:{scale:1.02},whileTap:{scale:.98},className:"bg-gray-100 text-gray-700 px-3 py-1 rounded text-sm hover:bg-gray-200 transition-colors flex items-center space-x-1",children:[n.jsx(vo,{className:"h-3 w-3"}),n.jsx("span",{children:"Download"})]}),p.status==="pending"&&n.jsxs(_.button,{whileHover:{scale:1.02},whileTap:{scale:.98},className:"bg-blue-600 text-white px-3 py-1 rounded text-sm hover:bg-blue-700 transition-colors flex items-center space-x-1",children:[n.jsx(Wf,{className:"h-3 w-3"}),n.jsx("span",{children:"Pay Now"})]})]})]},p.id))})]}),g=()=>n.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Time Entries"}),n.jsxs("div",{className:"text-right",children:[n.jsx("p",{className:"text-sm text-gray-600",children:"Unbilled Hours"}),n.jsx("p",{className:"text-2xl font-bold text-purple-600",children:x})]})]}),n.jsx("div",{className:"space-y-3",children:a.map(p=>n.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center space-x-3 mb-1",children:[n.jsx(Ke,{className:"h-4 w-4 text-gray-400"}),n.jsx("span",{className:"font-medium text-gray-900",children:p.description}),n.jsxs("span",{className:"text-sm text-gray-500",children:["(",p.caseName,")"]})]}),n.jsxs("p",{className:"text-sm text-gray-600 ml-7",children:[new Date(p.date).toLocaleDateString(),"  ",p.hours,"h @ $",p.rate,"/h"]})]}),n.jsxs("div",{className:"text-right",children:[n.jsxs("p",{className:"font-medium text-gray-900",children:["$",(p.hours*p.rate).toLocaleString()]}),n.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${p.billable?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:p.billable?"Billable":"Non-billable"})]})]},p.id))})]}),m=[{id:"overview",label:"Overview",icon:bs},{id:"invoices",label:"Invoices",icon:pe},{id:"time",label:"Time Tracking",icon:Ke}];return l?n.jsx("div",{className:"p-6",children:n.jsxs("div",{className:"animate-pulse space-y-4",children:[n.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/4"}),n.jsx("div",{className:"grid grid-cols-4 gap-4",children:[1,2,3,4].map(p=>n.jsx("div",{className:"h-24 bg-gray-200 rounded"},p))})]})}):n.jsxs("div",{className:"p-6",children:[n.jsxs(_.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-8",children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Billing & Invoices"}),n.jsx("p",{className:"text-gray-600",children:"Track your legal expenses and payment history"})]}),n.jsx("div",{className:"mb-6",children:n.jsx("nav",{className:"flex space-x-1 bg-gray-100 p-1 rounded-lg",children:m.map(p=>{const v=p.icon;return n.jsxs(_.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>s(p.id),className:`flex items-center space-x-2 px-4 py-2 rounded-lg font-medium transition-colors ${t===p.id?"bg-white text-blue-600 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:[n.jsx(v,{className:"h-4 w-4"}),n.jsx("span",{children:p.label})]},p.id)})})}),n.jsxs(_.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.3},children:[t==="overview"&&j(),t==="invoices"&&w(),t==="time"&&g()]},t)]})},L_=({isOpen:e,onClose:t,onTaskCreated:s})=>{const{user:r}=tt(),[i,a]=N.useState(1),[o,l]=N.useState({title:"",description:"",priority:"medium",dueDate:"",assignedTo:"client",category:"general",estimatedHours:1,dependencies:[],attachments:[]}),[c,u]=N.useState(!1),[d,h]=N.useState(null),[f,x]=N.useState(!1),[y,j]=N.useState(!1),w=[{id:"1",name:"Document Review",description:"Review and analyze legal documents for compliance and accuracy",priority:"high",estimatedHours:2,category:"legal"},{id:"2",name:"Client Information Gathering",description:"Collect necessary client information and documentation",priority:"medium",estimatedHours:1,category:"intake"},{id:"3",name:"Research Legal Precedents",description:"Research relevant case law and legal precedents",priority:"medium",estimatedHours:4,category:"research"},{id:"4",name:"Prepare Court Filing",description:"Prepare and review court documents for filing",priority:"high",estimatedHours:3,category:"filing"},{id:"5",name:"Client Meeting Preparation",description:"Prepare agenda and materials for client meeting",priority:"medium",estimatedHours:1,category:"meeting"}],g=[{value:"general",label:"General",icon:pe},{value:"legal",label:"Legal Review",icon:pe},{value:"research",label:"Research",icon:pe},{value:"filing",label:"Court Filing",icon:pe},{value:"meeting",label:"Meeting",icon:dt},{value:"intake",label:"Client Intake",icon:dt}],m=k=>{h(k),l({...o,title:k.name,description:k.description,priority:k.priority,category:k.category,estimatedHours:k.estimatedHours}),u(!0),a(2)},p=async()=>{if(!(!o.title.trim()||!o.dueDate)){x(!0);try{const k={id:Date.now().toString(),title:o.title,description:o.description,priority:o.priority,dueDate:o.dueDate,assignedTo:o.assignedTo,category:o.category,estimatedHours:o.estimatedHours,status:"pending",createdAt:new Date().toISOString(),dependencies:o.dependencies};await new Promise(O=>setTimeout(O,1e3)),s(k),j(!0),setTimeout(()=>{j(!1),t(),v()},2e3)}catch(k){console.error("Error creating task:",k)}finally{x(!1)}}},v=()=>{a(1),l({title:"",description:"",priority:"medium",dueDate:"",assignedTo:"client",category:"general",estimatedHours:1,dependencies:[],attachments:[]}),u(!1),h(null)},b=k=>{switch(k){case"high":return"text-red-600 bg-red-50 border-red-200";case"medium":return"text-yellow-600 bg-yellow-50 border-yellow-200";case"low":return"text-green-600 bg-green-50 border-green-200";default:return"text-gray-600 bg-gray-50 border-gray-200"}},C=()=>new Date().toISOString().split("T")[0],T=()=>n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"text-center",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Create New Task"}),n.jsx("p",{className:"text-gray-600",children:"Choose how you'd like to create your task"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs(_.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>a(2),className:"p-6 border-2 border-gray-200 rounded-lg hover:border-blue-300 hover:bg-blue-50 transition-colors text-left",children:[n.jsx(us,{className:"h-8 w-8 text-blue-600 mb-3"}),n.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Create from Scratch"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Start with a blank task and customize everything"})]}),n.jsxs(_.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>a(3),className:"p-6 border-2 border-gray-200 rounded-lg hover:border-green-300 hover:bg-green-50 transition-colors text-left",children:[n.jsx(pe,{className:"h-8 w-8 text-green-600 mb-3"}),n.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Use Template"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Choose from pre-built task templates"})]})]})]}),D=()=>n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Task Details"}),c&&d&&n.jsxs("span",{className:"px-3 py-1 bg-green-100 text-green-800 rounded-full text-sm",children:["Using template: ",d.name]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Task Title *"}),n.jsx("input",{type:"text",value:o.title,onChange:k=>l({...o,title:k.target.value}),placeholder:"Enter task title",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),n.jsx("textarea",{value:o.description,onChange:k=>l({...o,description:k.target.value}),placeholder:"Describe what needs to be done...",rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 resize-none"})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Priority"}),n.jsxs("select",{value:o.priority,onChange:k=>l({...o,priority:k.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[n.jsx("option",{value:"low",children:"Low Priority"}),n.jsx("option",{value:"medium",children:"Medium Priority"}),n.jsx("option",{value:"high",children:"High Priority"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Due Date *"}),n.jsx("input",{type:"date",value:o.dueDate,onChange:k=>l({...o,dueDate:k.target.value}),min:C(),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category"}),n.jsx("select",{value:o.category,onChange:k=>l({...o,category:k.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:g.map(k=>n.jsx("option",{value:k.value,children:k.label},k.value))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Estimated Hours"}),n.jsx("input",{type:"number",value:o.estimatedHours,onChange:k=>l({...o,estimatedHours:parseInt(k.target.value)||1}),min:"0.5",step:"0.5",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Assigned To"}),n.jsxs("select",{value:o.assignedTo,onChange:k=>l({...o,assignedTo:k.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[n.jsx("option",{value:"client",children:"Client (You)"}),n.jsx("option",{value:"lawyer",children:"Legal Team"}),n.jsx("option",{value:"both",children:"Both"})]})]})]}),n.jsxs("div",{className:"flex space-x-3 pt-4",children:[n.jsx("button",{onClick:()=>a(1),className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Back"}),n.jsxs(_.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:p,disabled:f||!o.title.trim()||!o.dueDate,className:"flex-1 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center space-x-2",children:[n.jsx(us,{className:"h-4 w-4"}),n.jsx("span",{children:f?"Creating...":"Create Task"})]})]})]}),$=()=>n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Choose Template"}),n.jsx("p",{className:"text-gray-600",children:"Select a template to get started quickly"})]}),n.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:w.map(k=>{var O;return n.jsxs(_.button,{whileHover:{scale:1.01},whileTap:{scale:.99},onClick:()=>m(k),className:"w-full p-4 border border-gray-200 rounded-lg hover:border-blue-300 hover:bg-blue-50 transition-colors text-left",children:[n.jsxs("div",{className:"flex items-start justify-between mb-2",children:[n.jsx("h4",{className:"font-semibold text-gray-900",children:k.name}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsxs("span",{className:`px-2 py-1 rounded-full text-xs font-medium border ${b(k.priority)}`,children:[n.jsx(Hg,{className:"h-3 w-3 inline mr-1"}),k.priority]}),n.jsxs("span",{className:"text-xs text-gray-500 flex items-center",children:[n.jsx(Ke,{className:"h-3 w-3 mr-1"}),k.estimatedHours,"h"]})]})]}),n.jsx("p",{className:"text-sm text-gray-600",children:k.description}),n.jsx("div",{className:"mt-2",children:n.jsx("span",{className:"inline-block px-2 py-1 bg-gray-100 text-gray-700 rounded text-xs",children:(O=g.find(L=>L.value===k.category))==null?void 0:O.label})})]},k.id)})}),n.jsx("div",{className:"flex space-x-3 pt-4",children:n.jsx("button",{onClick:()=>a(1),className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Back"})})]}),z=()=>n.jsxs("div",{className:"text-center py-8",children:[n.jsx("div",{className:"bg-green-100 rounded-full w-16 h-16 flex items-center justify-center mx-auto mb-4",children:n.jsx(us,{className:"h-8 w-8 text-green-600"})}),n.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Task Created!"}),n.jsx("p",{className:"text-gray-600",children:"Your task has been created and added to your task list."})]});return n.jsx(Mr,{children:e&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:n.jsxs(_.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-white rounded-lg shadow-xl w-full max-w-2xl max-h-[90vh] overflow-hidden",children:[n.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(us,{className:"h-6 w-6 text-blue-600"}),n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"New Task"})]}),n.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 transition-colors",children:n.jsx(ts,{className:"h-5 w-5"})})]}),n.jsx("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-140px)]",children:y?z():n.jsxs(n.Fragment,{children:[i===1&&T(),i===2&&D(),i===3&&$()]})})]})})})},M_=()=>{const{user:e}=tt(),[t,s]=N.useState([]),[r,i]=N.useState(!0),[a,o]=N.useState(""),[l,c]=N.useState("all"),[u,d]=N.useState("all"),[h,f]=N.useState("all"),[x,y]=N.useState(!1),[j,w]=N.useState("dueDate");N.useEffect(()=>{s([{id:"1",title:"Review contract terms",description:"Analyze the employment contract for potential issues and provide feedback",status:"pending",priority:"high",dueDate:"2024-02-01",assignedTo:"client",caseId:"1",caseName:"Employment Dispute",category:"legal",estimatedHours:2,createdAt:"2024-01-15"},{id:"2",title:"Gather supporting documents",description:"Collect all relevant employment records and communications",status:"in_progress",priority:"medium",dueDate:"2024-01-30",assignedTo:"client",caseId:"1",caseName:"Employment Dispute",category:"intake",estimatedHours:1,createdAt:"2024-01-15"},{id:"3",title:"Sign retainer agreement",description:"Review and sign the legal services agreement",status:"completed",priority:"high",dueDate:"2024-01-20",assignedTo:"client",caseId:"2",caseName:"Contract Review - ABC Corp",category:"general",estimatedHours:.5,createdAt:"2024-01-10",completedAt:"2024-01-18"},{id:"4",title:"Research case precedents",description:"Find similar cases and analyze their outcomes",status:"pending",priority:"medium",dueDate:"2024-02-05",assignedTo:"lawyer",caseId:"1",caseName:"Employment Dispute",category:"research",estimatedHours:4,createdAt:"2024-01-20"},{id:"5",title:"Prepare court filing",description:"Draft and prepare initial court documents",status:"pending",priority:"high",dueDate:"2024-02-10",assignedTo:"lawyer",caseId:"1",caseName:"Employment Dispute",category:"filing",estimatedHours:3,createdAt:"2024-01-22"}]),i(!1)},[]);const g=k=>{s(O=>[k,...O])},m=k=>{switch(k){case"high":return"text-red-600 bg-red-50 border-red-200";case"medium":return"text-yellow-600 bg-yellow-50 border-yellow-200";case"low":return"text-green-600 bg-green-50 border-green-200";default:return"text-gray-600 bg-gray-50 border-gray-200"}},p=k=>{switch(k){case"completed":return"text-green-600 bg-green-50 border-green-200";case"in_progress":return"text-blue-600 bg-blue-50 border-blue-200";case"pending":return"text-gray-600 bg-gray-50 border-gray-200";default:return"text-gray-600 bg-gray-50 border-gray-200"}},v=k=>{switch(k){case"legal":return"text-purple-600 bg-purple-50";case"research":return"text-blue-600 bg-blue-50";case"filing":return"text-orange-600 bg-orange-50";case"meeting":return"text-green-600 bg-green-50";case"intake":return"text-indigo-600 bg-indigo-50";default:return"text-gray-600 bg-gray-50"}},b=k=>{s(t.map(O=>{if(O.id===k){const L=O.status==="completed"?"pending":O.status==="pending"?"in_progress":"completed";return{...O,status:L,completedAt:L==="completed"?new Date().toISOString():void 0}}return O}))},C=(k,O)=>new Date(k)<new Date&&O!=="completed",D=(k=>[...k].sort((O,L)=>{switch(j){case"dueDate":return new Date(O.dueDate).getTime()-new Date(L.dueDate).getTime();case"priority":const W={high:3,medium:2,low:1};return W[L.priority]-W[O.priority];case"status":const ee={pending:3,in_progress:2,completed:1};return ee[L.status]-ee[O.status];case"title":return O.title.localeCompare(L.title);default:return 0}}))(t.filter(k=>{const O=k.title.toLowerCase().includes(a.toLowerCase())||k.description.toLowerCase().includes(a.toLowerCase())||k.caseName&&k.caseName.toLowerCase().includes(a.toLowerCase()),L=l==="all"||k.status===l,W=u==="all"||k.priority===u,ee=h==="all"||k.category===h;return O&&L&&W&&ee})),$={total:t.length,completed:t.filter(k=>k.status==="completed").length,inProgress:t.filter(k=>k.status==="in_progress").length,pending:t.filter(k=>k.status==="pending").length,overdue:t.filter(k=>C(k.dueDate,k.status)).length},z=[{value:"all",label:"All Categories"},{value:"general",label:"General"},{value:"legal",label:"Legal Review"},{value:"research",label:"Research"},{value:"filing",label:"Court Filing"},{value:"meeting",label:"Meeting"},{value:"intake",label:"Client Intake"}];return r?n.jsx("div",{className:"p-6",children:n.jsxs("div",{className:"animate-pulse space-y-4",children:[n.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/4"}),n.jsx("div",{className:"space-y-3",children:[1,2,3].map(k=>n.jsx("div",{className:"h-20 bg-gray-200 rounded"},k))})]})}):n.jsxs("div",{className:"p-6",children:[n.jsxs(_.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-8",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Tasks"}),n.jsx("p",{className:"text-gray-600 mt-1",children:"Manage your case-related tasks and deadlines"})]}),n.jsxs(_.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>y(!0),className:"bg-blue-900 text-white px-4 py-2 rounded-lg font-medium hover:bg-blue-800 transition-colors flex items-center space-x-2",children:[n.jsx(us,{className:"h-4 w-4"}),n.jsx("span",{children:"New Task"})]})]}),n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4 mb-6",children:[n.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:"text-2xl font-bold text-gray-900",children:$.total}),n.jsx("p",{className:"text-sm text-gray-600",children:"Total"})]})}),n.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:"text-2xl font-bold text-green-600",children:$.completed}),n.jsx("p",{className:"text-sm text-gray-600",children:"Completed"})]})}),n.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:"text-2xl font-bold text-blue-600",children:$.inProgress}),n.jsx("p",{className:"text-sm text-gray-600",children:"In Progress"})]})}),n.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:$.pending}),n.jsx("p",{className:"text-sm text-gray-600",children:"Pending"})]})}),n.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:"text-2xl font-bold text-red-600",children:$.overdue}),n.jsx("p",{className:"text-sm text-gray-600",children:"Overdue"})]})})]}),n.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-4 mb-6",children:n.jsxs("div",{className:"flex flex-col lg:flex-row gap-4",children:[n.jsxs("div",{className:"relative flex-1",children:[n.jsx(Dr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),n.jsx("input",{type:"text",placeholder:"Search tasks...",value:a,onChange:k=>o(k.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),n.jsxs("div",{className:"flex flex-wrap gap-2",children:[n.jsxs("select",{value:l,onChange:k=>c(k.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[n.jsx("option",{value:"all",children:"All Status"}),n.jsx("option",{value:"pending",children:"Pending"}),n.jsx("option",{value:"in_progress",children:"In Progress"}),n.jsx("option",{value:"completed",children:"Completed"})]}),n.jsxs("select",{value:u,onChange:k=>d(k.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[n.jsx("option",{value:"all",children:"All Priority"}),n.jsx("option",{value:"high",children:"High"}),n.jsx("option",{value:"medium",children:"Medium"}),n.jsx("option",{value:"low",children:"Low"})]}),n.jsx("select",{value:h,onChange:k=>f(k.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:z.map(k=>n.jsx("option",{value:k.value,children:k.label},k.value))}),n.jsxs("select",{value:j,onChange:k=>w(k.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[n.jsx("option",{value:"dueDate",children:"Sort by Due Date"}),n.jsx("option",{value:"priority",children:"Sort by Priority"}),n.jsx("option",{value:"status",children:"Sort by Status"}),n.jsx("option",{value:"title",children:"Sort by Title"})]})]})]})})]}),D.length===0?n.jsxs(_.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center py-12",children:[n.jsx(yo,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No tasks found"}),n.jsx("p",{className:"text-gray-500 mb-6",children:a||l!=="all"||u!=="all"||h!=="all"?"Try adjusting your search or filter criteria":"Create your first task to get started"}),n.jsxs(_.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>y(!0),className:"bg-blue-600 text-white px-6 py-3 rounded-lg font-medium hover:bg-blue-700 transition-colors flex items-center space-x-2 mx-auto",children:[n.jsx(us,{className:"h-4 w-4"}),n.jsx("span",{children:"Create Task"})]})]}):n.jsx("div",{className:"space-y-4",children:D.map((k,O)=>{var L;return n.jsx(_.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:O*.1},className:`bg-white rounded-lg border-2 p-6 hover:shadow-md transition-all ${C(k.dueDate,k.status)?"border-red-300 bg-red-50":"border-gray-200"}`,children:n.jsxs("div",{className:"flex items-start space-x-4",children:[n.jsx(_.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>b(k.id),className:"mt-1",children:k.status==="completed"?n.jsx(yo,{className:"h-5 w-5 text-green-500"}):n.jsx(t2,{className:"h-5 w-5 text-gray-400 hover:text-gray-600"})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("div",{className:"flex items-start justify-between mb-3",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("h3",{className:`font-semibold text-lg ${k.status==="completed"?"line-through text-gray-500":"text-gray-900"}`,children:k.title}),n.jsx("p",{className:`text-sm mt-1 ${k.status==="completed"?"text-gray-400":"text-gray-600"}`,children:k.description})]}),n.jsxs("div",{className:"flex items-center space-x-2 ml-4",children:[n.jsxs("span",{className:`px-2 py-1 rounded-full text-xs font-medium border ${m(k.priority)}`,children:[n.jsx(Hg,{className:"h-3 w-3 inline mr-1"}),k.priority]}),n.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium border ${p(k.status)}`,children:k.status.replace("_"," ")}),n.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${v(k.category)}`,children:(L=z.find(W=>W.value===k.category))==null?void 0:L.label}),n.jsx("button",{className:"p-1 text-gray-400 hover:text-gray-600 transition-colors",children:n.jsx(qg,{className:"h-4 w-4"})})]})]}),n.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-500",children:[n.jsxs("div",{className:"flex items-center space-x-6",children:[n.jsxs("div",{className:"flex items-center space-x-1",children:[n.jsx(We,{className:"h-4 w-4"}),n.jsxs("span",{children:["Due: ",new Date(k.dueDate).toLocaleDateString()]}),C(k.dueDate,k.status)&&n.jsx("span",{className:"text-red-500 font-medium",children:"(Overdue)"})]}),n.jsxs("div",{className:"flex items-center space-x-1",children:[n.jsx(dt,{className:"h-4 w-4"}),n.jsx("span",{children:k.assignedTo==="client"?"You":k.assignedTo==="lawyer"?"Legal Team":"Both"})]}),n.jsxs("div",{className:"flex items-center space-x-1",children:[n.jsx(Ke,{className:"h-4 w-4"}),n.jsxs("span",{children:[k.estimatedHours,"h estimated"]})]})]}),k.caseName&&n.jsx("span",{className:"text-blue-600 font-medium",children:k.caseName})]}),k.completedAt&&n.jsxs("div",{className:"mt-2 text-xs text-green-600",children:["Completed on ",new Date(k.completedAt).toLocaleDateString()]}),k.dependencies&&k.dependencies.length>0&&n.jsxs("div",{className:"mt-2 text-xs text-gray-500",children:["Depends on: ",k.dependencies.join(", ")]})]})]})},k.id)})}),n.jsx(L_,{isOpen:x,onClose:()=>y(!1),onTaskCreated:g})]})},I_=({meeting:e,onEndCall:t})=>{const[s,r]=N.useState(!0),[i,a]=N.useState(!0),[o,l]=N.useState(!1),[c,u]=N.useState(!1),[d,h]=N.useState(!1),[f,x]=N.useState([]),[y,j]=N.useState(""),[w,g]=N.useState(0),[m,p]=N.useState(!1),v=N.useRef(null),[b,C]=N.useState(null);N.useEffect(()=>{T();const L=setInterval(()=>{g(W=>W+1)},1e3);return()=>{clearInterval(L),b&&b.getTracks().forEach(W=>W.stop())}},[]);const T=async()=>{try{const L=await navigator.mediaDevices.getUserMedia({video:!0,audio:!0});C(L),v.current&&(v.current.srcObject=L)}catch(L){console.error("Error accessing media devices:",L)}},D=()=>{if(b){const L=b.getVideoTracks()[0];L&&(L.enabled=!L.enabled,r(L.enabled))}},$=()=>{if(b){const L=b.getAudioTracks()[0];L&&(L.enabled=!L.enabled,a(L.enabled))}},z=async()=>{try{if(o){const L=await navigator.mediaDevices.getUserMedia({video:s,audio:i});v.current&&(v.current.srcObject=L),l(!1)}else{const L=await navigator.mediaDevices.getDisplayMedia({video:!0,audio:!0});v.current&&(v.current.srcObject=L),l(!0)}}catch(L){console.error("Error with screen sharing:",L)}},k=()=>{if(y.trim()){const L={id:Date.now().toString(),sender:"You",message:y,timestamp:new Date().toLocaleTimeString()};x(W=>[...W,L]),j("")}},O=L=>{const W=Math.floor(L/60),ee=L%60;return`${W.toString().padStart(2,"0")}:${ee.toString().padStart(2,"0")}`};return n.jsx("div",{className:"fixed inset-0 bg-gray-900 z-50",children:n.jsxs("div",{className:"h-full flex flex-col",children:[n.jsxs("div",{className:"bg-gray-800 text-white p-4 flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-lg font-semibold",children:e.title}),n.jsx("p",{className:"text-sm text-gray-300",children:e.participants.join(", ")})]}),n.jsxs("div",{className:"flex items-center space-x-4 text-sm",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("div",{className:"bg-red-500 w-3 h-3 rounded-full animate-pulse"}),n.jsx("span",{children:O(w)})]}),m&&n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("div",{className:"bg-red-500 w-3 h-3 rounded-full animate-pulse"}),n.jsx("span",{children:"Recording"})]})]})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(_.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>p(!m),className:`p-2 rounded-lg ${m?"bg-red-600 hover:bg-red-500":"bg-gray-600 hover:bg-gray-500"} transition-colors`,children:n.jsx("div",{className:"w-4 h-4 bg-white rounded-full"})}),n.jsx(_.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>h(!d),className:"p-2 rounded-lg bg-gray-600 hover:bg-gray-500 transition-colors",children:n.jsx(js,{className:"h-4 w-4"})}),n.jsxs(_.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>u(!c),className:"p-2 rounded-lg bg-gray-600 hover:bg-gray-500 transition-colors relative",children:[n.jsx(wt,{className:"h-4 w-4"}),f.length>0&&n.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center",children:f.length})]}),n.jsx(_.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"p-2 rounded-lg bg-gray-600 hover:bg-gray-500 transition-colors",children:n.jsx(qg,{className:"h-4 w-4"})})]})]}),n.jsxs("div",{className:"flex-1 flex",children:[n.jsxs("div",{className:"flex-1 relative bg-black",children:[n.jsx("video",{ref:v,autoPlay:!0,muted:!0,className:"w-full h-full object-cover"}),!s&&n.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-gray-800",children:n.jsxs("div",{className:"text-center text-white",children:[n.jsx("div",{className:"w-24 h-24 bg-gray-600 rounded-full flex items-center justify-center mx-auto mb-4",children:n.jsx("span",{className:"text-2xl font-bold",children:"JD"})}),n.jsx("p",{children:"Camera is off"})]})}),o&&n.jsx("div",{className:"absolute top-4 left-4 bg-blue-600 text-white px-3 py-1 rounded-lg text-sm",children:"Screen Sharing"}),n.jsx("div",{className:"absolute top-4 right-4 space-y-2",children:e.participants.slice(1).map((L,W)=>n.jsx("div",{className:"w-32 h-24 bg-gray-700 rounded-lg flex items-center justify-center",children:n.jsxs("div",{className:"text-white text-center",children:[n.jsx("div",{className:"w-8 h-8 bg-gray-500 rounded-full mx-auto mb-1 flex items-center justify-center",children:n.jsx("span",{className:"text-xs font-bold",children:L.split(" ").map(ee=>ee[0]).join("")})}),n.jsx("p",{className:"text-xs",children:L.split(" ")[0]})]})},W))}),n.jsxs("div",{className:"absolute bottom-20 left-4 flex items-center space-x-2 text-white text-sm",children:[n.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),n.jsx("span",{children:"Connection: Excellent"})]})]}),c&&n.jsxs(_.div,{initial:{x:300},animate:{x:0},exit:{x:300},className:"w-80 bg-white border-l border-gray-200 flex flex-col",children:[n.jsx("div",{className:"p-4 border-b border-gray-200",children:n.jsx("h3",{className:"font-semibold text-gray-900",children:"Chat"})}),n.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-3",children:[f.map(L=>n.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[n.jsxs("div",{className:"flex justify-between items-start mb-1",children:[n.jsx("span",{className:"font-medium text-sm text-gray-900",children:L.sender}),n.jsx("span",{className:"text-xs text-gray-500",children:L.timestamp})]}),n.jsx("p",{className:"text-sm text-gray-700",children:L.message})]},L.id)),f.length===0&&n.jsx("p",{className:"text-gray-500 text-center",children:"No messages yet"})]}),n.jsx("div",{className:"p-4 border-t border-gray-200",children:n.jsxs("div",{className:"flex space-x-2",children:[n.jsx("input",{type:"text",value:y,onChange:L=>j(L.target.value),onKeyPress:L=>L.key==="Enter"&&k(),placeholder:"Type a message...",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}),n.jsx("button",{onClick:k,className:"bg-blue-500 text-white px-3 py-2 rounded-lg hover:bg-blue-600 transition-colors",children:"Send"})]})})]}),d&&n.jsxs(_.div,{initial:{x:300},animate:{x:0},exit:{x:300},className:"w-80 bg-white border-l border-gray-200",children:[n.jsx("div",{className:"p-4 border-b border-gray-200",children:n.jsxs("h3",{className:"font-semibold text-gray-900",children:["Participants (",e.participants.length,")"]})}),n.jsx("div",{className:"p-4 space-y-3",children:e.participants.map((L,W)=>n.jsxs("div",{className:"flex items-center space-x-3 p-2 rounded-lg hover:bg-gray-50",children:[n.jsx("div",{className:"w-8 h-8 bg-blue-500 rounded-full flex items-center justify-center",children:n.jsx("span",{className:"text-white text-sm font-bold",children:L.split(" ").map(ee=>ee[0]).join("")})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"font-medium text-gray-900",children:L}),n.jsxs("div",{className:"flex items-center space-x-2 text-xs text-gray-500",children:[n.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),n.jsx("span",{children:"Connected"})]})]}),n.jsxs("div",{className:"flex space-x-1",children:[n.jsx(Kf,{className:"h-4 w-4 text-green-500"}),n.jsx(Jt,{className:"h-4 w-4 text-green-500"})]})]},W))})]})]}),n.jsx("div",{className:"bg-gray-800 p-4",children:n.jsxs("div",{className:"flex items-center justify-center space-x-4",children:[n.jsx(_.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:$,className:`p-3 rounded-full ${i?"bg-gray-600 hover:bg-gray-500":"bg-red-600 hover:bg-red-500"} text-white transition-colors`,children:i?n.jsx(Kf,{className:"h-5 w-5"}):n.jsx(Y1,{className:"h-5 w-5"})}),n.jsx(_.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:D,className:`p-3 rounded-full ${s?"bg-gray-600 hover:bg-gray-500":"bg-red-600 hover:bg-red-500"} text-white transition-colors`,children:s?n.jsx(Jt,{className:"h-5 w-5"}):n.jsx(n2,{className:"h-5 w-5"})}),n.jsx(_.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:z,className:`p-3 rounded-full ${o?"bg-blue-600 hover:bg-blue-500":"bg-gray-600 hover:bg-gray-500"} text-white transition-colors`,children:n.jsx(Q1,{className:"h-5 w-5"})}),n.jsx(_.button,{whileHover:{scale:1.1},whileTap:{scale:.9},className:"p-3 rounded-full bg-gray-600 hover:bg-gray-500 text-white transition-colors",children:n.jsx(Ed,{className:"h-5 w-5"})}),n.jsx(_.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:t,className:"p-3 rounded-full bg-red-600 hover:bg-red-500 text-white transition-colors",children:n.jsx(J1,{className:"h-5 w-5"})})]})})]})})},O_=()=>{const[e,t]=N.useState([]),[s,r]=N.useState(null),[i,a]=N.useState(!1),[o,l]=N.useState(!1),[c,u]=N.useState(""),[d,h]=N.useState("all");N.useEffect(()=>{t([{id:"1",title:"Contract Review Discussion",date:"2024-01-30",time:"10:00 AM",duration:60,participants:["John Doe (You)","Attorney Smith"],status:"scheduled",type:"video",description:"Review employment contract terms and conditions",meetingUrl:"https://meet.example.com/contract-review-123"},{id:"2",title:"Case Strategy Meeting",date:"2024-01-28",time:"2:00 PM",duration:45,participants:["John Doe (You)","Attorney Smith","Paralegal Johnson"],status:"completed",type:"video",description:"Discuss litigation strategy and next steps"},{id:"3",title:"Initial Consultation",date:"2024-02-02",time:"11:00 AM",duration:30,participants:["John Doe (You)","Attorney Smith"],status:"scheduled",type:"phone",description:"Initial case assessment and consultation"},{id:"4",title:"Document Review Session",date:"2024-02-05",time:"3:00 PM",duration:90,participants:["John Doe (You)","Attorney Smith"],status:"scheduled",type:"video",description:"Review discovery documents and evidence"}])},[]);const f=b=>{r(b),a(!0)},x=()=>{a(!1),r(null)},y=b=>{switch(b){case"scheduled":return"bg-blue-100 text-blue-800";case"active":return"bg-green-100 text-green-800";case"completed":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},j=b=>{switch(b){case"video":return n.jsx(Jt,{className:"h-4 w-4"});case"phone":return n.jsx(br,{className:"h-4 w-4"});case"in-person":return n.jsx(js,{className:"h-4 w-4"});default:return n.jsx(We,{className:"h-4 w-4"})}},w=e.filter(b=>{var D;const C=b.title.toLowerCase().includes(c.toLowerCase())||((D=b.description)==null?void 0:D.toLowerCase().includes(c.toLowerCase())),T=d==="all"||b.status===d;return C&&T}),g=w.filter(b=>b.status==="scheduled"),m=w.filter(b=>b.status==="completed"),p=b=>{const C=new Date().toDateString(),T=new Date(b).toDateString();return C===T},v=(b,C)=>{const T=new Date,$=(new Date(`${b} ${C}`).getTime()-T.getTime())/(1e3*60);return $<=15&&$>0};return n.jsxs("div",{className:"p-6",children:[n.jsxs(_.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-8",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Video Consultations"}),n.jsx("p",{className:"text-gray-600 mt-1",children:"Schedule and join video meetings with your legal team"})]}),n.jsxs(_.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>l(!0),className:"bg-blue-900 text-white px-4 py-2 rounded-lg font-medium hover:bg-blue-800 transition-colors flex items-center space-x-2",children:[n.jsx(us,{className:"h-4 w-4"}),n.jsx("span",{children:"Schedule Meeting"})]})]}),n.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-6",children:[n.jsxs("div",{className:"relative flex-1",children:[n.jsx(Dr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),n.jsx("input",{type:"text",placeholder:"Search meetings...",value:c,onChange:b=>u(b.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),n.jsxs("div",{className:"relative",children:[n.jsx(Zo,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),n.jsxs("select",{value:d,onChange:b=>h(b.target.value),className:"pl-10 pr-8 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white",children:[n.jsx("option",{value:"all",children:"All Meetings"}),n.jsx("option",{value:"scheduled",children:"Scheduled"}),n.jsx("option",{value:"completed",children:"Completed"})]})]})]})]}),n.jsx(_.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-8 bg-gradient-to-r from-blue-50 to-purple-50 rounded-lg border border-blue-200 p-6",children:n.jsxs("div",{className:"text-center",children:[n.jsx(Jt,{className:"h-12 w-12 text-blue-600 mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Need an immediate consultation?"}),n.jsx("p",{className:"text-gray-600 mb-4",children:"Start an instant video call with available legal team members"}),n.jsxs(_.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>f({id:"instant",title:"Instant Consultation",date:new Date().toISOString().split("T")[0],time:new Date().toLocaleTimeString(),duration:30,participants:["You","Available Attorney"],status:"active",type:"video"}),className:"bg-blue-600 text-white px-6 py-3 rounded-lg font-medium hover:bg-blue-700 transition-colors flex items-center space-x-2 mx-auto",children:[n.jsx(br,{className:"h-4 w-4"}),n.jsx("span",{children:"Start Instant Call"})]})]})}),g.length>0&&n.jsxs("div",{className:"mb-8",children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Upcoming Meetings"}),n.jsx("div",{className:"grid gap-4",children:g.map(b=>n.jsx(_.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:`bg-white rounded-lg border-2 p-6 hover:shadow-md transition-all ${v(b.date,b.time)?"border-green-300 bg-green-50":"border-gray-200"}`,children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:b.title}),n.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${y(b.status)}`,children:b.status.charAt(0).toUpperCase()+b.status.slice(1)}),p(b.date)&&n.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-medium bg-orange-100 text-orange-800",children:"Today"}),v(b.date,b.time)&&n.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-medium bg-red-100 text-red-800 animate-pulse",children:"Starting Soon"})]}),n.jsxs("div",{className:"flex items-center space-x-6 text-sm text-gray-600 mb-3",children:[n.jsxs("div",{className:"flex items-center space-x-1",children:[n.jsx(We,{className:"h-4 w-4"}),n.jsx("span",{children:new Date(b.date).toLocaleDateString()})]}),n.jsxs("div",{className:"flex items-center space-x-1",children:[n.jsx(Ke,{className:"h-4 w-4"}),n.jsxs("span",{children:[b.time," (",b.duration," min)"]})]}),n.jsxs("div",{className:"flex items-center space-x-1",children:[j(b.type),n.jsx("span",{className:"capitalize",children:b.type})]}),n.jsxs("div",{className:"flex items-center space-x-1",children:[n.jsx(js,{className:"h-4 w-4"}),n.jsxs("span",{children:[b.participants.length," participants"]})]})]}),b.description&&n.jsx("p",{className:"text-sm text-gray-600 mb-3",children:b.description}),n.jsxs("div",{className:"text-sm text-gray-600",children:[n.jsx("strong",{children:"Participants:"})," ",b.participants.join(", ")]})]}),n.jsxs("div",{className:"flex space-x-2",children:[b.type==="video"&&n.jsxs(_.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>f(b),className:"bg-green-600 text-white px-4 py-2 rounded-lg font-medium hover:bg-green-700 transition-colors flex items-center space-x-2",children:[n.jsx(Jt,{className:"h-4 w-4"}),n.jsx("span",{children:"Join"})]}),b.type==="phone"&&n.jsxs(_.button,{whileHover:{scale:1.02},whileTap:{scale:.98},className:"bg-blue-600 text-white px-4 py-2 rounded-lg font-medium hover:bg-blue-700 transition-colors flex items-center space-x-2",children:[n.jsx(br,{className:"h-4 w-4"}),n.jsx("span",{children:"Call"})]}),n.jsx(_.button,{whileHover:{scale:1.02},whileTap:{scale:.98},className:"bg-gray-100 text-gray-700 px-4 py-2 rounded-lg font-medium hover:bg-gray-200 transition-colors",children:"Reschedule"})]})]})},b.id))})]}),m.length>0&&n.jsxs("div",{children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Past Meetings"}),n.jsx("div",{className:"grid gap-4",children:m.map(b=>n.jsx(_.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-lg border border-gray-200 p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:b.title}),n.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${y(b.status)}`,children:b.status.charAt(0).toUpperCase()+b.status.slice(1)})]}),n.jsxs("div",{className:"flex items-center space-x-6 text-sm text-gray-600 mb-3",children:[n.jsxs("div",{className:"flex items-center space-x-1",children:[n.jsx(We,{className:"h-4 w-4"}),n.jsx("span",{children:new Date(b.date).toLocaleDateString()})]}),n.jsxs("div",{className:"flex items-center space-x-1",children:[n.jsx(Ke,{className:"h-4 w-4"}),n.jsxs("span",{children:[b.time," (",b.duration," min)"]})]}),n.jsxs("div",{className:"flex items-center space-x-1",children:[j(b.type),n.jsx("span",{className:"capitalize",children:b.type})]})]}),b.description&&n.jsx("p",{className:"text-sm text-gray-600 mb-3",children:b.description}),n.jsxs("div",{className:"text-sm text-gray-600",children:[n.jsx("strong",{children:"Participants:"})," ",b.participants.join(", ")]})]}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsx(_.button,{whileHover:{scale:1.02},whileTap:{scale:.98},className:"bg-blue-100 text-blue-700 px-4 py-2 rounded-lg font-medium hover:bg-blue-200 transition-colors",children:"View Recording"}),n.jsx(_.button,{whileHover:{scale:1.02},whileTap:{scale:.98},className:"bg-gray-100 text-gray-700 px-4 py-2 rounded-lg font-medium hover:bg-gray-200 transition-colors",children:"Transcript"})]})]})},b.id))})]}),w.length===0&&n.jsxs(_.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center py-12",children:[n.jsx(Jt,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No meetings found"}),n.jsx("p",{className:"text-gray-500 mb-6",children:c||d!=="all"?"Try adjusting your search or filter criteria":"Schedule your first consultation to get started"}),n.jsxs(_.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>l(!0),className:"bg-blue-600 text-white px-6 py-3 rounded-lg font-medium hover:bg-blue-700 transition-colors flex items-center space-x-2 mx-auto",children:[n.jsx(us,{className:"h-4 w-4"}),n.jsx("span",{children:"Schedule Meeting"})]})]}),i&&s&&n.jsx(I_,{meeting:s,onEndCall:x}),n.jsx(eh,{isOpen:o,onClose:()=>l(!1)})]})},V_=()=>{const[e,t]=N.useState(null),[s,r]=N.useState(!0),[i,a]=N.useState("6months");N.useEffect(()=>{const l={caseProgress:{totalCases:12,activeCases:4,completedCases:8,averageResolutionTime:45},communication:{totalMessages:156,responseTime:2.5,meetingsHeld:18,documentsShared:34},billing:{totalBilled:28500,totalPaid:24200,averageHourlyRate:250,hoursLogged:114},timeline:[{month:"Jul",cases:2,hours:18,billing:4500},{month:"Aug",cases:3,hours:24,billing:6e3},{month:"Sep",cases:1,hours:12,billing:3e3},{month:"Oct",cases:2,hours:20,billing:5e3},{month:"Nov",cases:3,hours:28,billing:7e3},{month:"Dec",cases:1,hours:12,billing:3e3}]};setTimeout(()=>{t(l),r(!1)},1e3)},[i]);const o=(l,c)=>c>0?l/c*100:0;return s?n.jsx("div",{className:"p-6",children:n.jsxs("div",{className:"animate-pulse space-y-6",children:[n.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/4"}),n.jsx("div",{className:"grid grid-cols-4 gap-4",children:[1,2,3,4].map(l=>n.jsx("div",{className:"h-32 bg-gray-200 rounded"},l))}),n.jsx("div",{className:"h-64 bg-gray-200 rounded"})]})}):e?n.jsxs("div",{className:"p-6",children:[n.jsx(_.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-8",children:n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Analytics Dashboard"}),n.jsx("p",{className:"text-gray-600 mt-1",children:"Track your legal case progress and insights"})]}),n.jsxs("select",{value:i,onChange:l=>a(l.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[n.jsx("option",{value:"3months",children:"Last 3 Months"}),n.jsx("option",{value:"6months",children:"Last 6 Months"}),n.jsx("option",{value:"1year",children:"Last Year"})]})]})}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[n.jsxs(_.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-lg border border-gray-200 p-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("div",{className:"bg-blue-500 p-3 rounded-lg",children:n.jsx(pe,{className:"h-6 w-6 text-white"})}),n.jsxs("div",{className:"text-right",children:[n.jsx("p",{className:"text-2xl font-bold text-gray-900",children:e.caseProgress.totalCases}),n.jsx("p",{className:"text-sm text-gray-600",children:"Total Cases"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-gray-600",children:"Active"}),n.jsx("span",{className:"font-medium",children:e.caseProgress.activeCases})]}),n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-gray-600",children:"Completed"}),n.jsx("span",{className:"font-medium",children:e.caseProgress.completedCases})]})]})]}),n.jsxs(_.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white rounded-lg border border-gray-200 p-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("div",{className:"bg-green-500 p-3 rounded-lg",children:n.jsx(Tr,{className:"h-6 w-6 text-white"})}),n.jsxs("div",{className:"text-right",children:[n.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:["$",e.billing.totalBilled.toLocaleString()]}),n.jsx("p",{className:"text-sm text-gray-600",children:"Total Billed"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-gray-600",children:"Paid"}),n.jsxs("span",{className:"font-medium",children:["$",e.billing.totalPaid.toLocaleString()]})]}),n.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:n.jsx("div",{className:"bg-green-500 h-2 rounded-full",style:{width:`${o(e.billing.totalPaid,e.billing.totalBilled)}%`}})})]})]}),n.jsxs(_.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white rounded-lg border border-gray-200 p-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("div",{className:"bg-purple-500 p-3 rounded-lg",children:n.jsx(Ke,{className:"h-6 w-6 text-white"})}),n.jsxs("div",{className:"text-right",children:[n.jsx("p",{className:"text-2xl font-bold text-gray-900",children:e.billing.hoursLogged}),n.jsx("p",{className:"text-sm text-gray-600",children:"Hours Logged"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-gray-600",children:"Avg Rate"}),n.jsxs("span",{className:"font-medium",children:["$",e.billing.averageHourlyRate,"/hr"]})]}),n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-gray-600",children:"Resolution Time"}),n.jsxs("span",{className:"font-medium",children:[e.caseProgress.averageResolutionTime," days"]})]})]})]}),n.jsxs(_.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-white rounded-lg border border-gray-200 p-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("div",{className:"bg-orange-500 p-3 rounded-lg",children:n.jsx(wt,{className:"h-6 w-6 text-white"})}),n.jsxs("div",{className:"text-right",children:[n.jsx("p",{className:"text-2xl font-bold text-gray-900",children:e.communication.totalMessages}),n.jsx("p",{className:"text-sm text-gray-600",children:"Messages"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-gray-600",children:"Response Time"}),n.jsxs("span",{className:"font-medium",children:[e.communication.responseTime,"h"]})]}),n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-gray-600",children:"Meetings"}),n.jsx("span",{className:"font-medium",children:e.communication.meetingsHeld})]})]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[n.jsxs(_.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:"bg-white rounded-lg border border-gray-200 p-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Case Progress"}),n.jsx(iu,{className:"h-5 w-5 text-gray-400"})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Completed Cases"}),n.jsxs("span",{className:"text-sm font-bold text-green-600",children:[e.caseProgress.completedCases,"/",e.caseProgress.totalCases]})]}),n.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:n.jsx("div",{className:"bg-green-500 h-3 rounded-full transition-all duration-500",style:{width:`${o(e.caseProgress.completedCases,e.caseProgress.totalCases)}%`}})}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Active Cases"}),n.jsxs("span",{className:"text-sm font-bold text-blue-600",children:[e.caseProgress.activeCases,"/",e.caseProgress.totalCases]})]}),n.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:n.jsx("div",{className:"bg-blue-500 h-3 rounded-full transition-all duration-500",style:{width:`${o(e.caseProgress.activeCases,e.caseProgress.totalCases)}%`}})})]}),n.jsxs("div",{className:"mt-6 p-4 bg-gray-50 rounded-lg",children:[n.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[n.jsx(Wg,{className:"h-4 w-4 text-gray-600"}),n.jsx("span",{className:"text-sm font-medium text-gray-900",children:"Average Resolution Time"})]}),n.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[e.caseProgress.averageResolutionTime," days"]}),n.jsx("p",{className:"text-xs text-gray-500",children:"Based on completed cases"})]})]}),n.jsxs(_.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"bg-white rounded-lg border border-gray-200 p-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Monthly Trends"}),n.jsx(bs,{className:"h-5 w-5 text-gray-400"})]}),n.jsx("div",{className:"space-y-4",children:e.timeline.map((l,c)=>n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("div",{className:"w-8 text-sm font-medium text-gray-600",children:l.month}),n.jsxs("div",{className:"flex-1 space-y-1",children:[n.jsxs("div",{className:"flex justify-between text-xs",children:[n.jsxs("span",{className:"text-gray-500",children:["Cases: ",l.cases]}),n.jsxs("span",{className:"text-gray-500",children:["Hours: ",l.hours]})]}),n.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:n.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-purple-500 h-2 rounded-full transition-all duration-500",style:{width:`${l.billing/7e3*100}%`}})}),n.jsxs("div",{className:"text-xs font-medium text-gray-900",children:["$",l.billing.toLocaleString()]})]})]},l.month))})]})]}),n.jsxs(_.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-lg border border-gray-200 p-6",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Communication Insights"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[n.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[n.jsx(wt,{className:"h-8 w-8 text-blue-600 mx-auto mb-2"}),n.jsx("p",{className:"text-2xl font-bold text-blue-600",children:e.communication.totalMessages}),n.jsx("p",{className:"text-sm text-gray-600",children:"Total Messages"}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Avg 26 per case"})]}),n.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[n.jsx(Ke,{className:"h-8 w-8 text-green-600 mx-auto mb-2"}),n.jsxs("p",{className:"text-2xl font-bold text-green-600",children:[e.communication.responseTime,"h"]}),n.jsx("p",{className:"text-sm text-gray-600",children:"Avg Response Time"}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Within business hours"})]}),n.jsxs("div",{className:"text-center p-4 bg-purple-50 rounded-lg",children:[n.jsx(We,{className:"h-8 w-8 text-purple-600 mx-auto mb-2"}),n.jsx("p",{className:"text-2xl font-bold text-purple-600",children:e.communication.meetingsHeld}),n.jsx("p",{className:"text-sm text-gray-600",children:"Meetings Held"}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"1.5 per case avg"})]})]})]})]}):null},$_=()=>{const[e,t]=N.useState("chat"),[s,r]=N.useState([{id:"1",type:"ai",content:"Hello! I'm your AI legal assistant. I can help you analyze documents, answer legal questions, and provide insights about your cases. How can I assist you today?",timestamp:new Date().toISOString()}]),[i,a]=N.useState(""),[o,l]=N.useState([{id:"1",type:"contract",title:"Employment Contract Analysis",summary:"Comprehensive analysis of employment agreement with ABC Corp. Identified several areas of concern regarding termination clauses and non-compete agreements.",riskLevel:"medium",keyFindings:["Non-compete clause extends 24 months post-termination","Termination notice period is below industry standard","Intellectual property assignment is broadly defined","Severance package terms are favorable"],recommendations:["Negotiate reduction of non-compete period to 12 months","Request clarification on intellectual property scope","Consider adding specific performance metrics for termination"],confidence:87,createdAt:"2024-01-20"},{id:"2",type:"document",title:"Legal Brief Analysis",summary:"Analysis of opposing counsel's motion to dismiss. Identified potential weaknesses in their arguments and suggested counter-strategies.",riskLevel:"low",keyFindings:["Motion lacks sufficient legal precedent","Factual assertions are not well-supported","Procedural requirements appear to be met","Timeline favors our position"],recommendations:["File comprehensive response highlighting precedent gaps","Request additional discovery on disputed facts","Consider cross-motion for summary judgment"],confidence:92,createdAt:"2024-01-18"}]),[c,u]=N.useState(!1),d=async()=>{if(!i.trim())return;const w={id:Date.now().toString(),type:"user",content:i,timestamp:new Date().toISOString()};r(g=>[...g,w]),a(""),u(!0),setTimeout(()=>{const g={id:(Date.now()+1).toString(),type:"ai",content:h(),timestamp:new Date().toISOString()};r(m=>[...m,g]),u(!1)},1500)},h=w=>{const g=["Based on your question, I'd recommend reviewing the relevant case law in your jurisdiction. The key precedents to consider are...","This is an interesting legal question. From my analysis of similar cases, the typical approach would be to...","I've analyzed your document and found several important points to consider. Let me break down the key issues...","According to current legal standards and best practices, I would suggest the following approach...","This situation requires careful consideration of multiple factors. Here's my analysis of the potential outcomes..."];return g[Math.floor(Math.random()*g.length)]},f=w=>{switch(w){case"high":return"text-red-600 bg-red-50 border-red-200";case"medium":return"text-yellow-600 bg-yellow-50 border-yellow-200";case"low":return"text-green-600 bg-green-50 border-green-200";default:return"text-gray-600 bg-gray-50 border-gray-200"}},x=()=>n.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 h-[600px] flex flex-col",children:[n.jsx("div",{className:"p-4 border-b border-gray-200",children:n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"bg-blue-500 p-2 rounded-full",children:n.jsx(xo,{className:"h-5 w-5 text-white"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-gray-900",children:"AI Legal Assistant"}),n.jsx("p",{className:"text-sm text-gray-500",children:"Online  Ready to help"})]})]})}),n.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[s.map(w=>n.jsx("div",{className:`flex ${w.type==="user"?"justify-end":"justify-start"}`,children:n.jsxs("div",{className:`max-w-xs lg:max-w-md px-4 py-2 rounded-lg ${w.type==="user"?"bg-blue-500 text-white":"bg-gray-100 text-gray-900"}`,children:[n.jsx("p",{className:"text-sm",children:w.content}),n.jsx("p",{className:`text-xs mt-1 ${w.type==="user"?"text-blue-100":"text-gray-500"}`,children:new Date(w.timestamp).toLocaleTimeString()})]})},w.id)),c&&n.jsx("div",{className:"flex justify-start",children:n.jsx("div",{className:"bg-gray-100 text-gray-900 px-4 py-2 rounded-lg",children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-500"}),n.jsx("span",{className:"text-sm",children:"AI is thinking..."})]})})})]}),n.jsx("div",{className:"p-4 border-t border-gray-200",children:n.jsxs("div",{className:"flex space-x-2",children:[n.jsx("input",{type:"text",value:i,onChange:w=>a(w.target.value),onKeyPress:w=>w.key==="Enter"&&d(),placeholder:"Ask me anything about your legal matters...",className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}),n.jsx(_.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:d,disabled:c||!i.trim(),className:"bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600 transition-colors disabled:opacity-50",children:"Send"})]})})]}),y=()=>n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Document Analyses"}),n.jsxs(_.button,{whileHover:{scale:1.02},whileTap:{scale:.98},className:"bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600 transition-colors flex items-center space-x-2",children:[n.jsx(Ks,{className:"h-4 w-4"}),n.jsx("span",{children:"Analyze Document"})]})]}),n.jsx("div",{className:"grid gap-6",children:o.map(w=>n.jsxs(_.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-lg border border-gray-200 p-6",children:[n.jsxs("div",{className:"flex items-start justify-between mb-4",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(pe,{className:"h-6 w-6 text-blue-500"}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-semibold text-gray-900",children:w.title}),n.jsx("p",{className:"text-sm text-gray-500",children:new Date(w.createdAt).toLocaleDateString()})]})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsxs("span",{className:`px-2 py-1 rounded-full text-xs font-medium border ${f(w.riskLevel)}`,children:[w.riskLevel.toUpperCase()," RISK"]}),n.jsxs("span",{className:"text-sm text-gray-500",children:[w.confidence,"% confidence"]})]})]}),n.jsx("p",{className:"text-gray-600 mb-4",children:w.summary}),n.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsxs("h5",{className:"font-medium text-gray-900 mb-2 flex items-center",children:[n.jsx(Dr,{className:"h-4 w-4 mr-1"}),"Key Findings"]}),n.jsx("ul",{className:"space-y-1",children:w.keyFindings.map((g,m)=>n.jsxs("li",{className:"text-sm text-gray-600 flex items-start",children:[n.jsx(vs,{className:"h-3 w-3 text-green-500 mr-2 mt-0.5 flex-shrink-0"}),g]},m))})]}),n.jsxs("div",{children:[n.jsxs("h5",{className:"font-medium text-gray-900 mb-2 flex items-center",children:[n.jsx(di,{className:"h-4 w-4 mr-1"}),"Recommendations"]}),n.jsx("ul",{className:"space-y-1",children:w.recommendations.map((g,m)=>n.jsxs("li",{className:"text-sm text-gray-600 flex items-start",children:[n.jsx(Nn,{className:"h-3 w-3 text-yellow-500 mr-2 mt-0.5 flex-shrink-0"}),g]},m))})]})]}),n.jsxs("div",{className:"flex justify-end space-x-2 mt-4 pt-4 border-t border-gray-100",children:[n.jsxs(_.button,{whileHover:{scale:1.02},whileTap:{scale:.98},className:"bg-gray-100 text-gray-700 px-3 py-1 rounded text-sm hover:bg-gray-200 transition-colors flex items-center space-x-1",children:[n.jsx(vo,{className:"h-3 w-3"}),n.jsx("span",{children:"Export Report"})]}),n.jsx(_.button,{whileHover:{scale:1.02},whileTap:{scale:.98},className:"bg-blue-100 text-blue-700 px-3 py-1 rounded text-sm hover:bg-blue-200 transition-colors",children:"View Details"})]})]},w.id))})]}),j=[{id:"chat",label:"AI Chat",icon:xo},{id:"analyses",label:"Document Analysis",icon:pe},{id:"insights",label:"Case Insights",icon:di}];return n.jsxs("div",{className:"p-6",children:[n.jsxs(_.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-8",children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"AI Legal Assistant"}),n.jsx("p",{className:"text-gray-600",children:"Get intelligent insights and assistance for your legal matters"})]}),n.jsx("div",{className:"mb-6",children:n.jsx("nav",{className:"flex space-x-1 bg-gray-100 p-1 rounded-lg",children:j.map(w=>{const g=w.icon;return n.jsxs(_.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>t(w.id),className:`flex items-center space-x-2 px-4 py-2 rounded-lg font-medium transition-colors ${e===w.id?"bg-white text-blue-600 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:[n.jsx(g,{className:"h-4 w-4"}),n.jsx("span",{children:w.label})]},w.id)})})}),n.jsxs(_.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.3},children:[e==="chat"&&x(),e==="analyses"&&y(),e==="insights"&&n.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-8 text-center",children:[n.jsx(di,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Case Insights Coming Soon"}),n.jsx("p",{className:"text-gray-500",children:"AI-powered case analysis and predictive insights will be available here."})]})]},e)]})},F_=()=>{const{user:e}=tt(),[t,s]=N.useState(null),[r,i]=N.useState(null),[a,o]=N.useState(!0);N.useEffect(()=>{const u={totalBilled:8750,hoursLogged:35,averageRate:250,taskBreakdown:[{task:"Contract Review & Analysis",hours:8,rate:250,total:2e3,date:"2024-01-15"},{task:"Legal Research - Employment Law",hours:12,rate:200,total:2400,date:"2024-01-18"},{task:"Document Preparation",hours:6,rate:250,total:1500,date:"2024-01-22"},{task:"Client Consultation",hours:4,rate:300,total:1200,date:"2024-01-25"},{task:"Court Filing Preparation",hours:5,rate:250,total:1250,date:"2024-01-28"}],upcomingCosts:[{description:"Court Filing Fees",estimatedCost:450,timeline:"Next 2 weeks"},{description:"Expert Witness Consultation",estimatedCost:1200,timeline:"Next month"},{description:"Discovery Document Review",estimatedCost:800,timeline:"Next 3 weeks"}]},d={milestones:[{name:"Initial Case Assessment",completed:!0,dueDate:"2024-01-10",description:"Complete review of case merits and initial strategy",impact:"high"},{name:"Discovery Phase",completed:!0,dueDate:"2024-01-25",description:"Gather all relevant documents and evidence",impact:"high"},{name:"Expert Witness Identification",completed:!1,dueDate:"2024-02-15",description:"Identify and retain expert witnesses",impact:"medium"},{name:"Mediation Attempt",completed:!1,dueDate:"2024-03-01",description:"Attempt resolution through mediation",impact:"high"},{name:"Trial Preparation",completed:!1,dueDate:"2024-04-01",description:"Prepare all materials for trial",impact:"high"}],riskAssessment:{level:"medium",factors:["Opposing party has strong legal representation","Some documentation gaps in evidence","Jurisdiction has mixed precedent on similar cases"],mitigation:["Engaging additional expert witnesses","Pursuing alternative dispute resolution","Strengthening documentation through discovery"]},successProbability:75,timelineAccuracy:88};s(u),i(d),o(!1)},[]);const l=u=>{switch(u){case"high":return"text-red-600 bg-red-50";case"medium":return"text-yellow-600 bg-yellow-50";case"low":return"text-green-600 bg-green-50";default:return"text-gray-600 bg-gray-50"}},c=u=>{switch(u){case"high":return"text-red-600 bg-red-50 border-red-200";case"medium":return"text-yellow-600 bg-yellow-50 border-yellow-200";case"low":return"text-green-600 bg-green-50 border-green-200";default:return"text-gray-600 bg-gray-50 border-gray-200"}};return a?n.jsx("div",{className:"p-6",children:n.jsxs("div",{className:"animate-pulse space-y-6",children:[n.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/3"}),n.jsx("div",{className:"grid grid-cols-4 gap-4",children:[1,2,3,4].map(u=>n.jsx("div",{className:"h-24 bg-gray-200 rounded"},u))})]})}):n.jsxs("div",{className:"p-6",children:[n.jsxs(_.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-8",children:[n.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[n.jsx(ws,{className:"h-8 w-8 text-blue-600"}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Transparency Dashboard"}),n.jsx("p",{className:"text-gray-600",children:"Complete visibility into your legal matter"})]})]}),n.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(yt,{className:"h-5 w-5 text-blue-600"}),n.jsx("p",{className:"text-blue-800 font-medium",children:"100% Transparent Billing & Progress Tracking"})]}),n.jsx("p",{className:"text-blue-700 text-sm mt-1",children:"Every hour, every task, every cost - fully documented and explained in real-time."})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[n.jsxs(_.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-lg border border-gray-200 p-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Investment"}),n.jsxs("p",{className:"text-3xl font-bold text-gray-900",children:["$",t==null?void 0:t.totalBilled.toLocaleString()]})]}),n.jsx(Tr,{className:"h-8 w-8 text-green-500"})]}),n.jsxs("p",{className:"text-sm text-gray-500 mt-2",children:[t==null?void 0:t.hoursLogged," hours @ avg $",t==null?void 0:t.averageRate,"/hr"]})]}),n.jsxs(_.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white rounded-lg border border-gray-200 p-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Success Probability"}),n.jsxs("p",{className:"text-3xl font-bold text-green-600",children:[r==null?void 0:r.successProbability,"%"]})]}),n.jsx(Wg,{className:"h-8 w-8 text-green-500"})]}),n.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Based on case analysis"})]}),n.jsxs(_.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white rounded-lg border border-gray-200 p-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Timeline Accuracy"}),n.jsxs("p",{className:"text-3xl font-bold text-blue-600",children:[r==null?void 0:r.timelineAccuracy,"%"]})]}),n.jsx(Ke,{className:"h-8 w-8 text-blue-500"})]}),n.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Prediction reliability"})]}),n.jsxs(_.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-white rounded-lg border border-gray-200 p-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Milestones Complete"}),n.jsxs("p",{className:"text-3xl font-bold text-purple-600",children:[r==null?void 0:r.milestones.filter(u=>u.completed).length,"/",r==null?void 0:r.milestones.length]})]}),n.jsx(Gi,{className:"h-8 w-8 text-purple-500"})]}),n.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Case progression"})]})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[n.jsxs(_.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:"bg-white rounded-lg border border-gray-200 p-6",children:[n.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[n.jsx(Tr,{className:"h-5 w-5 mr-2 text-green-500"}),"Detailed Billing Breakdown"]}),n.jsx("div",{className:"space-y-4",children:t==null?void 0:t.taskBreakdown.map((u,d)=>n.jsxs("div",{className:"border border-gray-100 rounded-lg p-4",children:[n.jsxs("div",{className:"flex justify-between items-start mb-2",children:[n.jsx("h4",{className:"font-medium text-gray-900",children:u.task}),n.jsxs("span",{className:"font-bold text-gray-900",children:["$",u.total.toLocaleString()]})]}),n.jsxs("div",{className:"flex justify-between text-sm text-gray-600",children:[n.jsxs("span",{children:[u.hours,"h  $",u.rate,"/hr"]}),n.jsx("span",{children:new Date(u.date).toLocaleDateString()})]})]},d))}),n.jsxs("div",{className:"mt-6 pt-4 border-t border-gray-200",children:[n.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Upcoming Estimated Costs"}),n.jsx("div",{className:"space-y-2",children:t==null?void 0:t.upcomingCosts.map((u,d)=>n.jsxs("div",{className:"flex justify-between items-center text-sm",children:[n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-900",children:u.description}),n.jsxs("span",{className:"text-gray-500 ml-2",children:["(",u.timeline,")"]})]}),n.jsxs("span",{className:"font-medium text-gray-900",children:["$",u.estimatedCost.toLocaleString()]})]},d))})]})]}),n.jsxs(_.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"space-y-6",children:[n.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[n.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[n.jsx(bs,{className:"h-5 w-5 mr-2 text-blue-500"}),"Case Milestones"]}),n.jsx("div",{className:"space-y-4",children:r==null?void 0:r.milestones.map((u,d)=>n.jsxs("div",{className:"flex items-start space-x-3",children:[n.jsx("div",{className:`w-4 h-4 rounded-full mt-1 ${u.completed?"bg-green-500":"bg-gray-300"}`}),n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("h4",{className:`font-medium ${u.completed?"text-gray-900":"text-gray-600"}`,children:u.name}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsxs("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${l(u.impact)}`,children:[u.impact," impact"]}),n.jsx("span",{className:"text-xs text-gray-500",children:new Date(u.dueDate).toLocaleDateString()})]})]}),n.jsx("p",{className:"text-sm text-gray-600 mt-1",children:u.description})]})]},d))})]}),n.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[n.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[n.jsx(yt,{className:"h-5 w-5 mr-2 text-orange-500"}),"Risk Assessment"]}),n.jsx("div",{className:`p-4 rounded-lg border mb-4 ${c((r==null?void 0:r.riskAssessment.level)||"medium")}`,children:n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("span",{className:"font-medium",children:"Overall Risk Level"}),n.jsx("span",{className:"font-bold uppercase",children:r==null?void 0:r.riskAssessment.level})]})}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Risk Factors"}),n.jsx("ul",{className:"space-y-1",children:r==null?void 0:r.riskAssessment.factors.map((u,d)=>n.jsxs("li",{className:"text-sm text-gray-600 flex items-start",children:[n.jsx("span",{className:"w-2 h-2 bg-orange-400 rounded-full mt-2 mr-2 flex-shrink-0"}),u]},d))})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Mitigation Strategies"}),n.jsx("ul",{className:"space-y-1",children:r==null?void 0:r.riskAssessment.mitigation.map((u,d)=>n.jsxs("li",{className:"text-sm text-gray-600 flex items-start",children:[n.jsx("span",{className:"w-2 h-2 bg-green-400 rounded-full mt-2 mr-2 flex-shrink-0"}),u]},d))})]})]})]})]})]})]})},U_=()=>{const[e,t]=N.useState([]),[s,r]=N.useState("active"),[i,a]=N.useState("all"),[o,l]=N.useState(!0);N.useEffect(()=>{t([{id:"1",type:"deadline",priority:"urgent",title:"Contract Renewal Deadline Approaching",description:"Your employment contract with ABC Corp expires in 30 days. Early renewal negotiations could secure better terms.",actionRequired:!0,dueDate:"2024-02-28",category:"Employment",impact:"high",recommendations:["Schedule renewal discussion with HR","Review current market rates for your position","Prepare list of achievements for negotiation"],relatedCase:"Employment Contract Review",dismissed:!1,createdAt:"2024-01-29"},{id:"2",type:"legal_update",priority:"high",title:"New Employment Law Changes",description:"Recent legislation affects remote work policies. Your current agreement may need updates to ensure compliance.",actionRequired:!0,category:"Employment",impact:"medium",recommendations:["Review remote work clauses in current contract","Update employee handbook if applicable","Consult on compliance requirements"],dismissed:!1,createdAt:"2024-01-28"},{id:"3",type:"opportunity",priority:"medium",title:"Intellectual Property Protection Opportunity",description:"Your recent project innovations may qualify for patent protection. Acting quickly could secure competitive advantages.",actionRequired:!1,category:"Intellectual Property",impact:"high",recommendations:["Document all innovative processes and methods","Conduct prior art search","File provisional patent application"],dismissed:!1,createdAt:"2024-01-27"},{id:"4",type:"compliance",priority:"high",title:"Data Privacy Audit Recommended",description:"Based on your business growth, a comprehensive data privacy audit would ensure GDPR/CCPA compliance.",actionRequired:!0,category:"Privacy & Compliance",impact:"high",recommendations:["Inventory all data collection practices","Review privacy policies and notices","Implement data retention schedules","Train staff on privacy requirements"],dismissed:!1,createdAt:"2024-01-26"},{id:"5",type:"market",priority:"medium",title:"Industry Merger Activity Alert",description:"Increased M&A activity in your sector. Consider reviewing shareholder agreements and exit strategies.",actionRequired:!1,category:"Corporate",impact:"medium",recommendations:["Review current shareholder agreements","Update company valuation","Prepare due diligence materials"],dismissed:!1,createdAt:"2024-01-25"}]),l(!1)},[]);const c=w=>{t(g=>g.map(m=>m.id===w?{...m,dismissed:!0}:m))},u=w=>{t(g=>g.map(m=>m.id===w?{...m,dismissed:!1}:m))},d=w=>{switch(w){case"deadline":return n.jsx(We,{className:"h-5 w-5"});case"opportunity":return n.jsx(bs,{className:"h-5 w-5"});case"risk":return n.jsx(Nn,{className:"h-5 w-5"});case"compliance":return n.jsx(yt,{className:"h-5 w-5"});case"market":return n.jsx(bs,{className:"h-5 w-5"});case"legal_update":return n.jsx(sn,{className:"h-5 w-5"});default:return n.jsx(sn,{className:"h-5 w-5"})}},h=w=>{switch(w){case"deadline":return"text-red-600 bg-red-50";case"opportunity":return"text-green-600 bg-green-50";case"risk":return"text-orange-600 bg-orange-50";case"compliance":return"text-blue-600 bg-blue-50";case"market":return"text-purple-600 bg-purple-50";case"legal_update":return"text-indigo-600 bg-indigo-50";default:return"text-gray-600 bg-gray-50"}},f=w=>{switch(w){case"urgent":return"text-red-700 bg-red-100 border-red-300";case"high":return"text-orange-700 bg-orange-100 border-orange-300";case"medium":return"text-yellow-700 bg-yellow-100 border-yellow-300";case"low":return"text-green-700 bg-green-100 border-green-300";default:return"text-gray-700 bg-gray-100 border-gray-300"}},x=w=>{switch(w){case"high":return"text-red-600";case"medium":return"text-yellow-600";case"low":return"text-green-600";default:return"text-gray-600"}},y=e.filter(w=>{const g=s==="all"||s==="active"&&!w.dismissed||s==="dismissed"&&w.dismissed,m=i==="all"||w.priority===i;return g&&m}),j={total:e.length,active:e.filter(w=>!w.dismissed).length,urgent:e.filter(w=>w.priority==="urgent"&&!w.dismissed).length,actionRequired:e.filter(w=>w.actionRequired&&!w.dismissed).length};return o?n.jsx("div",{className:"p-6",children:n.jsxs("div",{className:"animate-pulse space-y-4",children:[n.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/3"}),n.jsx("div",{className:"space-y-3",children:[1,2,3].map(w=>n.jsx("div",{className:"h-24 bg-gray-200 rounded"},w))})]})}):n.jsxs("div",{className:"p-6",children:[n.jsxs(_.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-8",children:[n.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[n.jsx(hi,{className:"h-8 w-8 text-yellow-500"}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Proactive Legal Alerts"}),n.jsx("p",{className:"text-gray-600",children:"AI-powered insights to keep you ahead of legal issues"})]})]}),n.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(hi,{className:"h-5 w-5 text-yellow-600"}),n.jsx("p",{className:"text-yellow-800 font-medium",children:"Proactive Legal Intelligence"})]}),n.jsx("p",{className:"text-yellow-700 text-sm mt-1",children:"Our AI continuously monitors legal developments, deadlines, and opportunities relevant to your matters."})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[n.jsx(_.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-lg border border-gray-200 p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Alerts"}),n.jsx("p",{className:"text-3xl font-bold text-gray-900",children:j.total})]}),n.jsx(sn,{className:"h-8 w-8 text-blue-500"})]})}),n.jsx(_.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white rounded-lg border border-gray-200 p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Active Alerts"}),n.jsx("p",{className:"text-3xl font-bold text-blue-600",children:j.active})]}),n.jsx(vs,{className:"h-8 w-8 text-blue-500"})]})}),n.jsx(_.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white rounded-lg border border-gray-200 p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Urgent"}),n.jsx("p",{className:"text-3xl font-bold text-red-600",children:j.urgent})]}),n.jsx(Nn,{className:"h-8 w-8 text-red-500"})]})}),n.jsx(_.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-white rounded-lg border border-gray-200 p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Action Required"}),n.jsx("p",{className:"text-3xl font-bold text-orange-600",children:j.actionRequired})]}),n.jsx(hi,{className:"h-8 w-8 text-orange-500"})]})})]}),n.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-6",children:[n.jsx("div",{className:"flex space-x-2",children:["active","dismissed","all"].map(w=>n.jsx(_.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>r(w),className:`px-4 py-2 rounded-lg font-medium transition-colors ${s===w?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:w.charAt(0).toUpperCase()+w.slice(1)},w))}),n.jsxs("select",{value:i,onChange:w=>a(w.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[n.jsx("option",{value:"all",children:"All Priorities"}),n.jsx("option",{value:"urgent",children:"Urgent"}),n.jsx("option",{value:"high",children:"High"}),n.jsx("option",{value:"medium",children:"Medium"}),n.jsx("option",{value:"low",children:"Low"})]})]}),n.jsx("div",{className:"space-y-4",children:n.jsx(Mr,{children:y.map((w,g)=>n.jsx(_.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{delay:g*.1},className:`bg-white rounded-lg border-2 p-6 hover:shadow-md transition-all ${w.priority==="urgent"?"border-red-300":"border-gray-200"} ${w.dismissed?"opacity-60":""}`,children:n.jsxs("div",{className:"flex items-start justify-between mb-4",children:[n.jsxs("div",{className:"flex items-start space-x-4",children:[n.jsx("div",{className:`p-2 rounded-lg ${h(w.type)}`,children:d(w.type)}),n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[n.jsx("h3",{className:"font-semibold text-gray-900",children:w.title}),n.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium border ${f(w.priority)}`,children:w.priority.toUpperCase()}),w.actionRequired&&n.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-medium bg-orange-100 text-orange-800",children:"Action Required"})]}),n.jsx("p",{className:"text-gray-600 mb-3",children:w.description}),n.jsxs("div",{className:"flex items-center space-x-6 text-sm text-gray-500 mb-4",children:[n.jsxs("span",{children:["Category: ",w.category]}),n.jsxs("span",{className:`font-medium ${x(w.impact)}`,children:[w.impact.charAt(0).toUpperCase()+w.impact.slice(1)," Impact"]}),w.dueDate&&n.jsxs("span",{children:["Due: ",new Date(w.dueDate).toLocaleDateString()]}),w.relatedCase&&n.jsxs("span",{children:["Case: ",w.relatedCase]})]}),w.recommendations.length>0&&n.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[n.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Recommended Actions:"}),n.jsx("ul",{className:"space-y-1",children:w.recommendations.map((m,p)=>n.jsxs("li",{className:"text-sm text-gray-600 flex items-start",children:[n.jsx("span",{className:"w-2 h-2 bg-blue-400 rounded-full mt-2 mr-2 flex-shrink-0"}),m]},p))})]})]})]}),n.jsx("div",{className:"flex space-x-2",children:w.dismissed?n.jsx(_.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>u(w.id),className:"px-3 py-1 bg-blue-100 text-blue-700 rounded text-sm hover:bg-blue-200 transition-colors",children:"Restore"}):n.jsx(_.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>c(w.id),className:"p-2 text-gray-400 hover:text-gray-600 transition-colors",title:"Dismiss alert",children:n.jsx(ts,{className:"h-4 w-4"})})})]})},w.id))})}),y.length===0&&n.jsxs(_.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center py-12",children:[n.jsx(sn,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No alerts found"}),n.jsx("p",{className:"text-gray-500",children:s==="dismissed"?"No dismissed alerts to show":"All caught up! No active alerts at this time."})]})]})},B_=()=>{const[e,t]=N.useState("resources"),[s,r]=N.useState("all"),i=[{id:"1",title:"Understanding Employment Contracts: A Complete Guide",type:"guide",category:"employment",description:"Comprehensive guide to understanding your rights and obligations in employment contracts.",readTime:15,difficulty:"beginner",tags:["contracts","employment","rights"],featured:!0},{id:"2",title:"Intellectual Property Protection for Startups",type:"article",category:"ip",description:"Essential strategies for protecting your intellectual property as a startup.",readTime:8,difficulty:"intermediate",tags:["ip","startups","protection"],featured:!0},{id:"3",title:"Contract Review Checklist Template",type:"template",category:"contracts",description:"Downloadable checklist for reviewing business contracts.",readTime:5,difficulty:"beginner",tags:["contracts","checklist","business"],featured:!1},{id:"4",title:"Navigating Corporate Compliance in 2024",type:"webinar",category:"compliance",description:"Live webinar covering the latest compliance requirements for businesses.",readTime:60,difficulty:"advanced",tags:["compliance","corporate","2024"],featured:!0}],a=[{id:"1",title:"Legal Tech Innovation Summit",date:"2024-02-15",time:"2:00 PM EST",type:"seminar",description:"Explore the latest innovations in legal technology and their impact on the industry.",speakers:["Sarah Johnson, Legal Tech Expert","Michael Chen, AI Researcher"],capacity:100,registered:67},{id:"2",title:"Small Business Legal Workshop",date:"2024-02-20",time:"10:00 AM EST",type:"workshop",description:"Interactive workshop covering essential legal considerations for small businesses.",speakers:["Attorney Smith","Business Consultant Davis"],capacity:50,registered:23},{id:"3",title:"Client Networking Mixer",date:"2024-02-25",time:"6:00 PM EST",type:"networking",description:"Casual networking event for clients to connect and share experiences.",speakers:["Various Industry Leaders"],capacity:75,registered:45}],o=[{value:"all",label:"All Categories"},{value:"employment",label:"Employment Law"},{value:"contracts",label:"Contracts"},{value:"ip",label:"Intellectual Property"},{value:"compliance",label:"Compliance"},{value:"business",label:"Business Law"}],l=y=>{switch(y){case"article":return n.jsx(pe,{className:"h-4 w-4"});case"guide":return n.jsx(qf,{className:"h-4 w-4"});case"template":return n.jsx(pe,{className:"h-4 w-4"});case"webinar":return n.jsx(We,{className:"h-4 w-4"});default:return n.jsx(pe,{className:"h-4 w-4"})}},c=y=>{switch(y){case"beginner":return"text-green-600 bg-green-50";case"intermediate":return"text-yellow-600 bg-yellow-50";case"advanced":return"text-red-600 bg-red-50";default:return"text-gray-600 bg-gray-50"}},u=y=>{switch(y){case"webinar":return"text-blue-600 bg-blue-50";case"workshop":return"text-green-600 bg-green-50";case"networking":return"text-purple-600 bg-purple-50";case"seminar":return"text-orange-600 bg-orange-50";default:return"text-gray-600 bg-gray-50"}},d=i.filter(y=>s==="all"||y.category===s),h=()=>n.jsxs("div",{className:"space-y-6",children:[n.jsx("div",{className:"flex flex-wrap gap-2",children:o.map(y=>n.jsx(_.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>r(y.value),className:`px-4 py-2 rounded-lg font-medium transition-colors ${s===y.value?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:y.label},y.value))}),n.jsxs("div",{children:[n.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[n.jsx(s2,{className:"h-5 w-5 mr-2 text-yellow-500"}),"Featured Resources"]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:d.filter(y=>y.featured).map(y=>n.jsxs(_.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-gradient-to-br from-blue-50 to-purple-50 rounded-lg border border-blue-200 p-6 hover:shadow-md transition-shadow",children:[n.jsxs("div",{className:"flex items-start justify-between mb-3",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[l(y.type),n.jsx("span",{className:"text-sm font-medium text-blue-600 capitalize",children:y.type})]}),n.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${c(y.difficulty)}`,children:y.difficulty})]}),n.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:y.title}),n.jsx("p",{className:"text-sm text-gray-600 mb-3",children:y.description}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-4 text-xs text-gray-500",children:[n.jsxs("span",{children:[y.readTime," min read"]}),n.jsx("span",{children:""}),n.jsx("span",{children:y.tags.join(", ")})]}),n.jsx(_.button,{whileHover:{scale:1.02},whileTap:{scale:.98},className:"bg-blue-600 text-white px-4 py-2 rounded-lg text-sm font-medium hover:bg-blue-700 transition-colors",children:"Access"})]})]},y.id))})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"All Resources"}),n.jsx("div",{className:"space-y-4",children:d.map(y=>n.jsx(_.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-lg border border-gray-200 p-6 hover:shadow-md transition-shadow",children:n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[l(y.type),n.jsx("span",{className:"text-sm font-medium text-gray-600 capitalize",children:y.type})]}),n.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${c(y.difficulty)}`,children:y.difficulty}),y.featured&&n.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800",children:"Featured"})]}),n.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:y.title}),n.jsx("p",{className:"text-sm text-gray-600 mb-3",children:y.description}),n.jsxs("div",{className:"flex items-center space-x-4 text-xs text-gray-500",children:[n.jsxs("span",{children:[y.readTime," min read"]}),n.jsx("span",{children:""}),n.jsx("span",{children:y.tags.join(", ")})]})]}),n.jsx(_.button,{whileHover:{scale:1.02},whileTap:{scale:.98},className:"bg-blue-600 text-white px-4 py-2 rounded-lg text-sm font-medium hover:bg-blue-700 transition-colors ml-4",children:"Access"})]})},y.id))})]})]}),f=()=>n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-pink-50 rounded-lg border border-purple-200 p-6",children:[n.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[n.jsx(js,{className:"h-6 w-6 text-purple-600"}),n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Exclusive Client Events"})]}),n.jsx("p",{className:"text-gray-600",children:"Join our exclusive events designed to educate, connect, and empower our clients. Network with fellow entrepreneurs and learn from industry experts."})]}),n.jsx("div",{className:"grid gap-6",children:a.map(y=>n.jsxs(_.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-lg border border-gray-200 p-6 hover:shadow-md transition-shadow",children:[n.jsxs("div",{className:"flex items-start justify-between mb-4",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[n.jsx("h4",{className:"text-lg font-semibold text-gray-900",children:y.title}),n.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${u(y.type)}`,children:y.type})]}),n.jsxs("div",{className:"flex items-center space-x-6 text-sm text-gray-600 mb-3",children:[n.jsxs("div",{className:"flex items-center space-x-1",children:[n.jsx(We,{className:"h-4 w-4"}),n.jsx("span",{children:new Date(y.date).toLocaleDateString()})]}),n.jsx("span",{children:y.time}),n.jsxs("span",{children:[y.registered,"/",y.capacity," registered"]})]}),n.jsx("p",{className:"text-gray-600 mb-3",children:y.description}),n.jsxs("div",{className:"text-sm text-gray-600",children:[n.jsx("strong",{children:"Speakers:"})," ",y.speakers.join(", ")]})]}),n.jsxs("div",{className:"ml-6 text-center",children:[n.jsxs("div",{className:"mb-3",children:[n.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mb-2",children:n.jsx("span",{className:"text-2xl font-bold text-blue-600",children:new Date(y.date).getDate()})}),n.jsx("span",{className:"text-xs text-gray-500",children:new Date(y.date).toLocaleDateString("en-US",{month:"short"})})]}),n.jsx(_.button,{whileHover:{scale:1.02},whileTap:{scale:.98},className:"bg-blue-600 text-white px-4 py-2 rounded-lg text-sm font-medium hover:bg-blue-700 transition-colors",children:"Register"})]})]}),n.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-sm text-gray-600",children:"Registration Progress"}),n.jsxs("span",{className:"text-sm font-medium text-gray-900",children:[Math.round(y.registered/y.capacity*100),"% full"]})]}),n.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 mt-2",children:n.jsx("div",{className:"bg-blue-500 h-2 rounded-full transition-all duration-500",style:{width:`${y.registered/y.capacity*100}%`}})})]})]},y.id))})]}),x=[{id:"resources",label:"Legal Resources",icon:qf},{id:"events",label:"Client Events",icon:js},{id:"insights",label:"Market Insights",icon:bs},{id:"tools",label:"Business Tools",icon:di}];return n.jsxs("div",{className:"p-6",children:[n.jsxs(_.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-8",children:[n.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[n.jsx(Gi,{className:"h-8 w-8 text-purple-600"}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Value-Added Services"}),n.jsx("p",{className:"text-gray-600",children:"Exclusive resources and opportunities for our clients"})]})]}),n.jsxs("div",{className:"bg-purple-50 border border-purple-200 rounded-lg p-4",children:[n.jsx("p",{className:"text-purple-800 font-medium",children:" Beyond Legal Services: Education, Networking & Business Growth"}),n.jsx("p",{className:"text-purple-700 text-sm mt-1",children:"Access exclusive content, connect with fellow entrepreneurs, and grow your business with our comprehensive support ecosystem."})]})]}),n.jsx("div",{className:"mb-6",children:n.jsx("nav",{className:"flex space-x-1 bg-gray-100 p-1 rounded-lg",children:x.map(y=>{const j=y.icon;return n.jsxs(_.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>t(y.id),className:`flex items-center space-x-2 px-4 py-2 rounded-lg font-medium transition-colors ${e===y.id?"bg-white text-purple-600 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:[n.jsx(j,{className:"h-4 w-4"}),n.jsx("span",{children:y.label})]},y.id)})})}),n.jsxs(_.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.3},children:[e==="resources"&&h(),e==="events"&&f(),e==="insights"&&n.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-8 text-center",children:[n.jsx(bs,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Market Insights Coming Soon"}),n.jsx("p",{className:"text-gray-500",children:"Industry trends, market analysis, and strategic insights will be available here."})]}),e==="tools"&&n.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-8 text-center",children:[n.jsx(di,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Business Tools Coming Soon"}),n.jsx("p",{className:"text-gray-500",children:"Exclusive business tools and calculators will be available here."})]})]},e)]})},z_=({isOpen:e,onClose:t,onUserCreated:s})=>{const[r,i]=N.useState(!1),[a,o]=N.useState(!1),[l,c]=N.useState({firstName:"",lastName:"",email:"",phone:"",address:"",role:"client",department:"",barNumber:"",specializations:"",hourlyRate:""}),u=async f=>{f.preventDefault(),i(!0);try{const{data:x,error:y}=await Z.auth.admin.createUser({email:l.email,password:"TempPassword123!",email_confirm:!0});if(y)throw y;if(x.user){const j={user_id:x.user.id,role:l.role,first_name:l.firstName,last_name:l.lastName,email:l.email,phone:l.phone||null,address:l.address||null,department:l.department||null,bar_number:l.barNumber||null,specializations:l.specializations?l.specializations.split(",").map(m=>m.trim()):null,hourly_rate:l.hourlyRate?parseFloat(l.hourlyRate):null,is_active:!0},{data:w,error:g}=await Z.from("user_profiles").insert(j).select().single();if(g)throw g;s(w),o(!0),setTimeout(()=>{o(!1),t(),d()},2e3)}}catch(x){console.error("Error creating user:",x)}finally{i(!1)}},d=()=>{c({firstName:"",lastName:"",email:"",phone:"",address:"",role:"client",department:"",barNumber:"",specializations:"",hourlyRate:""})},h=["admin","attorney","paralegal"].includes(l.role);return n.jsx(Mr,{children:e&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:n.jsxs(_.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-white rounded-lg shadow-xl w-full max-w-2xl max-h-[90vh] overflow-hidden",children:[n.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(mn,{className:"h-6 w-6 text-blue-600"}),n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Create New User"})]}),n.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 transition-colors",children:n.jsx(ts,{className:"h-5 w-5"})})]}),a?n.jsxs("div",{className:"p-6 text-center",children:[n.jsx("div",{className:"bg-green-100 rounded-full w-16 h-16 flex items-center justify-center mx-auto mb-4",children:n.jsx(mn,{className:"h-8 w-8 text-green-600"})}),n.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-2",children:"User Created!"}),n.jsx("p",{className:"text-gray-600",children:"The user has been created successfully. They will receive an email to set up their password."})]}):n.jsxs("form",{onSubmit:u,className:"p-6 overflow-y-auto max-h-[calc(90vh-140px)] space-y-6",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium text-gray-900 mb-4",children:"Basic Information"}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"First Name *"}),n.jsxs("div",{className:"relative",children:[n.jsx(dt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),n.jsx("input",{type:"text",required:!0,value:l.firstName,onChange:f=>c({...l,firstName:f.target.value}),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"First name"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Last Name *"}),n.jsxs("div",{className:"relative",children:[n.jsx(dt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),n.jsx("input",{type:"text",required:!0,value:l.lastName,onChange:f=>c({...l,lastName:f.target.value}),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Last name"})]})]})]})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium text-gray-900 mb-4",children:"Contact Information"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address *"}),n.jsxs("div",{className:"relative",children:[n.jsx(Js,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),n.jsx("input",{type:"email",required:!0,value:l.email,onChange:f=>c({...l,email:f.target.value}),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"email@example.com"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number"}),n.jsxs("div",{className:"relative",children:[n.jsx(br,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),n.jsx("input",{type:"tel",value:l.phone,onChange:f=>c({...l,phone:f.target.value}),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"(555) 123-4567"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Address"}),n.jsxs("div",{className:"relative",children:[n.jsx(Pd,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),n.jsx("input",{type:"text",value:l.address,onChange:f=>c({...l,address:f.target.value}),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"123 Main St, City, State 12345"})]})]})]})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium text-gray-900 mb-4",children:"Role & Professional Information"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Role *"}),n.jsxs("div",{className:"relative",children:[n.jsx(yt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),n.jsxs("select",{required:!0,value:l.role,onChange:f=>c({...l,role:f.target.value}),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[n.jsx("option",{value:"client",children:"Client"}),n.jsx("option",{value:"paralegal",children:"Paralegal"}),n.jsx("option",{value:"attorney",children:"Attorney"}),n.jsx("option",{value:"admin",children:"Admin"})]})]})]}),h&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Department"}),n.jsx("input",{type:"text",value:l.department,onChange:f=>c({...l,department:f.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"e.g., Corporate Law, Litigation"})]}),l.role==="attorney"&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Bar Number"}),n.jsx("input",{type:"text",value:l.barNumber,onChange:f=>c({...l,barNumber:f.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Bar admission number"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Specializations"}),n.jsx("input",{type:"text",value:l.specializations,onChange:f=>c({...l,specializations:f.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Corporate Law, Employment Law (comma separated)"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Hourly Rate ($)"}),n.jsx("input",{type:"number",step:"0.01",value:l.hourlyRate,onChange:f=>c({...l,hourlyRate:f.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"250.00"})]})]})]})]}),n.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:n.jsxs("p",{className:"text-sm text-yellow-800",children:[n.jsx("strong",{children:"Note:"})," The user will be created with a temporary password and will receive an email to set up their own password."]})}),n.jsxs("div",{className:"flex space-x-3 pt-4",children:[n.jsx("button",{type:"button",onClick:t,className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),n.jsxs(_.button,{whileHover:{scale:1.02},whileTap:{scale:.98},type:"submit",disabled:r,className:"flex-1 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center space-x-2",children:[n.jsx(mn,{className:"h-4 w-4"}),n.jsx("span",{children:r?"Creating...":"Create User"})]})]})]})]})})})},H_=()=>{const{isAdmin:e}=Xd(),[t,s]=N.useState([]),[r,i]=N.useState(!0),[a,o]=N.useState(""),[l,c]=N.useState("all"),[u,d]=N.useState(!1);N.useEffect(()=>{e()&&h()},[e]);const h=async()=>{try{const{data:g,error:m}=await Z.from("user_profiles").select("*").order("created_at",{ascending:!1});m?console.error("Error fetching users:",m):s(g||[])}catch(g){console.error("Error fetching users:",g)}finally{i(!1)}},f=g=>{s(m=>[g,...m])},x=async(g,m)=>{try{const{error:p}=await Z.from("user_profiles").update({is_active:!m}).eq("id",g);p?console.error("Error updating user status:",p):s(v=>v.map(b=>b.id===g?{...b,is_active:!m}:b))}catch(p){console.error("Error updating user status:",p)}},y=g=>{switch(g){case"admin":return"text-purple-600 bg-purple-50 border-purple-200";case"attorney":return"text-blue-600 bg-blue-50 border-blue-200";case"paralegal":return"text-green-600 bg-green-50 border-green-200";case"client":return"text-gray-600 bg-gray-50 border-gray-200";default:return"text-gray-600 bg-gray-50 border-gray-200"}},j=t.filter(g=>{const m=g.first_name.toLowerCase().includes(a.toLowerCase())||g.last_name.toLowerCase().includes(a.toLowerCase())||g.email.toLowerCase().includes(a.toLowerCase()),p=l==="all"||g.role===l;return m&&p}),w={total:t.length,active:t.filter(g=>g.is_active).length,admins:t.filter(g=>g.role==="admin").length,attorneys:t.filter(g=>g.role==="attorney").length,paralegals:t.filter(g=>g.role==="paralegal").length,clients:t.filter(g=>g.role==="client").length};return e()?r?n.jsx("div",{className:"p-6",children:n.jsxs("div",{className:"animate-pulse space-y-4",children:[n.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/4"}),n.jsx("div",{className:"space-y-3",children:[1,2,3].map(g=>n.jsx("div",{className:"h-20 bg-gray-200 rounded"},g))})]})}):n.jsxs("div",{className:"p-6",children:[n.jsxs(_.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-8",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"User Management"}),n.jsx("p",{className:"text-gray-600 mt-1",children:"Manage firm users and their permissions"})]}),n.jsxs(_.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>d(!0),className:"bg-blue-900 text-white px-4 py-2 rounded-lg font-medium hover:bg-blue-800 transition-colors flex items-center space-x-2",children:[n.jsx(mn,{className:"h-4 w-4"}),n.jsx("span",{children:"Add User"})]})]}),n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-6 gap-4 mb-6",children:[n.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:"text-2xl font-bold text-gray-900",children:w.total}),n.jsx("p",{className:"text-sm text-gray-600",children:"Total Users"})]})}),n.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:"text-2xl font-bold text-green-600",children:w.active}),n.jsx("p",{className:"text-sm text-gray-600",children:"Active"})]})}),n.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:"text-2xl font-bold text-purple-600",children:w.admins}),n.jsx("p",{className:"text-sm text-gray-600",children:"Admins"})]})}),n.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:"text-2xl font-bold text-blue-600",children:w.attorneys}),n.jsx("p",{className:"text-sm text-gray-600",children:"Attorneys"})]})}),n.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:"text-2xl font-bold text-green-600",children:w.paralegals}),n.jsx("p",{className:"text-sm text-gray-600",children:"Paralegals"})]})}),n.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:"text-2xl font-bold text-gray-600",children:w.clients}),n.jsx("p",{className:"text-sm text-gray-600",children:"Clients"})]})})]}),n.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-6",children:[n.jsxs("div",{className:"relative flex-1",children:[n.jsx(Dr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),n.jsx("input",{type:"text",placeholder:"Search users...",value:a,onChange:g=>o(g.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),n.jsxs("div",{className:"relative",children:[n.jsx(Zo,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),n.jsxs("select",{value:l,onChange:g=>c(g.target.value),className:"pl-10 pr-8 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white",children:[n.jsx("option",{value:"all",children:"All Roles"}),n.jsx("option",{value:"admin",children:"Admin"}),n.jsx("option",{value:"attorney",children:"Attorney"}),n.jsx("option",{value:"paralegal",children:"Paralegal"}),n.jsx("option",{value:"client",children:"Client"})]})]})]})]}),n.jsx("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:n.jsxs("tr",{children:[n.jsx("th",{className:"text-left py-3 px-6 font-medium text-gray-900",children:"User"}),n.jsx("th",{className:"text-left py-3 px-6 font-medium text-gray-900",children:"Role"}),n.jsx("th",{className:"text-left py-3 px-6 font-medium text-gray-900",children:"Contact"}),n.jsx("th",{className:"text-left py-3 px-6 font-medium text-gray-900",children:"Status"}),n.jsx("th",{className:"text-left py-3 px-6 font-medium text-gray-900",children:"Created"}),n.jsx("th",{className:"text-left py-3 px-6 font-medium text-gray-900",children:"Actions"})]})}),n.jsx("tbody",{children:j.map((g,m)=>n.jsxs(_.tr,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:m*.1},className:"border-b border-gray-100 hover:bg-gray-50",children:[n.jsx("td",{className:"py-4 px-6",children:n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"w-10 h-10 bg-blue-500 rounded-full flex items-center justify-center",children:n.jsxs("span",{className:"text-white font-medium",children:[g.first_name[0],g.last_name[0]]})}),n.jsxs("div",{children:[n.jsxs("p",{className:"font-medium text-gray-900",children:[g.first_name," ",g.last_name]}),g.department&&n.jsx("p",{className:"text-sm text-gray-500",children:g.department}),g.specializations&&g.specializations.length>0&&n.jsxs("p",{className:"text-xs text-blue-600",children:[g.specializations.slice(0,2).join(", "),g.specializations.length>2&&"..."]})]})]})}),n.jsx("td",{className:"py-4 px-6",children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium border ${y(g.role)}`,children:g.role.charAt(0).toUpperCase()+g.role.slice(1)}),g.bar_number&&n.jsxs("span",{className:"px-2 py-1 rounded-full text-xs font-medium bg-purple-100 text-purple-800",children:[n.jsx(Gi,{className:"h-3 w-3 inline mr-1"}),"Licensed"]})]})}),n.jsx("td",{className:"py-4 px-6",children:n.jsxs("div",{className:"space-y-1",children:[n.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[n.jsx(Js,{className:"h-3 w-3"}),n.jsx("span",{className:"truncate max-w-[200px]",children:g.email})]}),g.phone&&n.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[n.jsx(br,{className:"h-3 w-3"}),n.jsx("span",{children:g.phone})]}),g.hourly_rate&&n.jsxs("div",{className:"flex items-center space-x-2 text-sm text-green-600",children:[n.jsx(Tr,{className:"h-3 w-3"}),n.jsxs("span",{children:["$",g.hourly_rate,"/hr"]})]})]})}),n.jsx("td",{className:"py-4 px-6",children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${g.is_active?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:g.is_active?"Active":"Inactive"}),g.role==="client"&&n.jsxs("span",{className:"px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:[n.jsx(B1,{className:"h-3 w-3 inline mr-1"}),"Client"]})]})}),n.jsx("td",{className:"py-4 px-6",children:n.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[n.jsx(We,{className:"h-3 w-3"}),n.jsxs("div",{children:[n.jsx("div",{children:new Date(g.created_at).toLocaleDateString()}),n.jsx("div",{className:"text-xs text-gray-400",children:new Date(g.created_at).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})]})}),n.jsx("td",{className:"py-4 px-6",children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(_.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"p-1 text-blue-600 hover:text-blue-800 transition-colors",children:n.jsx(e2,{className:"h-4 w-4"})}),n.jsx(_.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>x(g.id,g.is_active),className:`p-1 transition-colors ${g.is_active?"text-red-600 hover:text-red-800":"text-green-600 hover:text-green-800"}`,children:n.jsx(yt,{className:"h-4 w-4"})})]})})]},g.id))})]})})}),j.length===0&&n.jsxs("div",{className:"text-center py-12",children:[n.jsx(mn,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No users found"}),n.jsx("p",{className:"text-gray-500",children:a||l!=="all"?"Try adjusting your search or filter criteria":"Add your first user to get started"})]}),n.jsx(z_,{isOpen:u,onClose:()=>d(!1),onUserCreated:f})]}):n.jsx("div",{className:"p-6",children:n.jsxs("div",{className:"text-center py-12",children:[n.jsx(yt,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Access Denied"}),n.jsx("p",{className:"text-gray-500",children:"You don't have permission to access user management."})]})})},q_=()=>{const[e,t]=N.useState("dashboard"),{loading:s}=tt();if(console.log("ClientPortal render - loading:",s),s)return n.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-900 mx-auto mb-2"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Loading portal..."})]})});const r=()=>{switch(e){case"dashboard":return n.jsx(Jm,{});case"cases":return n.jsx(T_,{});case"clients":return n.jsx("div",{className:"p-6",children:n.jsx("h1",{className:"text-2xl font-bold",children:"Client Management - Coming Soon"})});case"messages":return n.jsx(P_,{});case"documents":return n.jsx(E_,{});case"billing":return n.jsx(R_,{});case"tasks":return n.jsx(M_,{});case"video":return n.jsx(O_,{});case"calendar":return n.jsx("div",{className:"p-6",children:n.jsx("h1",{className:"text-2xl font-bold",children:"Calendar - Coming Soon"})});case"time-tracking":return n.jsx("div",{className:"p-6",children:n.jsx("h1",{className:"text-2xl font-bold",children:"Time Tracking - Coming Soon"})});case"reports":return n.jsx("div",{className:"p-6",children:n.jsx("h1",{className:"text-2xl font-bold",children:"Reports - Coming Soon"})});case"analytics":return n.jsx(V_,{});case"transparency":return n.jsx(F_,{});case"proactive":return n.jsx(U_,{});case"value-added":return n.jsx(B_,{});case"ai":return n.jsx($_,{});case"user-management":return n.jsx(H_,{});case"firm-settings":return n.jsx("div",{className:"p-6",children:n.jsx("h1",{className:"text-2xl font-bold",children:"Firm Settings - Coming Soon"})});case"settings":return n.jsx(A_,{});case"security":return n.jsx(D_,{});default:return n.jsx(Jm,{})}};return n.jsxs("div",{className:"min-h-screen bg-gray-50",children:[n.jsx(k_,{}),n.jsxs("div",{className:"flex h-[calc(100vh-80px)]",children:[n.jsx(__,{activeTab:e,setActiveTab:t}),n.jsx(_.main,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.3},className:"flex-1 overflow-auto",children:r()},e)]})]})},W_=()=>{const{user:e,loading:t}=tt();return console.log("App render - loading:",t,"user:",e?"exists":"null","configured:",!0),t?n.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-gray-50 flex items-center justify-center",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-900 mx-auto mb-4"}),n.jsx("p",{className:"text-gray-600",children:"Loading..."}),n.jsx("p",{className:"text-xs text-gray-400 mt-2",children:"Initializing secure connection..."})]})}):e?n.jsx(q_,{}):n.jsx(S_,{})};function K_(){return n.jsx(g1,{children:n.jsx(W_,{})})}ug(document.getElementById("root")).render(n.jsx(N.StrictMode,{children:n.jsx(K_,{})}));
